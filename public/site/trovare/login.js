!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=oe.type(e);return"function"===i||oe.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(oe.isFunction(t))return oe.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return oe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(he.test(t))return oe.filter(t,e,i);t=oe.filter(t,e)}return oe.grep(e,function(e){return oe.inArray(e,t)>=0!==i})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=_e[e]={};return oe.each(e.match(be)||[],function(e,i){t[i]=!0}),t}function a(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(fe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(a(),oe.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Se,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ke.test(i)?oe.parseJSON(i):i}catch(o){}oe.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!oe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,i,n){if(oe.acceptData(e)){var o,r,a=oe.expando,s=e.nodeType,l=s?oe.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=s?e[a]=G.pop()||oe.guid++:a),l[c]||(l[c]=s?{}:{toJSON:oe.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[c]=oe.extend(l[c],t):l[c].data=oe.extend(l[c].data,t)),r=l[c],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[oe.camelCase(t)]=i),"string"==typeof t?(o=r[t],null==o&&(o=r[oe.camelCase(t)])):o=r,o}}function u(e,t,i){if(oe.acceptData(e)){var n,o,r=e.nodeType,a=r?oe.cache:e,s=r?e[oe.expando]:oe.expando;if(a[s]){if(t&&(n=i?a[s]:a[s].data)){oe.isArray(t)?t=t.concat(oe.map(t,oe.camelCase)):t in n?t=[t]:(t=oe.camelCase(t),t=t in n?[t]:t.split(" ")),o=t.length;for(;o--;)delete n[t[o]];if(i?!c(n):!oe.isEmptyObject(n))return}(i||(delete a[s].data,c(a[s])))&&(r?oe.cleanData([e],!0):ie.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(e){}}function m(e){var t=Oe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,n,o=0,r=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[o]);o++)!t||oe.nodeName(n,t)?r.push(n):oe.merge(r,g(n,t));return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],r):r}function v(e){Ee.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==oe.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var i,n=0;null!=(i=e[n]);n++)oe._data(i,"globalEval",!t||oe._data(t[n],"globalEval"))}function x(e,t){if(1===t.nodeType&&oe.hasData(e)){var i,n,o,r=oe._data(e),a=oe._data(t,r),s=r.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,o=s[i].length;o>n;n++)oe.event.add(t,i,s[i][n])}a.data&&(a.data=oe.extend({},a.data))}}function C(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[oe.expando]){o=oe._data(t);for(n in o.events)oe.removeEvent(t,n,o.handle);t.removeAttribute(oe.expando)}"script"===i&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!oe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ee.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function k(t,i){var n,o=oe(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(o[0]))?n.display:oe.css(o[0],"display");return o.detach(),r}function S(e){var t=fe,i=Ze[e];return i||(i=k(e,t),"none"!==i&&i||(Je=(Je||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Je[0].contentWindow||Je[0].contentDocument).document,t.write(),t.close(),i=k(e,t),Je.detach()),Ze[e]=i),i}function T(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,o=ht.length;o--;)if(t=ht[o]+i,t in e)return t;return n}function A(e,t){for(var i,n,o,r=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(r[a]=oe._data(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Ae(n)&&(r[a]=oe._data(n,"olddisplay",S(n.nodeName)))):(o=Ae(n),(i&&"none"!==i||!o)&&oe._data(n,"olddisplay",o?i:oe.css(n,"display"))));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function P(e,t,i){var n=lt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function E(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=oe.css(e,i+De[r],!0,o)),n?("content"===i&&(a-=oe.css(e,"padding"+De[r],!0,o)),"margin"!==i&&(a-=oe.css(e,"border"+De[r]+"Width",!0,o))):(a+=oe.css(e,"padding"+De[r],!0,o),"padding"!==i&&(a+=oe.css(e,"border"+De[r]+"Width",!0,o)));return a}function I(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=et(e),a=ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=tt(e,t,r),(0>o||null==o)&&(o=e.style[t]),nt.test(o))return o;n=a&&(ie.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+E(e,t,i||(a?"border":"content"),n,r)+"px"}function M(e,t,i,n,o){return new M.prototype.init(e,t,i,n,o)}function L(){return setTimeout(function(){pt=void 0}),pt=oe.now()}function $(e,t){var i,n={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i=De[o],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function F(e,t,i){for(var n,o=(bt[t]||[]).concat(bt["*"]),r=0,a=o.length;a>r;r++)if(n=o[r].call(i,t,e))return n}function O(e,t,i){var n,o,r,a,s,l,c,d,u=this,h={},p=e.style,f=e.nodeType&&Ae(e),m=oe._data(e,"fxshow");i.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=oe.css(e,"display"),d="none"===c?oe._data(e,"olddisplay")||S(e.nodeName):c,"inline"===d&&"none"===oe.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ie.shrinkWrapBlocks()||u.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],mt.exec(o)){if(delete t[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;f=!0}h[n]=m&&m[n]||oe.style(e,n)}else c=void 0;if(oe.isEmptyObject(h))"inline"===("none"===c?S(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=oe._data(e,"fxshow",{}),r&&(m.hidden=!f),f?oe(e).show():u.done(function(){oe(e).hide()}),u.done(function(){var t;oe._removeData(e,"fxshow");for(t in h)oe.style(e,t,h[t])});for(n in h)a=F(f?m[n]:0,n,u),n in m||(m[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function N(e,t){var i,n,o,r,a;for(i in e)if(n=oe.camelCase(i),o=t[n],r=e[i],oe.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),a=oe.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=o)}else t[n]=o}function R(e,t,i){var n,o,r=0,a=yt.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=pt||L(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,r=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,i]),1>r&&l?i:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:pt||L(),duration:i.duration,tweens:[],createTween:function(t,i){var n=oe.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(N(d,c.opts.specialEasing);a>r;r++)if(n=yt[r].call(c,e,d,c.opts))return n;return oe.map(d,F,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(be)||[];if(oe.isFunction(i))for(;n=r[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function H(e,t,i,n){function o(s){var l;return r[s]=!0,oe.each(e[s]||[],function(e,s){var c=s(t,i,n);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=e===qt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function z(e,t){var i,n,o=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&oe.extend(!0,e,i),e}function B(e,t,i){for(var n,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function q(e,t,i,n){var o,r,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=d.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],d.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function W(e,t,i,n){var o;if(oe.isArray(t))oe.each(t,function(t,o){i||Vt.test(e)?n(e,o):W(e+"["+("object"==typeof o?t:"")+"]",o,i,n)});else if(i||"object"!==oe.type(t))n(e,t);else for(o in t)W(e+"["+o+"]",t[o],i,n)}function Y(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return oe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],X=G.slice,Q=G.concat,K=G.push,J=G.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ie={},ne="1.11.1",oe=function(e,t){return new oe.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ne,constructor:oe,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},map:function(e){return this.pushStack(oe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:G.sort,splice:G.splice},oe.extend=oe.fn.extend=function(){var e,t,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(n in o)e=a[n],i=o[n],a!==i&&(c&&i&&(oe.isPlainObject(i)||(t=oe.isArray(i)))?(t?(t=!1,r=e&&oe.isArray(e)?e:[]):r=e&&oe.isPlainObject(e)?e:{},a[n]=oe.extend(c,r,i)):void 0!==i&&(a[n]=i));return a},oe.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray||function(e){return"array"===oe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!oe.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&oe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,r=0,a=e.length,s=i(e);if(n){if(s)for(;a>r&&(o=t.apply(e[r],n),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],n),o===!1)break}else if(s)for(;a>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?oe.merge(n,"string"==typeof e?[e]:e):K.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(J)return J.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;i>n;)e[o++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e},grep:function(e,t,i){for(var n,o=[],r=0,a=e.length,s=!i;a>r;r++)n=!t(e[r],r),n!==s&&o.push(e[r]);return o},map:function(e,t,n){var o,r=0,a=e.length,s=i(e),l=[];if(s)for(;a>r;r++)o=t(e[r],r,n),null!=o&&l.push(o);else for(r in e)o=t(e[r],r,n),null!=o&&l.push(o);return Q.apply([],l)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(o=e[t],t=e,e=o),oe.isFunction(e)?(i=X.call(arguments,2),n=function(){return e.apply(t||this,i.concat(X.call(arguments)))},n.guid=e.guid=e.guid||oe.guid++,n):void 0},now:function(){return+new Date},support:ie}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,i,n){var o,r,a,s,l,c,u,p,f,m;if((t?t.ownerDocument||t:H)!==M&&I(t),t=t||M,i=i||[],!e||"string"!=typeof e)return i;if(1!==(s=t.nodeType)&&9!==s)return[];if($&&!n){if(o=ye.exec(e))if(a=o[1]){if(9===s){if(r=t.getElementById(a),!r||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&R(t,r)&&r.id===a)return i.push(r),i}else{if(o[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((a=o[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(a)),i}if(w.qsa&&(!F||!F.test(e))){if(p=u=j,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(u=t.getAttribute("id"))?p=u.replace(_e,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=be.test(e)&&d(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{u||t.removeAttribute("id")}}}return D(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[j]=!0,e}function o(e){var t=M.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)x.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var o,r=e([],i.length,t),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function d(e){return e&&typeof e.getElementsByTagName!==V&&e}function u(){}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,o=i&&"parentNode"===n,r=B++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r)}:function(t,i,a){var s,l,c=[z,r];if(a){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if(l=t[j]||(t[j]={}),(s=l[n])&&s[0]===z&&s[1]===r)return c[2]=s[2];if(l[n]=c,c[2]=e(t,i,a))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var o=0,r=i.length;r>o;o++)t(e,i[o],n);return n}function g(e,t,i,n,o){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!i||i(r,n,o))&&(a.push(r),c&&t.push(s));return a}function v(e,t,i,o,r,a){return o&&!o[j]&&(o=v(o)),r&&!r[j]&&(r=v(r,a)),n(function(n,a,s,l){var c,d,u,h=[],p=[],f=a.length,v=n||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?v:g(v,h,e,s,l),b=i?r||(n?e:f||o)?[]:a:y;if(i&&i(y,b,s,l),o)for(c=g(b,p),o(c,[],s,l),d=c.length;d--;)(u=c[d])&&(b[p[d]]=!(y[p[d]]=u));if(n){if(r||e){if(r){for(c=[],d=b.length;d--;)(u=b[d])&&c.push(y[d]=u);r(null,b=[],c,l)}for(d=b.length;d--;)(u=b[d])&&(c=r?te.call(n,u):h[d])>-1&&(n[c]=!(a[c]=u))}}else b=g(b===a?b.splice(f,b.length):b),r?r(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,i,n,o=e.length,r=x.relative[e[0].type],a=r||x.relative[" "],s=r?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return te.call(t,e)>-1},a,!0),d=[function(e,i,n){return!r&&(n||i!==A)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];o>s;s++)if(i=x.relative[e[s].type])d=[p(f(d),i)];else{if(i=x.filter[e[s].type].apply(null,e[s].matches),i[j]){for(n=++s;o>n&&!x.relative[e[n].type];n++);return v(s>1&&f(d),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),i,n>s&&y(e.slice(s,n)),o>n&&y(e=e.slice(n)),o>n&&h(e))}d.push(i)}return f(d)}function b(e,i){var o=i.length>0,r=e.length>0,a=function(n,a,s,l,c){var d,u,h,p=0,f="0",m=n&&[],v=[],y=A,b=n||r&&x.find.TAG("*",c),_=z+=null==y?1:Math.random()||.1,w=b.length;for(c&&(A=a!==M&&a);f!==w&&null!=(d=b[f]);f++){if(r&&d){for(u=0;h=e[u++];)if(h(d,a,s)){l.push(d);break}c&&(z=_)}o&&((d=!h&&d)&&p--,n&&m.push(d))}if(p+=f,o&&f!==p){for(u=0;h=i[u++];)h(m,v,a,s);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}Z.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(z=_,A=y),m};return o?n(a):a}var _,w,x,C,k,S,T,D,A,P,E,I,M,L,$,F,O,N,R,j="sizzle"+-new Date,H=e.document,z=0,B=0,q=i(),W=i(),Y=i(),U=function(e,t){return e===t&&(E=!0),0},V="undefined",G=1<<31,X={}.hasOwnProperty,Q=[],K=Q.pop,J=Q.push,Z=Q.push,ee=Q.slice,te=Q.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=oe.replace("w","w#"),ae="\\["+ne+"*("+oe+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",se=":("+oe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(se),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(Q=ee.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(Ce){Z={apply:Q.length?function(e,t){J.apply(e,ee.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}w=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:H,n=i.defaultView;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,L=i.documentElement,$=!k(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){I()},!1):n.attachEvent&&n.attachEvent("onunload",function(){I()})),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(i.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=o(function(e){return L.appendChild(e).id=j,!i.getElementsByName||!i.getElementsByName(j).length}),w.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==V&&$){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var i=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},x.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&$?t.getElementsByClassName(e):void 0},O=[],F=[],(w.qsa=ve.test(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+ie+")"),e.querySelectorAll(":checked").length||F.push(":checked")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test(N=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(e){w.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),O.push("!=",se)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),t=ve.test(L.compareDocumentPosition),R=t||ve.test(L.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return E=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===H&&R(H,e)?-1:t===i||t.ownerDocument===H&&R(H,t)?1:P?te.call(P,e)-te.call(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return E=!0,0;var n,o=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===i?-1:t===i?1:r?-1:s?1:P?te.call(P,e)-te.call(P,t):0;if(r===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===H?-1:c[o]===H?1:0},i):M},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==M&&I(e),i=i.replace(ue,"='$1']"),w.matchesSelector&&$&&(!O||!O.test(i))&&(!F||!F.test(i)))try{var n=N.call(e,i);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return t(i,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&I(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&I(e);var i=x.attrHandle[t.toLowerCase()],n=i&&X.call(x.attrHandle,t.toLowerCase())?i(e,t,!$):void 0;return void 0!==n?n:w.attributes||!$?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(E=!w.detectDuplicates,P=!w.sortStable&&e.slice(0),e.sort(U),E){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return P=null,e},C=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=C(t);return i},x=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=S(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var r=t.attr(o,e);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,h,p,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;m;){for(u=t;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(d=g[j]||(g[j]={}),c=d[e]||[],p=c[0]===z&&c[1],h=c[0]===z&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[z,p,h];break}}else if(y&&(c=(t[j]||(t[j]={}))[e])&&c[0]===z)h=c[1];else for(;(u=++p&&u&&u[m]||(h=p=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[j]||(u[j]={}))[e]=[z,h]),u!==t)););return h-=o,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(e,i){var o,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[j]?r(i):r.length>1?(o=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=r(e,i),a=o.length;a--;)n=te.call(e,o[a]),e[n]=!(t[n]=o[a])}):function(e){return r(e,0,o)}):r}},pseudos:{not:n(function(e){var t=[],i=[],o=T(e.replace(le,"$1"));return o[j]?n(function(e,t,i,n){for(var r,a=o(e,null,n,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,n,r){return t[0]=e,o(t,null,r,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var i;do if(i=$?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,S=t.tokenize=function(e,i){var n,o,r,a,s,l,c,d=W[e+" "];if(d)return i?0:d.slice(0);for(s=e,l=[],c=x.preFilter;s;){(!n||(o=ce.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=de.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(le," ")}),s=s.slice(n.length));for(a in x.filter)!(o=fe[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):W(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],o=[],r=Y[e+" "];if(!r){for(t||(t=S(e)),i=t.length;i--;)r=y(t[i]),r[j]?n.push(r):o.push(r);r=Y(e,b(o,n)),r.selector=e}return r},D=t.select=function(e,t,i,n){var o,r,a,s,l,c="function"==typeof e&&e,u=!n&&S(e=c.selector||e);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&w.getById&&9===t.nodeType&&$&&x.relative[r[1].type]){if(t=(x.find.ID(a.matches[0].replace(we,xe),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(n=l(a.matches[0].replace(we,xe),be.test(r[0].type)&&d(t.parentNode)||t))){
if(r.splice(o,1),e=n.length&&h(r),!e)return Z.apply(i,n),i;break}}return(c||T(e,u))(n,t,!$,i,be.test(e)&&d(t.parentNode)||t),i},w.sortStable=j.split("").sort(U).join("")===j,w.detectDuplicates=!!E,I(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(ie,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var de=oe.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?oe.find.matchesSelector(n,e)?[n]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;o>t;t++)if(oe.contains(n[t],this))return!0}));for(t=0;o>t;t++)oe.find(e,n[t],i);return i=this.pushStack(o>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&de.test(e)?oe(e):e||[],!1).length}});var pe,fe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=oe.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),ue.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=fe.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return pe.find(e);this.length=1,this[0]=n}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ge.prototype=oe.fn,pe=oe(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(e,t,i){for(var n=[],o=e[t];o&&9!==o.nodeType&&(void 0===i||1!==o.nodeType||!oe(o).is(i));)1===o.nodeType&&n.push(o),o=o[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),oe.fn.extend({has:function(e){var t,i=oe(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(oe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,r=[],a=de.test(e)||"string"!=typeof e?oe(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&oe.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?oe.unique(r):r)},index:function(e){return e?"string"==typeof e?oe.inArray(this[0],oe(e)):oe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.unique(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,i){return oe.dir(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,i){return oe.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return oe.dir(e,"previousSibling",i)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return oe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(i,n){var o=oe.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=oe.filter(n,o)),this.length>1&&(ye[e]||(o=oe.unique(o)),ve.test(e)&&(o=o.reverse())),this.pushStack(o)}});var be=/\S+/g,_e={};oe.Callbacks=function(e){e="string"==typeof e?_e[e]||r(e):oe.extend({},e);var t,i,n,o,a,s,l=[],c=!e.once&&[],d=function(r){for(i=e.memory&&r,n=!0,a=s||0,s=0,o=l.length,t=!0;l&&o>a;a++)if(l[a].apply(r[0],r[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(c?c.length&&d(c.shift()):i?l=[]:u.disable())},u={add:function(){if(l){var n=l.length;!function r(t){oe.each(t,function(t,i){var n=oe.type(i);"function"===n?e.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),t?o=l.length:i&&(s=n,d(i))}return this},remove:function(){return l&&oe.each(arguments,function(e,i){for(var n;(n=oe.inArray(i,l,n))>-1;)l.splice(n,1),t&&(o>=n&&o--,a>=n&&a--)}),this},has:function(e){return e?oe.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||u.disable(),this},locked:function(){return!c},fireWith:function(e,i){return!l||n&&!c||(i=i||[],i=[e,i.slice?i.slice():i],t?c.push(i):d(i)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(i){oe.each(t,function(t,r){var a=oe.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,n):n}},o={};return n.pipe=n.then,oe.each(t,function(e,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,r=X.call(arguments),a=r.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?X.call(arguments):o,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)r[o]&&oe.isFunction(r[o].promise)?r[o].promise().done(c(o,n,r)).fail(l.reject).progress(c(o,i,t)):--s;return s||l.resolveWith(n,r),l.promise()}});var we;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(e===!0?!--oe.readyWait:!oe.isReady){if(!fe.body)return setTimeout(oe.ready);oe.isReady=!0,e!==!0&&--oe.readyWait>0||(we.resolveWith(fe,[oe]),oe.fn.triggerHandler&&(oe(fe).triggerHandler("ready"),oe(fe).off("ready")))}}}),oe.ready.promise=function(t){if(!we)if(we=oe.Deferred(),"complete"===fe.readyState)setTimeout(oe.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{fe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{i=null==e.frameElement&&fe.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!oe.isReady){try{i.doScroll("left")}catch(e){return setTimeout(o,50)}a(),oe.ready()}}()}return we.promise(t)};var xe,Ce="undefined";for(xe in oe(ie))break;ie.ownLast="0"!==xe,ie.inlineBlockNeedsLayout=!1,oe(function(){var e,t,i,n;i=fe.getElementsByTagName("body")[0],i&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(t){ie.deleteExpando=!1}}e=null}(),oe.acceptData=function(e){var t=oe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?oe.cache[e[oe.expando]]:e[oe.expando],!!e&&!c(e)},data:function(e,t,i){return d(e,t,i)},removeData:function(e,t){return u(e,t)},_data:function(e,t,i){return d(e,t,i,!0)},_removeData:function(e,t){return u(e,t,!0)}}),oe.fn.extend({data:function(e,t){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=oe.data(r),1===r.nodeType&&!oe._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=oe.camelCase(n.slice(5)),l(r,n,o[n])));oe._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){oe.data(this,e)}):arguments.length>1?this.each(function(){oe.data(this,e,t)}):r?l(r,e,oe.data(r,e)):void 0},removeData:function(e){return this.each(function(){oe.removeData(this,e)})}}),oe.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=oe._data(e,t),i&&(!n||oe.isArray(i)?n=oe._data(e,t,oe.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=oe.queue(e,t),n=i.length,o=i.shift(),r=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return oe._data(e,i)||oe._data(e,i,{empty:oe.Callbacks("once memory").add(function(){oe._removeData(e,t+"queue"),oe._removeData(e,i)})})}}),oe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?oe.queue(this[0],e):void 0===t?this:this.each(function(){var i=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=oe.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=oe._data(r[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,De=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Pe=oe.access=function(e,t,i,n,o,r,a){var s=0,l=e.length,c=null==i;if("object"===oe.type(i)){o=!0;for(s in i)oe.access(e,t,s,i[s],!0,r,a)}else if(void 0!==n&&(o=!0,oe.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(oe(e),i)})),t))for(;l>s;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return o?e:c?t.call(e):l?t(e[0],i):r},Ee=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),i=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(n){ie.deleteExpando=!1}}}(),function(){var t,i,n=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),ie[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Ie=/^(?:input|select|textarea)$/i,Me=/^key/,Le=/^(?:mouse|pointer|contextmenu)|click/,$e=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,t,i,n,o){var r,a,s,l,c,d,u,h,p,f,m,g=oe._data(e);if(g){for(i.handler&&(l=i,i=l.handler,o=l.selector),i.guid||(i.guid=oe.guid++),(a=g.events)||(a=g.events={}),(d=g.handle)||(d=g.handle=function(e){return typeof oe===Ce||e&&oe.event.triggered===e.type?void 0:oe.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)r=Fe.exec(t[s])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p&&(c=oe.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=oe.event.special[p]||{},u=oe.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:f.join(".")},l),(h=a[p])||(h=a[p]=[],h.delegateCount=0,c.setup&&c.setup.call(e,n,f,d)!==!1||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),oe.event.global[p]=!0);e=null}},remove:function(e,t,i,n,o){var r,a,s,l,c,d,u,h,p,f,m,g=oe.hasData(e)&&oe._data(e);if(g&&(d=g.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(s=Fe.exec(t[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(u=oe.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,h=d[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,u.remove&&u.remove.call(e,a));l&&!h.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||oe.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)oe.event.remove(e,p+t[c],i,n,!0);oe.isEmptyObject(d)&&(delete g.handle,oe._removeData(e,"events"))}},trigger:function(t,i,n,o){var r,a,s,l,c,d,u,h=[n||fe],p=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(s=d=n=n||fe,3!==n.nodeType&&8!==n.nodeType&&!$e.test(p+oe.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[oe.expando]?t:new oe.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:oe.makeArray(i,[t]),c=oe.event.special[p]||{},o||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!o&&!c.noBubble&&!oe.isWindow(n)){for(l=c.delegateType||p,$e.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),d=s;d===(n.ownerDocument||fe)&&h.push(d.defaultView||d.parentWindow||e)}for(u=0;(s=h[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||p,r=(oe._data(s,"events")||{})[t.type]&&oe._data(s,"handle"),r&&r.apply(s,i),r=a&&s[a],r&&r.apply&&oe.acceptData(s)&&(t.result=r.apply(s,i),t.result===!1&&t.preventDefault());if(t.type=p,!o&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),i)===!1)&&oe.acceptData(n)&&a&&n[p]&&!oe.isWindow(n)){d=n[a],d&&(n[a]=null),oe.event.triggered=p;try{n[p]()}catch(m){}oe.event.triggered=void 0,d&&(n[a]=d)}return t.result}},dispatch:function(e){e=oe.event.fix(e);var t,i,n,o,r,a=[],s=X.call(arguments),l=(oe._data(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(n=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((oe.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],r=0;s>r;r++)n=t[r],i=n.selector+" ",void 0===o[i]&&(o[i]=n.needsContext?oe(i,this).index(l)>=0:oe.find(i,this,null,[l]).length),o[i]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[oe.expando])return e;var t,i,n,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Le.test(o)?this.mouseHooks:Me.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new oe.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=r.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||fe,o=n.documentElement,i=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=oe.extend(new oe.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?oe.event.trigger(o,null,t):oe.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},oe.removeEvent=fe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===Ce&&(e[n]=null),e.detachEvent(n,i))},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==n&&!oe.contains(n,o))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(oe.event.special.submit={setup:function(){return oe.nodeName(this,"form")?!1:void oe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=oe.nodeName(t,"input")||oe.nodeName(t,"button")?t.form:void 0;i&&!oe._data(i,"submitBubbles")&&(oe.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),oe._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&oe.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return oe.nodeName(this,"form")?!1:void oe.event.remove(this,"._submit")}}),ie.changeBubbles||(oe.event.special.change={setup:function(){return Ie.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(oe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),oe.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,e,!0)})),!1):void oe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ie.test(t.nodeName)&&!oe._data(t,"changeBubbles")&&(oe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||oe.event.simulate("change",this.parentNode,e,!0)}),oe._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return oe.event.remove(this,"._change"),!Ie.test(this.nodeName)}}),ie.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=oe._data(n,t);o||n.addEventListener(e,i,!0),oe._data(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=oe._data(n,t)-1;o?oe._data(n,t,o):(n.removeEventListener(e,i,!0),oe._removeData(n,t))}}}),oe.fn.extend({on:function(e,t,i,n,o){var r,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=p;else if(!n)return this;return 1===o&&(a=n,n=function(e){return oe().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,oe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=p),this.each(function(){oe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?oe.event.trigger(e,t,i,!0):void 0}});var Oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ne=/ jQuery\d+="(?:null|\d+)"/g,Re=new RegExp("<(?:"+Oe+")[\\s/>]","i"),je=/^\s+/,He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ze=/<([\w:]+)/,Be=/<tbody/i,qe=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(fe),Ke=Qe.appendChild(fe.createElement("div"));Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,oe.extend({clone:function(e,t,i){var n,o,r,a,s,l=oe.contains(e.ownerDocument,e);if(ie.html5Clone||oe.isXMLDoc(e)||!Re.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Ke.innerHTML=e.outerHTML,Ke.removeChild(r=Ke.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(n=g(r),s=g(e),a=0;null!=(o=s[a]);++a)n[a]&&C(o,n[a]);if(t)if(i)for(s=s||g(e),n=n||g(r),a=0;null!=(o=s[a]);a++)x(o,n[a]);else x(e,r);return n=g(r,"script"),n.length>0&&w(n,!l&&g(e,"script")),n=s=o=null,r},buildFragment:function(e,t,i,n){for(var o,r,a,s,l,c,d,u=e.length,h=m(t),p=[],f=0;u>f;f++)if(r=e[f],r||0===r)if("object"===oe.type(r))oe.merge(p,r.nodeType?[r]:r);else if(qe.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(ze.exec(r)||["",""])[1].toLowerCase(),d=Xe[l]||Xe._default,s.innerHTML=d[1]+r.replace(He,"<$1></$2>")+d[2],o=d[0];o--;)s=s.lastChild;if(!ie.leadingWhitespace&&je.test(r)&&p.push(t.createTextNode(je.exec(r)[0])),!ie.tbody)for(r="table"!==l||Be.test(r)?"<table>"!==d[1]||Be.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)oe.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(oe.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(t.createTextNode(r));for(s&&h.removeChild(s),ie.appendChecked||oe.grep(g(p,"input"),v),f=0;r=p[f++];)if((!n||-1===oe.inArray(r,n))&&(a=oe.contains(r.ownerDocument,r),s=g(h.appendChild(r),"script"),a&&w(s),i))for(o=0;r=s[o++];)Ue.test(r.type||"")&&i.push(r);return s=null,h},cleanData:function(e,t){for(var i,n,o,r,a=0,s=oe.expando,l=oe.cache,c=ie.deleteExpando,d=oe.event.special;null!=(i=e[a]);a++)if((t||oe.acceptData(i))&&(o=i[s],r=o&&l[o])){if(r.events)for(n in r.events)d[n]?oe.event.remove(i,n):oe.removeEvent(i,n,r.handle);l[o]&&(delete l[o],c?delete i[s]:typeof i.removeAttribute!==Ce?i.removeAttribute(s):i[s]=null,G.push(o))}}}),oe.fn.extend({text:function(e){return Pe(this,function(e){return void 0===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?oe.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||oe.cleanData(g(i)),i.parentNode&&(t&&oe.contains(i.ownerDocument,i)&&w(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&oe.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&oe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ne,""):void 0;if("string"==typeof e&&!We.test(e)&&(ie.htmlSerialize||!Re.test(e))&&(ie.leadingWhitespace||!je.test(e))&&!Xe[(ze.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(He,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(oe.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,oe.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var i,n,o,r,a,s,l=0,c=this.length,d=this,u=c-1,h=e[0],p=oe.isFunction(h);if(p||c>1&&"string"==typeof h&&!ie.checkClone&&Ye.test(h))return this.each(function(i){var n=d.eq(i);p&&(e[0]=h.call(this,i,n.html())),n.domManip(e,t)});if(c&&(s=oe.buildFragment(e,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(r=oe.map(g(s,"script"),b),o=r.length;c>l;l++)n=s,l!==u&&(n=oe.clone(n,!0,!0),o&&oe.merge(r,g(n,"script"))),t.call(this[l],n,l);if(o)for(a=r[r.length-1].ownerDocument,oe.map(r,_),l=0;o>l;l++)n=r[l],Ue.test(n.type||"")&&!oe._data(n,"globalEval")&&oe.contains(a,n)&&(n.src?oe._evalUrl&&oe._evalUrl(n.src):oe.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Ge,"")));s=i=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var i,n=0,o=[],r=oe(e),a=r.length-1;a>=n;n++)i=n===a?this:this.clone(!0),oe(r[n])[t](i),K.apply(o,i.get());return this.pushStack(o)}});var Je,Ze={};!function(){var e;ie.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=fe.getElementsByTagName("body")[0],i&&i.style?(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var et,tt,it=/^margin/,nt=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),ot=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tt=function(e,t,i){var n,o,r,a,s=e.style;return i=i||et(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),nt.test(a)&&it.test(t)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):fe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,i){var n,o,r,a,s=e.style;return i=i||et(e),a=i?i[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),nt.test(a)&&!ot.test(t)&&(n=s.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,i,n,o;i=fe.getElementsByTagName("body")[0],i&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,o=t.appendChild(fe.createElement("div")),o.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=t.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===o[0].offsetHeight,s&&(o[0].style.display="",o[1].style.display="none",s=0===o[0].offsetHeight),
i.removeChild(n))}var i,n,o,r,a,s,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=i.getElementsByTagName("a")[0],n=o&&o.style,n&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,oe.extend(ie,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),oe.swap=function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=i.apply(e,n||[]);for(r in t)e.style[r]=a[r];return o};var rt=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+Te+")(.*)$","i"),ct=new RegExp("^([+-])=("+Te+")","i"),dt={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},ht=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=tt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=oe.camelCase(t),l=e.style;if(t=oe.cssProps[s]||(oe.cssProps[s]=D(l,s)),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t];if(r=typeof i,"string"===r&&(o=ct.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(oe.css(e,t)),r="number"),null!=i&&i===i&&("number"!==r||oe.cssNumber[s]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(c){}}},css:function(e,t,i,n){var o,r,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=D(e.style,s)),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=tt(e,t,n)),"normal"===r&&t in ut&&(r=ut[t]),""===i||i?(o=parseFloat(r),i===!0||oe.isNumeric(o)?o||0:r):r}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,i,n){return i?st.test(oe.css(e,"display"))&&0===e.offsetWidth?oe.swap(e,dt,function(){return I(e,t,n)}):I(e,t,n):void 0},set:function(e,i,n){var o=n&&et(e);return P(e,i,n?E(e,t,n,ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o),o):0)}}}),ie.opacity||(oe.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=oe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===oe.trim(r.replace(rt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=rt.test(r)?r.replace(rt,o):r+" "+o)}}),oe.cssHooks.marginRight=T(ie.reliableMarginRight,function(e,t){return t?oe.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+De[n]+t]=r[n]||r[n-2]||r[0];return o}},it.test(e)||(oe.cssHooks[e+t].set=P)}),oe.fn.extend({css:function(e,t){return Pe(this,function(e,t,i){var n,o,r={},a=0;if(oe.isArray(t)){for(n=et(e),o=t.length;o>a;a++)r[t[a]]=oe.css(e,t[a],!1,n);return r}return void 0!==i?oe.style(e,t,i):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=M,M.prototype={constructor:M,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(oe.cssNumber[i]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,i=M.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.fx=M.prototype.init,oe.fx.step={};var pt,ft,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[O],bt={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=gt.exec(t),r=o&&o[3]||(oe.cssNumber[e]?"":"px"),a=(oe.cssNumber[e]||"px"!==r&&+n)&&gt.exec(oe.css(i.elem,e)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+n||1;do s=s||".5",a/=s,oe.style(i.elem,e,a+r);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=r,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};oe.Animation=oe.extend(R,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;o>n;n++)i=e[n],bt[i]=bt[i]||[],bt[i].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),oe.speed=function(e,t,i){var n=e&&"object"==typeof e?oe.extend({},e):{complete:i||!i&&t||oe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!oe.isFunction(t)&&t};return n.duration=oe.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in oe.fx.speeds?oe.fx.speeds[n.duration]:oe.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){oe.isFunction(n.old)&&n.old.call(this),n.queue&&oe.dequeue(this,n.queue)},n},oe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=oe.isEmptyObject(e),r=oe.speed(t,i,n),a=function(){var t=R(this,oe.extend({},e),r);(o||oe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=oe.timers,a=oe._data(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&vt.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));(t||!i)&&oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=oe._data(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=oe.timers,a=n?n.length:0;for(i.finish=!0,oe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var i=oe.fn[t];oe.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate($(t,!0),e,n,o)}}),oe.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),oe.timers=[],oe.fx.tick=function(){var e,t=oe.timers,i=0;for(pt=oe.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||oe.fx.stop(),pt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ft||(ft=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(ft),ft=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,o;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=fe.createElement("select"),o=i.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=o.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!o.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var _t=/\r/g;oe.fn.extend({val:function(e){var t,i,n,o=this[0];{if(arguments.length)return n=oe.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=n?e.call(this,i,oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(_t,""):null==i?"":i)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e))}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,a=r?null:[],s=r?o+1:n.length,l=0>o?s:r?o:0;s>l;l++)if(i=n[l],(i.selected||l===o)&&(ie.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!oe.nodeName(i.parentNode,"optgroup"))){if(t=oe(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=oe.makeArray(t),a=o.length;a--;)if(n=o[a],oe.inArray(oe.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(s){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>=0:void 0}},ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,xt,Ct=oe.expr.attrHandle,kt=/^(?:checked|selected)$/i,St=ie.getSetAttribute,Tt=ie.input;oe.fn.extend({attr:function(e,t){return Pe(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Ce?oe.prop(e,t,i):(1===r&&oe.isXMLDoc(e)||(t=t.toLowerCase(),n=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?xt:wt)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:(o=oe.find.attr(e,t),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void oe.removeAttr(e,t))},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(be);if(r&&1===e.nodeType)for(;i=r[o++];)n=oe.propFix[i]||i,oe.expr.match.bool.test(i)?Tt&&St||!kt.test(i)?e[n]=!1:e[oe.camelCase("default-"+i)]=e[n]=!1:oe.attr(e,i,""),e.removeAttribute(St?i:n)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),xt={set:function(e,t,i){return t===!1?oe.removeAttr(e,i):Tt&&St||!kt.test(i)?e.setAttribute(!St&&oe.propFix[i]||i,i):e[oe.camelCase("default-"+i)]=e[i]=!0,i}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Ct[t]||oe.find.attr;Ct[t]=Tt&&St||!kt.test(t)?function(e,t,n){var o,r;return n||(r=Ct[t],Ct[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,Ct[t]=r),o}:function(e,t,i){return i?void 0:e[oe.camelCase("default-"+t)]?t.toLowerCase():null}}),Tt&&St||(oe.attrHooks.value={set:function(e,t,i){return oe.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,i)}}),St||(wt={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},oe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:wt.set},oe.attrHooks.contenteditable={set:function(e,t,i){wt.set(e,""===t?!1:t,i)}},oe.each(["width","height"],function(e,t){oe.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ie.style||(oe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Dt=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Pe(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=oe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),oe.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,o,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!oe.isXMLDoc(e),r&&(t=oe.propFix[t]||t,o=oe.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||oe.each(["href","src"],function(e,t){oe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),ie.enctype||(oe.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,i,n,o,r,a,s=0,l=this.length,c="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):" ")){for(r=0;o=t[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=oe.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,o,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):"")){for(r=0;o=t[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=e?oe.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(i){oe(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,o=oe(this),r=e.match(be)||[];t=r[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(i===Ce||"boolean"===i)&&(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||e===!1?"":oe._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Pt," ").indexOf(t)>=0)return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Et=oe.now(),It=/\?/,Mt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,o=oe.trim(t+"");return o&&!oe.trim(o.replace(Mt,function(e,t,o,r){return i&&t&&(n=0),0===n?e:(i=o||t,n+=!r-!o,"")}))?Function("return "+o)():oe.error("Invalid JSON: "+t)},oe.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(o){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),i};var Lt,$t,Ft=/#.*$/,Ot=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,Ht=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bt={},qt={},Wt="*/".concat("*");try{$t=location.href}catch(Yt){$t=fe.createElement("a"),$t.href="",$t=$t.href}Lt=zt.exec($t.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$t,type:"GET",isLocal:Rt.test(Lt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,oe.ajaxSettings),t):z(oe.ajaxSettings,e)},ajaxPrefilter:j(Bt),ajaxTransport:j(qt),ajax:function(e,t){function i(e,t,i,n){var o,d,v,y,_,x=t;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,a=n||"",w.readyState=e>0?4:0,o=e>=200&&300>e||304===e,i&&(y=B(u,w,i)),y=q(u,y,w,o),o?(u.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(oe.lastModified[r]=_),_=w.getResponseHeader("etag"),_&&(oe.etag[r]=_)),204===e||"HEAD"===u.type?x="nocontent":304===e?x="notmodified":(x=y.state,d=y.data,v=y.error,o=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(t||x)+"",o?f.resolveWith(h,[d,x,w]):f.rejectWith(h,[w,x,v]),w.statusCode(g),g=void 0,l&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,u,o?d:v]),m.fireWith(h,[w,x]),l&&(p.trigger("ajaxComplete",[w,u]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,r,a,s,l,c,d,u=oe.ajaxSetup({},t),h=u.context||u,p=u.context&&(h.nodeType||h.jquery)?oe(h):oe.event,f=oe.Deferred(),m=oe.Callbacks("once memory"),g=u.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Nt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return c&&c.abort(t),i(0,t),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||$t)+"").replace(Ft,"").replace(Ht,Lt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=oe.trim(u.dataType||"*").toLowerCase().match(be)||[""],null==u.crossDomain&&(n=zt.exec(u.url.toLowerCase()),u.crossDomain=!(!n||n[1]===Lt[1]&&n[2]===Lt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Lt[3]||("http:"===Lt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=oe.param(u.data,u.traditional)),H(Bt,u,t,w),2===b)return w;l=u.global,l&&0===oe.active++&&oe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!jt.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(It.test(r)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=Ot.test(r)?r.replace(Ot,"$1_="+Et++):r+(It.test(r)?"&":"?")+"_="+Et++)),u.ifModified&&(oe.lastModified[r]&&w.setRequestHeader("If-Modified-Since",oe.lastModified[r]),oe.etag[r]&&w.setRequestHeader("If-None-Match",oe.etag[r])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Wt+"; q=0.01":""):u.accepts["*"]);for(o in u.headers)w.setRequestHeader(o,u.headers[o]);if(u.beforeSend&&(u.beforeSend.call(h,w,u)===!1||2===b))return w.abort();_="abort";for(o in{success:1,error:1,complete:1})w[o](u[o]);if(c=H(qt,u,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},u.timeout));try{b=1,c.send(v,i)}catch(x){if(!(2>b))throw x;i(-1,x)}}else i(-1,"No Transport");return w},getJSON:function(e,t,i){return oe.get(e,t,i,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,i,n,o){return oe.isFunction(i)&&(o=o||n,n=i,i=void 0),oe.ajax({url:e,type:t,dataType:o,data:i,success:n})}}),oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){if(oe.isFunction(e))return this.each(function(t){oe(this).wrapAll(e.call(this,t))});if(this[0]){var t=oe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(i){oe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||oe.css(e,"display"))},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Gt=/\r?\n/g,Xt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var i,n=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(i in e)W(i,e[i],t,o);return n.join("&").replace(Ut,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Qt.test(this.nodeName)&&!Xt.test(e)&&(this.checked||!Ee.test(e))}).map(function(e,t){var i=oe(this).val();return null==i?null:oe.isArray(i)?oe.map(i,function(e){return{name:t.name,value:e.replace(Gt,"\r\n")}}):{name:t.name,value:i.replace(Gt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||U()}:Y;var Kt=0,Jt={},Zt=oe.ajaxSettings.xhr();e.ActiveXObject&&oe(e).on("unload",function(){for(var e in Jt)Jt[e](void 0,!0)}),ie.cors=!!Zt&&"withCredentials"in Zt,Zt=ie.ajax=!!Zt,Zt&&oe.ajaxTransport(function(e){if(!e.crossDomain||ie.cors){var t;return{send:function(i,n){var o,r=e.xhr(),a=++Kt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&r.setRequestHeader(o,i[o]+"");r.send(e.hasContent&&e.data||null),t=function(i,o){var s,l,c;if(t&&(o||4===r.readyState))if(delete Jt[a],t=void 0,r.onreadystatechange=oe.noop,o)4!==r.readyState&&r.abort();else{c={},s=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(d){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&n(s,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Jt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=fe.head||oe("head")[0]||fe.documentElement;return{send:function(n,o){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||o(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ei=[],ti=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ei.pop()||oe.expando+"_"+Et++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,i,n){var o,r,a,s=t.jsonp!==!1&&(ti.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ti,"$1"+o):t.jsonp!==!1&&(t.url+=(It.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||oe.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},n.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,ei.push(o)),a&&oe.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||fe;var n=ue.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=oe.buildFragment([e],t,o),o&&o.length&&oe(o).remove(),oe.merge([],n.childNodes))};var ii=oe.fn.load;oe.fn.load=function(e,t,i){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var n,o,r,a=this,s=e.indexOf(" ");return s>=0&&(n=oe.trim(e.slice(s,e.length)),e=e.slice(0,s)),oe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&oe.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?oe("<div>").append(oe.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,o||[e.responseText,t,e])}),this},oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length};var ni=e.document.documentElement;oe.offset={setOffset:function(e,t,i){var n,o,r,a,s,l,c,d=oe.css(e,"position"),u=oe(e),h={};"static"===d&&(e.style.position="relative"),s=u.offset(),r=oe.css(e,"top"),l=oe.css(e,"left"),c=("absolute"===d||"fixed"===d)&&oe.inArray("auto",[r,l])>-1,c?(n=u.position(),a=n.top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):u.css(h)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return t=r.documentElement,oe.contains(t,o)?(typeof o.getBoundingClientRect!==Ce&&(n=o.getBoundingClientRect()),i=V(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ni;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||ni})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);oe.fn[e]=function(n){return Pe(this,function(e,n,o){var r=V(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[n]:e[n]:void(r?r.scrollTo(i?oe(r).scrollLeft():o,i?o:oe(r).scrollTop()):e[n]=o)},e,n,arguments.length,null)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=T(ie.pixelPosition,function(e,i){return i?(i=tt(e,t),nt.test(i)?oe(e).position()[t]+"px":i):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){oe.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return Pe(this,function(t,i,n){var o;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?oe.css(t,i,a):oe.style(t,i,n,a)},t,r?n:void 0,r,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var oi=e.jQuery,ri=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=ri),t&&e.jQuery===oe&&(e.jQuery=oi),oe},typeof t===Ce&&(e.jQuery=e.$=oe),oe}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)},fire:function(t,i,n){var o=e.Event(i);return t.trigger(o,n),o.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){
return e[0].href},handleRemote:function(n){var o,r,a,s,l,c;if(i.fire(n,"ajax:before")){if(s=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),r=n.attr("action"),a=n.serializeArray();var d=n.data("ujs:submit-button");d&&(a.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),a=n.data("params")||null);return c={type:o||"GET",data:a,dataType:l,beforeSend:function(e,o){return o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[e,o])?void n.trigger("ajax:send",e):!1},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(r)},s&&(c.xhrFields={withCredentials:s}),r&&(c.url=r),i.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var o=i.href(n),r=n.data("method"),a=n.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+o+'"></form>'),d='<input name="_method" value="'+r+'" type="hidden" />';l===t||s===t||i.isCrossDomain(o)||(d+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(d).appendTo("body"),c.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),e.data("ujs:enable-with",e[i]()),n!==t&&e[i](n),e.prop("disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,n=e.data("confirm"),o=!1;return n?(i.fire(e,"confirm")&&(o=i.confirm(n),t=i.fire(e,"confirm:complete",[o])),o&&t):!0},blankInputs:function(t,i,n){var o,r,a=e(),s=i||"input,textarea",l=t.find(s);return l.each(function(){if(o=e(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!r==!n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;a=a.add(o)}}),a.length?a:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");e.data("ujs:enable-with",e.html()),n!==t&&e.html(n),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var o=e(this),r=o.data("method"),a=o.data("params"),s=n.metaKey||n.ctrlKey;if(!i.allowAction(o))return i.stopEverything(n);if(!s&&o.is(i.linkDisableSelector)&&i.disableElement(o),o.data("remote")!==t){if(s&&(!r||"GET"===r)&&!a)return!0;var l=i.handleRemote(o);return l===!1?i.enableElement(o):l.error(function(){i.enableElement(o)}),!1}return o.data("method")?(i.handleMethod(o),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return o===!1?i.enableFormElement(n):o.error(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o,r,a=e(this),s=a.data("remote")!==t;if(!i.allowAction(a))return i.stopEverything(n);if(a.attr("novalidate")==t&&(o=i.blankInputs(a,i.requiredInputSelector),o&&i.fire(a,"ajax:aborted:required",[o])))return i.stopEverything(n);if(s){if(r=i.nonBlankInputs(a,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(a)},13);var l=i.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(a)},13),l}return i.handleRemote(a),!1}setTimeout(function(){i.disableFormElements(a)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),function(e,t,i){!function(e){"use strict";"function"==typeof define&&define.amd?define("datatables",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):jQuery&&!jQuery.fn.dataTable&&e(jQuery)}(function(n){"use strict";function o(e){var t,i,r="a aa ai ao as b fn i m o s ",a={};n.each(e,function(n,s){t=n.match(/^([^A-Z]+?)([A-Z])/),t&&-1!==r.indexOf(t[1]+" ")&&(i=n.replace(t[0],t[2].toLowerCase()),a[i]=n,"o"===t[1]&&o(e[n]))}),e._hungarianMap=a}function r(e,t,a){e._hungarianMap||o(e);var s;n.each(t,function(o,l){s=e._hungarianMap[o],s===i||!a&&t[s]!==i||("o"===s.charAt(0)?(t[s]||(t[s]={}),n.extend(!0,t[s],t[o]),r(e[s],t[s],a)):t[s]=t[o])})}function a(e){var t=Ge.defaults.oLanguage,i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&Ne(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&Ne(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var n=e.sDecimal;n&&Ue(n)}function s(e){yt(e,"ordering","bSort"),yt(e,"orderMulti","bSortMulti"),yt(e,"orderClasses","bSortClasses"),yt(e,"orderCellsTop","bSortCellsTop"),yt(e,"order","aaSorting"),yt(e,"orderFixed","aaSortingFixed"),yt(e,"paging","bPaginate"),yt(e,"pagingType","sPaginationType"),yt(e,"pageLength","iDisplayLength"),yt(e,"searching","bFilter");var t=e.aoSearchCols;if(t)for(var i=0,n=t.length;n>i;i++)t[i]&&r(Ge.models.oSearch,t[i])}function l(e){yt(e,"orderable","bSortable"),yt(e,"orderData","aDataSort"),yt(e,"orderSequence","asSorting"),yt(e,"orderDataType","sortDataType");var t=e.aDataSort;t&&!n.isArray(t)&&(e.aDataSort=[t])}function c(e){var t=e.oBrowser,i=n("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(n("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(n('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),o=i.find(".test");t.bScrollOversize=100===o[0].offsetWidth,t.bScrollbarLeft=1!==Math.round(o.offset().left),i.remove()}function d(e,t,n,o,r,a){var s,l=o,c=!1;for(n!==i&&(s=n,c=!0);l!==r;)e.hasOwnProperty(l)&&(s=c?t(s,e[l],l,e):e[l],c=!0,l+=a);return s}function u(e,i){var o=Ge.defaults.column,r=e.aoColumns.length,a=n.extend({},Ge.models.oColumn,o,{nTh:i?i:t.createElement("th"),sTitle:o.sTitle?o.sTitle:i?i.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[r],mData:o.mData?o.mData:r,idx:r});e.aoColumns.push(a);var s=e.aoPreSearchCols;s[r]=n.extend({},Ge.models.oSearch,s[r]),h(e,r,n(i).data())}function h(e,t,o){var a=e.aoColumns[t],s=e.oClasses,c=n(a.nTh);if(!a.sWidthOrig){a.sWidthOrig=c.attr("width")||null;var d=(c.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);d&&(a.sWidthOrig=d[1])}o!==i&&null!==o&&(l(o),r(Ge.defaults.column,o),o.mDataProp===i||o.mData||(o.mData=o.mDataProp),o.sType&&(a._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),n.extend(a,o),Ne(a,o,"sWidth","sWidthOrig"),o.iDataSort!==i&&(a.aDataSort=[o.iDataSort]),Ne(a,o,"aDataSort"));var u=a.mData,h=D(u),p=a.mRender?D(a.mRender):null,f=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};a._bAttrSrc=n.isPlainObject(u)&&(f(u.sort)||f(u.type)||f(u.filter)),a.fnGetData=function(e,t,n){var o=h(e,t,i,n);return p&&t?p(o,t,e,n):o},a.fnSetData=function(e,t,i){return A(u)(e,t,i)},"number"!=typeof u&&(e._rowReadObject=!0),e.oFeatures.bSort||(a.bSortable=!1,c.addClass(s.sSortableNone));var m=-1!==n.inArray("asc",a.asSorting),g=-1!==n.inArray("desc",a.asSorting);a.bSortable&&(m||g)?m&&!g?(a.sSortingClass=s.sSortableAsc,a.sSortingClassJUI=s.sSortJUIAscAllowed):!m&&g?(a.sSortingClass=s.sSortableDesc,a.sSortingClassJUI=s.sSortJUIDescAllowed):(a.sSortingClass=s.sSortable,a.sSortingClassJUI=s.sSortJUI):(a.sSortingClass=s.sSortableNone,a.sSortingClassJUI="")}function p(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;ye(e);for(var i=0,n=t.length;n>i;i++)t[i].nTh.style.width=t[i].sWidth}var o=e.oScroll;(""!==o.sY||""!==o.sX)&&ge(e),ze(e,null,"column-sizing",[e])}function f(e,t){var i=v(e,"bVisible");return"number"==typeof i[t]?i[t]:null}function m(e,t){var i=v(e,"bVisible"),o=n.inArray(t,i);return-1!==o?o:null}function g(e){return v(e,"bVisible").length}function v(e,t){var i=[];return n.map(e.aoColumns,function(e,n){e[t]&&i.push(n)}),i}function y(e){var t,n,o,r,a,s,l,c,d,u=e.aoColumns,h=e.aoData,p=Ge.ext.type.detect;for(t=0,n=u.length;n>t;t++)if(l=u[t],d=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(o=0,r=p.length;r>o;o++){for(a=0,s=h.length;s>a&&(d[a]===i&&(d[a]=k(e,a,t,"type")),c=p[o](d[a],e),c||o===p.length-1)&&"html"!==c;a++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(e,t,o,r){var a,s,l,c,d,h,p,f=e.aoColumns;if(t)for(a=t.length-1;a>=0;a--){p=t[a];var m=p.targets!==i?p.targets:p.aTargets;for(n.isArray(m)||(m=[m]),l=0,c=m.length;c>l;l++)if("number"==typeof m[l]&&m[l]>=0){for(;f.length<=m[l];)u(e);r(m[l],p)}else if("number"==typeof m[l]&&m[l]<0)r(f.length+m[l],p);else if("string"==typeof m[l])for(d=0,h=f.length;h>d;d++)("_all"==m[l]||n(f[d].nTh).hasClass(m[l]))&&r(d,p)}if(o)for(a=0,s=o.length;s>a;a++)r(a,o[a])}function _(e,t,i,o){var r=e.aoData.length,a=n.extend(!0,{},Ge.models.oRow,{src:i?"dom":"data"});a._aData=t,e.aoData.push(a);for(var s=e.aoColumns,l=0,c=s.length;c>l;l++)i&&S(e,r,l,k(e,r,l)),s[l].sType=null;return e.aiDisplayMaster.push(r),(i||!e.oFeatures.bDeferRender)&&$(e,r,i,o),r}function w(e,t){var i;return t instanceof n||(t=n(t)),t.map(function(t,n){return i=L(e,n),_(e,i.data,n,i.cells)})}function x(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null}function C(e,t,i){return n.inArray(i,e.aoData[t].anCells)}function k(e,t,n,o){var r=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,c=a.fnGetData(s,o,{settings:e,row:t,col:n});if(c===i)return e.iDrawError!=r&&null===l&&(Oe(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t,4),e.iDrawError=r),l;if(c!==s&&null!==c||null===l){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==o?"":c}function S(e,t,i,n){var o=e.aoColumns[i],r=e.aoData[t]._aData;o.fnSetData(r,n,{settings:e,row:t,col:i})}function T(e){return n.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function D(e){if(n.isPlainObject(e)){var t={};return n.each(e,function(e,i){i&&(t[e]=D(i))}),function(e,n,o,r){var a=t[n]||t._;return a!==i?a(e,n,o,r):e}}if(null===e)return function(e){return e};if("function"==typeof e)return function(t,i,n,o){return e(t,i,n,o)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){return t[e]};var o=function(e,t,n){var r,a,s,l;if(""!==n)for(var c=T(n),d=0,u=c.length;u>d;d++){if(r=c[d].match(bt),a=c[d].match(_t),r){c[d]=c[d].replace(bt,""),""!==c[d]&&(e=e[c[d]]),s=[],c.splice(0,d+1),l=c.join(".");for(var h=0,p=e.length;p>h;h++)s.push(o(e[h],t,l));var f=r[0].substring(1,r[0].length-1);e=""===f?s:s.join(f);break}if(a)c[d]=c[d].replace(_t,""),e=e[c[d]]();else{if(null===e||e[c[d]]===i)return i;e=e[c[d]]}}return e};return function(t,i){return o(t,i,e)}}function A(e){if(n.isPlainObject(e))return A(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){t[e]=i};var t=function(e,n,o){for(var r,a,s,l,c,d=T(o),u=d[d.length-1],h=0,p=d.length-1;p>h;h++){if(a=d[h].match(bt),s=d[h].match(_t),a){d[h]=d[h].replace(bt,""),e[d[h]]=[],r=d.slice(),r.splice(0,h+1),c=r.join(".");for(var f=0,m=n.length;m>f;f++)l={},t(l,n[f],c),e[d[h]].push(l);return}s&&(d[h]=d[h].replace(_t,""),e=e[d[h]](n)),(null===e[d[h]]||e[d[h]]===i)&&(e[d[h]]={}),e=e[d[h]]}u.match(_t)?e=e[u.replace(_t,"")](n):e[u.replace(bt,"")]=n};return function(i,n){return t(i,n,e)}}function P(e){return ht(e.aoData,"_aData")}function E(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function I(e,t,n){for(var o=-1,r=0,a=e.length;a>r;r++)e[r]==t?o=r:e[r]>t&&e[r]--;-1!=o&&n===i&&e.splice(o,1)}function M(e,t,n,o){var r,a,s=e.aoData[t],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=k(e,t,n,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var c=s.anCells;if(c)if(o!==i)l(c[o],o);else for(r=0,a=c.length;a>r;r++)l(c[r],r)}else s._aData=L(e,s,o,o===i?i:s._aData).data;s._aSortData=null,s._aFilterData=null;var d=e.aoColumns;if(o!==i)d[o].sType=null;else{for(r=0,a=d.length;a>r;r++)d[r].sType=null;F(s)}}function L(e,t,o,r){var a,s,l,c=[],d=t.firstChild,u=0,h=e.aoColumns,p=e._rowReadObject;r=r||p?{}:[];var f=function(e,t){if("string"==typeof e){var i=e.indexOf("@");if(-1!==i){var n=e.substring(i+1),o=A(e);o(r,t.getAttribute(n))}}},m=function(e){if(o===i||o===u)if(s=h[u],l=n.trim(e.innerHTML),s&&s._bAttrSrc){var t=A(s.mData._);t(r,l),f(s.mData.sort,e),f(s.mData.type,e),f(s.mData.filter,e)}else p?(s._setter||(s._setter=A(s.mData)),s._setter(r,l)):r[u]=l;u++};if(d)for(;d;)a=d.nodeName.toUpperCase(),("TD"==a||"TH"==a)&&(m(d),c.push(d)),d=d.nextSibling;else{c=t.anCells;for(var g=0,v=c.length;v>g;g++)m(c[g])}return{data:r,cells:c}}function $(e,i,n,o){var r,a,s,l,c,d=e.aoData[i],u=d._aData,h=[];if(null===d.nTr){for(r=n||t.createElement("tr"),d.nTr=r,d.anCells=h,r._DT_RowIndex=i,F(d),l=0,c=e.aoColumns.length;c>l;l++)s=e.aoColumns[l],a=n?o[l]:t.createElement(s.sCellType),h.push(a),(!n||s.mRender||s.mData!==l)&&(a.innerHTML=k(e,i,l,"display")),s.sClass&&(a.className+=" "+s.sClass),s.bVisible&&!n?r.appendChild(a):!s.bVisible&&n&&a.parentNode.removeChild(a),s.fnCreatedCell&&s.fnCreatedCell.call(e.oInstance,a,k(e,i,l),u,i,l);ze(e,"aoRowCreatedCallback",null,[r,u,i])}d.nTr.setAttribute("role","row")}function F(e){var t=e.nTr,i=e._aData;if(t){if(i.DT_RowId&&(t.id=i.DT_RowId),i.DT_RowClass){var o=i.DT_RowClass.split(" ");e.__rowc=e.__rowc?vt(e.__rowc.concat(o)):o,n(t).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&n(t).attr(i.DT_RowAttr),i.DT_RowData&&n(t).data(i.DT_RowData)}}function O(e){var t,i,o,r,a,s=e.nTHead,l=e.nTFoot,c=0===n("th, td",s).length,d=e.oClasses,u=e.aoColumns;for(c&&(r=n("<tr/>").appendTo(s)),t=0,i=u.length;i>t;t++)a=u[t],o=n(a.nTh).addClass(a.sClass),c&&o.appendTo(r),e.oFeatures.bSort&&(o.addClass(a.sSortingClass),a.bSortable!==!1&&(o.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Ee(e,a.nTh,t))),a.sTitle!=o.html()&&o.html(a.sTitle),qe(e,"header")(e,o,a,d);if(c&&z(e.aoHeader,s),n(s).find(">tr").attr("role","row"),n(s).find(">tr>th, >tr>td").addClass(d.sHeaderTH),n(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l){var h=e.aoFooter[0];for(t=0,i=h.length;i>t;t++)a=u[t],a.nTf=h[t].cell,a.sClass&&n(a.nTf).addClass(a.sClass)}}function N(e,t,o){var r,a,s,l,c,d,u,h,p,f=[],m=[],g=e.aoColumns.length;if(t){for(o===i&&(o=!1),r=0,a=t.length;a>r;r++){for(f[r]=t[r].slice(),f[r].nTr=t[r].nTr,s=g-1;s>=0;s--)e.aoColumns[s].bVisible||o||f[r].splice(s,1);m.push([])}for(r=0,a=f.length;a>r;r++){if(u=f[r].nTr)for(;d=u.firstChild;)u.removeChild(d);for(s=0,l=f[r].length;l>s;s++)if(h=1,p=1,m[r][s]===i){for(u.appendChild(f[r][s].cell),m[r][s]=1;f[r+h]!==i&&f[r][s].cell==f[r+h][s].cell;)m[r+h][s]=1,h++;for(;f[r][s+p]!==i&&f[r][s].cell==f[r][s+p].cell;){for(c=0;h>c;c++)m[r+c][s+p]=1;p++}n(f[r][s].cell).attr("rowspan",h).attr("colspan",p)}}}}function R(e){var t=ze(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==n.inArray(!1,t))return void fe(e,!1);var o=[],r=0,a=e.asStripeClasses,s=a.length,l=(e.aoOpenRows.length,e.oLanguage),c=e.iInitDisplayStart,d="ssp"==We(e),u=e.aiDisplay;e.bDrawing=!0,c!==i&&-1!==c&&(e._iDisplayStart=d?c:c>=e.fnRecordsDisplay()?0:c,e.iInitDisplayStart=-1);var h=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,fe(e,!1);else if(d){if(!e.bDestroying&&!W(e))return}else e.iDraw++;if(0!==u.length)for(var f=d?0:h,m=d?e.aoData.length:p,v=f;m>v;v++){var y=u[v],b=e.aoData[y];null===b.nTr&&$(e,y);var _=b.nTr;if(0!==s){var w=a[r%s];b._sRowStripe!=w&&(n(_).removeClass(b._sRowStripe).addClass(w),b._sRowStripe=w)}ze(e,"aoRowCallback",null,[_,b._aData,r,v]),o.push(_),r++}else{var x=l.sZeroRecords;1==e.iDraw&&"ajax"==We(e)?x=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(x=l.sEmptyTable),o[0]=n("<tr/>",{"class":s?a[0]:""}).append(n("<td />",{valign:"top",colSpan:g(e),"class":e.oClasses.sRowEmpty}).html(x))[0]}ze(e,"aoHeaderCallback","header",[n(e.nTHead).children("tr")[0],P(e),h,p,u]),ze(e,"aoFooterCallback","footer",[n(e.nTFoot).children("tr")[0],P(e),h,p,u]);var C=n(e.nTBody);C.children().detach(),C.append(n(o)),ze(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function j(e,t){var i=e.oFeatures,n=i.bSort,o=i.bFilter;n&&De(e),o?X(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,R(e),e._drawHold=!1}function H(e){var t=e.oClasses,i=n(e.nTable),o=n("<div/>").insertBefore(i),r=e.oFeatures,a=n("<div/>",{id:e.sTableId+"_wrapper","class":t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=o[0],e.nTableWrapper=a[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,l,c,d,u,h,p=e.sDom.split(""),f=0;f<p.length;f++){if(s=null,l=p[f],"<"==l){if(c=n("<div/>")[0],d=p[f+1],"'"==d||'"'==d){for(u="",h=2;p[f+h]!=d;)u+=p[f+h],h++;if("H"==u?u=t.sJUIHeader:"F"==u&&(u=t.sJUIFooter),-1!=u.indexOf(".")){var m=u.split(".");c.id=m[0].substr(1,m[0].length-1),c.className=m[1]}else"#"==u.charAt(0)?c.id=u.substr(1,u.length-1):c.className=u;f+=h}a.append(c),a=n(c)}else if(">"==l)a=a.parent();else if("l"==l&&r.bPaginate&&r.bLengthChange)s=de(e);else if("f"==l&&r.bFilter)s=G(e);else if("r"==l&&r.bProcessing)s=pe(e);else if("t"==l)s=me(e);else if("i"==l&&r.bInfo)s=oe(e);else if("p"==l&&r.bPaginate)s=ue(e);else if(0!==Ge.ext.feature.length)for(var g=Ge.ext.feature,v=0,y=g.length;y>v;v++)if(l==g[v].cFeature){s=g[v].fnInit(e);break}if(s){var b=e.aanFeatures;b[l]||(b[l]=[]),b[l].push(s),a.append(s)}}o.replaceWith(a)}function z(e,t){var i,o,r,a,s,l,c,d,u,h,p,f=n(t).children("tr"),m=function(e,t,i){for(var n=e[t];n[i];)i++;return i};for(e.splice(0,e.length),r=0,l=f.length;l>r;r++)e.push([]);for(r=0,l=f.length;l>r;r++)for(i=f[r],d=0,o=i.firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase())for(u=1*o.getAttribute("colspan"),h=1*o.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,h=h&&0!==h&&1!==h?h:1,c=m(e,r,d),p=1===u?!0:!1,s=0;u>s;s++)for(a=0;h>a;a++)e[r+a][c+s]={cell:o,unique:p},e[r+a].nTr=i;o=o.nextSibling}}function B(e,t,i){var n=[];i||(i=e.aoHeader,t&&(i=[],z(i,t)));for(var o=0,r=i.length;r>o;o++)for(var a=0,s=i[o].length;s>a;a++)!i[o][a].unique||n[a]&&e.bSortCellsTop||(n[a]=i[o][a].cell);return n}function q(e,t,i){if(ze(e,"aoServerParams","serverParams",[t]),t&&n.isArray(t)){var o={},r=/(.*?)\[\]$/;n.each(t,function(e,t){var i=t.name.match(r);if(i){var n=i[0];o[n]||(o[n]=[]),o[n].push(t.value)}else o[t.name]=t.value}),t=o}var a,s=e.ajax,l=e.oInstance,c=function(t){ze(e,null,"xhr",[e,t]),i(t)};if(n.isPlainObject(s)&&s.data){a=s.data;var d=n.isFunction(a)?a(t,e):a;t=n.isFunction(a)&&d?d:n.extend(!0,t,d),delete s.data}var u={data:t,success:function(t){var i=t.error||t.sError;i&&e.oApi._fnLog(e,0,i),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,i,n){var o=e.oApi._fnLog;"parsererror"==i?o(e,0,"Invalid JSON response",1):4===t.readyState&&o(e,0,"Ajax error",7),fe(e,!1)}};e.oAjaxData=t,ze(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,n.map(t,function(e,t){return{name:t,value:e}}),c,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=n.ajax(n.extend(u,{url:s||e.sAjaxSource})):n.isFunction(s)?e.jqXHR=s.call(l,t,c,e):(e.jqXHR=n.ajax(n.extend(u,s)),s.data=a)}function W(e){return e.bAjaxDataGet?(e.iDraw++,fe(e,!0),q(e,Y(e),function(t){U(e,t)}),!1):!0}function Y(e){var t,i,o,r,a=e.aoColumns,s=a.length,l=e.oFeatures,c=e.oPreviousSearch,d=e.aoPreSearchCols,u=[],h=Te(e),p=e._iDisplayStart,f=l.bPaginate!==!1?e._iDisplayLength:-1,m=function(e,t){u.push({name:e,value:t})};m("sEcho",e.iDraw),m("iColumns",s),m("sColumns",ht(a,"sName").join(",")),m("iDisplayStart",p),m("iDisplayLength",f);var g={draw:e.iDraw,columns:[],order:[],start:p,length:f,search:{value:c.sSearch,regex:c.bRegex}};for(t=0;s>t;t++)o=a[t],r=d[t],i="function"==typeof o.mData?"function":o.mData,g.columns.push({data:i,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),m("mDataProp_"+t,i),l.bFilter&&(m("sSearch_"+t,r.sSearch),m("bRegex_"+t,r.bRegex),m("bSearchable_"+t,o.bSearchable)),l.bSort&&m("bSortable_"+t,o.bSortable);l.bFilter&&(m("sSearch",c.sSearch),m("bRegex",c.bRegex)),l.bSort&&(n.each(h,function(e,t){g.order.push({column:t.col,dir:t.dir}),m("iSortCol_"+e,t.col),m("sSortDir_"+e,t.dir)}),m("iSortingCols",h.length));var v=Ge.ext.legacy.ajax;return null===v?e.sAjaxSource?u:g:v?u:g}function U(e,t){var n=function(e,n){return t[e]!==i?t[e]:t[n]},o=V(e,t),r=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<e.iDraw)return;e.iDraw=1*r}E(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(s,10);for(var l=0,c=o.length;c>l;l++)_(e,o[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,R(e),e._bInitComplete||le(e,t),e.bAjaxDataGet=!0,fe(e,!1)}function V(e,t){var o=n.isPlainObject(e.ajax)&&e.ajax.dataSrc!==i?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===o?t.aaData||t[o]:""!==o?D(o)(t):t}function G(e){var i=e.oClasses,o=e.sTableId,r=e.oLanguage,a=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=r.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var d=n("<div/>",{id:s.f?null:o+"_filter","class":i.sFilter}).append(n("<label/>").append(c)),u=function(){var t=(s.f,this.value?this.value:"");t!=a.sSearch&&(X(e,{sSearch:t,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),e._iDisplayStart=0,R(e))},h=null!==e.searchDelay?e.searchDelay:"ssp"===We(e)?400:0,p=n("input",d).val(a.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",h?be(u,h):u).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}).attr("aria-controls",o);return n(e.nTable).on("search.dt.DT",function(i,n){if(e===n)try{p[0]!==t.activeElement&&p.val(a.sSearch)}catch(o){}}),d[0]}function X(e,t,n){var o=e.oPreviousSearch,r=e.aoPreSearchCols,a=function(e){o.sSearch=e.sSearch,o.bRegex=e.bRegex,o.bSmart=e.bSmart,o.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex};if(y(e),"ssp"!=We(e)){J(e,t.sSearch,n,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var l=0;l<r.length;l++)K(e,r[l].sSearch,l,s(r[l]),r[l].bSmart,r[l].bCaseInsensitive);Q(e)}else a(t);e.bFiltered=!0,ze(e,null,"search",[e])}function Q(e){for(var t,i,n=Ge.ext.search,o=e.aiDisplay,r=0,a=n.length;a>r;r++){for(var s=[],l=0,c=o.length;c>l;l++)i=o[l],t=e.aoData[i],n[r](e,t._aFilterData,i,t._aData,l)&&s.push(i);o.length=0,o.push.apply(o,s)}}function K(e,t,i,n,o,r){if(""!==t)for(var a,s=e.aiDisplay,l=Z(t,n,o,r),c=s.length-1;c>=0;c--)a=e.aoData[s[c]]._aFilterData[i],l.test(a)||s.splice(c,1)}function J(e,t,i,n,o,r){var a,s,l,c=Z(t,n,o,r),d=e.oPreviousSearch.sSearch,u=e.aiDisplayMaster;if(0!==Ge.ext.search.length&&(i=!0),s=te(e),t.length<=0)e.aiDisplay=u.slice();else for((s||i||d.length>t.length||0!==t.indexOf(d)||e.bSorted)&&(e.aiDisplay=u.slice()),a=e.aiDisplay,l=a.length-1;l>=0;l--)c.test(e.aoData[a[l]]._sFilterRow)||a.splice(l,1)}function Z(e,t,i,o){if(e=t?e:ee(e),i){var r=n.map(e.match(/"[^"]+"|[^ ]+/g)||"",function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});e="^(?=.*?"+r.join(")(?=.*?")+").*$"}return new RegExp(e,o?"i":"")}function ee(e){return e.replace(ot,"\\$1")}function te(e){var t,i,n,o,r,a,s,l,c=e.aoColumns,d=Ge.ext.type.search,u=!1;for(i=0,o=e.aoData.length;o>i;i++)if(l=e.aoData[i],!l._aFilterData){for(a=[],n=0,r=c.length;r>n;n++)t=c[n],t.bSearchable?(s=k(e,i,n,"filter"),d[t.sType]&&(s=d[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(wt.innerHTML=s,s=xt?wt.textContent:wt.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),u=!0}return u}function ie(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ne(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function oe(e){var t=e.sTableId,i=e.aanFeatures.i,o=n("<div/>",{"class":e.oClasses.sInfo,id:i?null:t+"_info"});return i||(e.aoDrawCallback.push({fn:re,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),n(e.nTable).attr("aria-describedby",t+"_info")),o[0]}function re(e){var t=e.aanFeatures.i;if(0!==t.length){var i=e.oLanguage,o=e._iDisplayStart+1,r=e.fnDisplayEnd(),a=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=ae(e,l);var c=i.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,o,r,a,s,l)),n(t).html(l)}}function ae(e,t){var i=e.fnFormatNumber,n=e._iDisplayStart+1,o=e._iDisplayLength,r=e.fnRecordsDisplay(),a=-1===o;return t.replace(/_START_/g,i.call(e,n)).replace(/_END_/g,i.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,i.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(e,r)).replace(/_PAGE_/g,i.call(e,a?1:Math.ceil(n/o))).replace(/_PAGES_/g,i.call(e,a?1:Math.ceil(r/o)))}function se(e){var t,i,n,o=e.iInitDisplayStart,r=e.aoColumns,a=e.oFeatures;if(!e.bInitialised)return void setTimeout(function(){se(e)},200);for(H(e),O(e),N(e,e.aoHeader),N(e,e.aoFooter),fe(e,!0),a.bAutoWidth&&ye(e),t=0,i=r.length;i>t;t++)n=r[t],n.sWidth&&(n.nTh.style.width=ke(n.sWidth));j(e);var s=We(e);"ssp"!=s&&("ajax"==s?q(e,[],function(i){var n=V(e,i);for(t=0;t<n.length;t++)_(e,n[t]);e.iInitDisplayStart=o,j(e),fe(e,!1),le(e,i)},e):(fe(e,!1),le(e)))}function le(e,t){e._bInitComplete=!0,t&&p(e),ze(e,"aoInitComplete","init",[e,t])}function ce(e,t){var i=parseInt(t,10);e._iDisplayLength=i,Be(e),ze(e,null,"length",[e,i])}function de(e){for(var t=e.oClasses,i=e.sTableId,o=e.aLengthMenu,r=n.isArray(o[0]),a=r?o[0]:o,s=r?o[1]:o,l=n("<select/>",{name:i+"_length","aria-controls":i,"class":t.sLengthSelect}),c=0,d=a.length;d>c;c++)l[0][c]=new Option(s[c],a[c]);var u=n("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(u[0].id=i+"_length"),u.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),n("select",u).val(e._iDisplayLength).bind("change.DT",function(t){ce(e,n(this).val()),R(e)}),n(e.nTable).bind("length.dt.DT",function(t,i,o){e===i&&n("select",u).val(o)}),u[0]}function ue(e){var t=e.sPaginationType,i=Ge.ext.pager[t],o="function"==typeof i,r=function(e){R(e)},a=n("<div/>").addClass(e.oClasses.sPaging+t)[0],s=e.aanFeatures;return o||i.fnInit(e,a,r),s.p||(a.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(o){var t,n,a=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),d=-1===l,u=d?0:Math.ceil(a/l),h=d?1:Math.ceil(c/l),p=i(u,h);for(t=0,n=s.p.length;n>t;t++)qe(e,"pageButton")(e,s.p[t],t,p,u,h)}else i.fnUpdate(e,r)},sName:"pagination"})),a}function he(e,t,i){var n=e._iDisplayStart,o=e._iDisplayLength,r=e.fnRecordsDisplay();0===r||-1===o?n=0:"number"==typeof t?(n=t*o,n>r&&(n=0)):"first"==t?n=0:"previous"==t?(n=o>=0?n-o:0,0>n&&(n=0)):"next"==t?r>n+o&&(n+=o):"last"==t?n=Math.floor((r-1)/o)*o:Oe(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==n;return e._iDisplayStart=n,a&&(ze(e,null,"page",[e]),i&&R(e)),a}function pe(e){return n("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function fe(e,t){e.oFeatures.bProcessing&&n(e.aanFeatures.r).css("display",t?"block":"none"),ze(e,null,"processing",[e,t])}function me(e){var t=n(e.nTable);t.attr("role","grid");var i=e.oScroll;if(""===i.sX&&""===i.sY)return e.nTable;var o=i.sX,r=i.sY,a=e.oClasses,s=t.children("caption"),l=s.length?s[0]._captionSide:null,c=n(t[0].cloneNode(!1)),d=n(t[0].cloneNode(!1)),u=t.children("tfoot"),h="<div/>",p=function(e){return e?ke(e):null};i.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),u.length||(u=null);var f=n(h,{"class":a.sScrollWrapper}).append(n(h,{"class":a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?p(o):"100%"}).append(n(h,{"class":a.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(t.children("thead"))))).append(n(h,{"class":a.sScrollBody}).css({overflow:"auto",height:p(r),width:p(o)}).append(t));u&&f.append(n(h,{"class":a.sScrollFoot}).css({overflow:"hidden",border:0,width:o?p(o):"100%"}).append(n(h,{"class":a.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(t.children("tfoot")))));var m=f.children(),g=m[0],v=m[1],y=u?m[2]:null;return o&&n(v).on("scroll.DT",function(e){var t=this.scrollLeft;g.scrollLeft=t,u&&(y.scrollLeft=t)}),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=y,e.aoDrawCallback.push({fn:ge,sName:"scrolling"}),f[0]}function ge(e){var t,i,o,r,a,s,l,c,d,u=e.oScroll,h=u.sX,p=u.sXInner,m=u.sY,g=u.iBarWidth,v=n(e.nScrollHead),y=v[0].style,b=v.children("div"),_=b[0].style,w=b.children("table"),x=e.nScrollBody,C=n(x),k=x.style,S=n(e.nScrollFoot),T=S.children("div"),D=T.children("table"),A=n(e.nTHead),P=n(e.nTable),E=P[0],I=E.style,M=e.nTFoot?n(e.nTFoot):null,L=e.oBrowser,$=L.bScrollOversize,F=[],O=[],N=[],R=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};if(P.children("thead, tfoot").remove(),a=A.clone().prependTo(P),t=A.find("tr"),o=a.find("tr"),a.find("th, td").removeAttr("tabindex"),M&&(s=M.clone().prependTo(P),i=M.find("tr"),r=s.find("tr")),h||(k.width="100%",v[0].style.width="100%"),n.each(B(e,a),function(t,i){l=f(e,t),i.style.width=e.aoColumns[l].sWidth}),M&&ve(function(e){e.style.width=""},r),u.bCollapse&&""!==m&&(k.height=C[0].offsetHeight+A[0].offsetHeight+"px"),d=P.outerWidth(),""===h?(I.width="100%",$&&(P.find("tbody").height()>x.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=ke(P.outerWidth()-g))):""!==p?I.width=ke(p):d==C.width()&&C.height()<P.height()?(I.width=ke(d-g),P.outerWidth()>d-g&&(I.width=ke(d))):I.width=ke(d),d=P.outerWidth(),ve(R,o),ve(function(e){N.push(e.innerHTML),F.push(ke(n(e).css("width")))},o),ve(function(e,t){e.style.width=F[t]},t),n(o).height(0),M&&(ve(R,r),ve(function(e){O.push(ke(n(e).css("width")))},r),ve(function(e,t){e.style.width=O[t]},i),n(r).height(0)),ve(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+N[t]+"</div>",e.style.width=F[t]},o),M&&ve(function(e,t){e.innerHTML="",e.style.width=O[t]},r),P.outerWidth()<d?(c=x.scrollHeight>x.offsetHeight||"scroll"==C.css("overflow-y")?d+g:d,$&&(x.scrollHeight>x.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=ke(c-g)),(""===h||""!==p)&&Oe(e,1,"Possible column misalignment",6)):c="100%",
k.width=ke(c),y.width=ke(c),M&&(e.nScrollFoot.style.width=ke(c)),m||$&&(k.height=ke(E.offsetHeight+g)),m&&u.bCollapse){k.height=ke(m);var j=h&&E.offsetWidth>x.offsetWidth?g:0;E.offsetHeight<x.offsetHeight&&(k.height=ke(E.offsetHeight+j))}var H=P.outerWidth();w[0].style.width=ke(H),_.width=ke(H);var z=P.height()>x.clientHeight||"scroll"==C.css("overflow-y"),q="padding"+(L.bScrollbarLeft?"Left":"Right");_[q]=z?g+"px":"0px",M&&(D[0].style.width=ke(H),T[0].style.width=ke(H),T[0].style[q]=z?g+"px":"0px"),C.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(x.scrollTop=0)}function ve(e,t,i){for(var n,o,r=0,a=0,s=t.length;s>a;){for(n=t[a].firstChild,o=i?i[a].firstChild:null;n;)1===n.nodeType&&(i?e(n,o,r):e(n,r),r++),n=n.nextSibling,o=i?o.nextSibling:null;a++}}function ye(t){var i,o,r,a,s,l=t.nTable,c=t.aoColumns,d=t.oScroll,u=d.sY,h=d.sX,f=d.sXInner,m=c.length,y=v(t,"bVisible"),b=n("th",t.nTHead),_=l.getAttribute("width"),w=l.parentNode,x=!1,C=l.style.width;for(C&&-1!==C.indexOf("%")&&(_=C),i=0;i<y.length;i++)o=c[y[i]],null!==o.sWidth&&(o.sWidth=_e(o.sWidthOrig,w),x=!0);if(x||h||u||m!=g(t)||m!=b.length){var k=n(l).clone().empty().css("visibility","hidden").removeAttr("id").append(n(t.nTHead).clone(!1)).append(n(t.nTFoot).clone(!1)).append(n("<tbody><tr/></tbody>"));k.find("tfoot th, tfoot td").css("width","");var S=k.find("tbody tr");for(b=B(t,k.find("thead")[0]),i=0;i<y.length;i++)o=c[y[i]],b[i].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?ke(o.sWidthOrig):"";if(t.aoData.length)for(i=0;i<y.length;i++)r=y[i],o=c[r],n(xe(t,r)).clone(!1).append(o.sContentPadding).appendTo(S);if(k.appendTo(w),h&&f?k.width(f):h?(k.css("width","auto"),k.width()<w.offsetWidth&&k.width(w.offsetWidth)):u?k.width(w.offsetWidth):_&&k.width(_),we(t,k[0]),h){var T=0;for(i=0;i<y.length;i++)o=c[y[i]],s=n(b[i]).outerWidth(),T+=null===o.sWidthOrig?s:parseInt(o.sWidth,10)+s-n(b[i]).width();k.width(ke(T)),l.style.width=ke(T)}for(i=0;i<y.length;i++)o=c[y[i]],a=n(b[i]).width(),a&&(o.sWidth=ke(a));l.style.width=ke(k.css("width")),k.remove()}else for(i=0;m>i;i++)c[i].sWidth=ke(b.eq(i).width());_&&(l.style.width=ke(_)),!_&&!h||t._reszEvt||(n(e).bind("resize.DT-"+t.sInstance,be(function(){p(t)})),t._reszEvt=!0)}function be(e,t){var n,o,r=t!==i?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&n+r>a?(clearTimeout(o),o=setTimeout(function(){n=i,e.apply(t,s)},r)):(n=a,e.apply(t,s))}}function _e(e,i){if(!e)return 0;var o=n("<div/>").css("width",ke(e)).appendTo(i||t.body),r=o[0].offsetWidth;return o.remove(),r}function we(e,t){var i=e.oScroll;if(i.sX||i.sY){var o=i.sX?0:i.iBarWidth;t.style.width=ke(n(t).outerWidth()-o)}}function xe(e,t){var i=Ce(e,t);if(0>i)return null;var o=e.aoData[i];return o.nTr?o.anCells[t]:n("<td/>").html(k(e,i,t,"display"))[0]}function Ce(e,t){for(var i,n=-1,o=-1,r=0,a=e.aoData.length;a>r;r++)i=k(e,r,t,"display")+"",i=i.replace(Ct,""),i.length>n&&(n=i.length,o=r);return o}function ke(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Se(){var e=Ge.__scrollbarWidth;if(e===i){var t=n("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body");e=t[0].offsetWidth-t[0].clientWidth,Ge.__scrollbarWidth=e,t.remove()}return e}function Te(e){var t,o,r,a,s,l,c,d=[],u=e.aoColumns,h=e.aaSortingFixed,p=n.isPlainObject(h),f=[],m=function(e){e.length&&!n.isArray(e[0])?f.push(e):f.push.apply(f,e)};for(n.isArray(h)&&m(h),p&&h.pre&&m(h.pre),m(e.aaSorting),p&&h.post&&m(h.post),t=0;t<f.length;t++)for(c=f[t][0],a=u[c].aDataSort,o=0,r=a.length;r>o;o++)s=a[o],l=u[s].sType||"string",f[t]._idx===i&&(f[t]._idx=n.inArray(f[t][1],u[s].asSorting)),d.push({src:c,col:s,dir:f[t][1],index:f[t]._idx,type:l,formatter:Ge.ext.type.order[l+"-pre"]});return d}function De(e){var t,i,n,o,r,a=[],s=Ge.ext.type.order,l=e.aoData,c=(e.aoColumns,0),d=e.aiDisplayMaster;for(y(e),r=Te(e),t=0,i=r.length;i>t;t++)o=r[t],o.formatter&&c++,Me(e,o.col);if("ssp"!=We(e)&&0!==r.length){for(t=0,n=d.length;n>t;t++)a[d[t]]=t;c===r.length?d.sort(function(e,t){var i,n,o,s,c,d=r.length,u=l[e]._aSortData,h=l[t]._aSortData;for(o=0;d>o;o++)if(c=r[o],i=u[c.col],n=h[c.col],s=n>i?-1:i>n?1:0,0!==s)return"asc"===c.dir?s:-s;return i=a[e],n=a[t],n>i?-1:i>n?1:0}):d.sort(function(e,t){var i,n,o,c,d,u,h=r.length,p=l[e]._aSortData,f=l[t]._aSortData;for(o=0;h>o;o++)if(d=r[o],i=p[d.col],n=f[d.col],u=s[d.type+"-"+d.dir]||s["string-"+d.dir],c=u(i,n),0!==c)return c;return i=a[e],n=a[t],n>i?-1:i>n?1:0})}e.bSorted=!0}function Ae(e){for(var t,i,n=e.aoColumns,o=Te(e),r=e.oLanguage.oAria,a=0,s=n.length;s>a;a++){var l=n[a],c=l.asSorting,d=l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(o.length>0&&o[0].col==a?(u.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),i=c[o[0].index+1]||c[0]):i=c[0],t=d+("asc"===i?r.sSortAscending:r.sSortDescending)):t=d,u.setAttribute("aria-label",t)}}function Pe(e,t,o,r){var a,s=e.aoColumns[t],l=e.aaSorting,c=s.asSorting,d=function(e,t){var o=e._idx;return o===i&&(o=n.inArray(e[1],c)),o+1<c.length?o+1:t?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),o&&e.oFeatures.bSortMulti){var u=n.inArray(t,ht(l,"0"));-1!==u?(a=d(l[u],!0),null===a&&1===l.length&&(a=0),null===a?l.splice(u,1):(l[u][1]=c[a],l[u]._idx=a)):(l.push([t,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==t?(a=d(l[0]),l.length=1,l[0][1]=c[a],l[0]._idx=a):(l.length=0,l.push([t,c[0]]),l[0]._idx=0);j(e),"function"==typeof r&&r(e)}function Ee(e,t,i,n){var o=e.aoColumns[i];je(t,{},function(t){o.bSortable!==!1&&(e.oFeatures.bProcessing?(fe(e,!0),setTimeout(function(){Pe(e,i,t.shiftKey,n),"ssp"!==We(e)&&fe(e,!1)},0)):Pe(e,i,t.shiftKey,n))})}function Ie(e){var t,i,o,r=e.aLastSort,a=e.oClasses.sSortColumn,s=Te(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(t=0,i=r.length;i>t;t++)o=r[t].src,n(ht(e.aoData,"anCells",o)).removeClass(a+(2>t?t+1:3));for(t=0,i=s.length;i>t;t++)o=s[t].src,n(ht(e.aoData,"anCells",o)).addClass(a+(2>t?t+1:3))}e.aLastSort=s}function Me(e,t){var i,n=e.aoColumns[t],o=Ge.ext.order[n.sSortDataType];o&&(i=o.call(e.oInstance,e,t,m(e,t)));for(var r,a,s=Ge.ext.type.order[n.sType+"-pre"],l=0,c=e.aoData.length;c>l;l++)r=e.aoData[l],r._aSortData||(r._aSortData=[]),(!r._aSortData[t]||o)&&(a=o?i[l]:k(e,l,t,"sort"),r._aSortData[t]=s?s(a):a)}function Le(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:n.extend(!0,[],e.aaSorting),search:ie(e.oPreviousSearch),columns:n.map(e.aoColumns,function(t,i){return{visible:t.bVisible,search:ie(e.aoPreSearchCols[i])}})};ze(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}}function $e(e,t){var o,r,a=e.aoColumns;if(e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e);if(s&&s.time){var l=ze(e,"aoStateLoadParams","stateLoadParams",[e,s]);if(-1===n.inArray(!1,l)){var c=e.iStateDuration;if(!(c>0&&s.time<+new Date-1e3*c)&&a.length===s.columns.length){for(e.oLoadedState=n.extend(!0,{},s),s.start!==i&&(e._iDisplayStart=s.start,e.iInitDisplayStart=s.start),s.length!==i&&(e._iDisplayLength=s.length),s.order!==i&&(e.aaSorting=[],n.each(s.order,function(t,i){e.aaSorting.push(i[0]>=a.length?[0,i[1]]:i)})),s.search!==i&&n.extend(e.oPreviousSearch,ne(s.search)),o=0,r=s.columns.length;r>o;o++){var d=s.columns[o];d.visible!==i&&(a[o].bVisible=d.visible),d.search!==i&&n.extend(e.aoPreSearchCols[o],ne(d.search))}ze(e,"aoStateLoaded","stateLoaded",[e,s])}}}}}function Fe(e){var t=Ge.settings,i=n.inArray(e,ht(t,"nTable"));return-1!==i?t[i]:null}function Oe(t,i,n,o){if(n="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+n,o&&(n+=". For more information about this error, please see http://datatables.net/tn/"+o),i)e.console&&console.log&&console.log(n);else{var r=Ge.ext,a=r.sErrMode||r.errMode;if(ze(t,null,"error",[t,o,n]),"alert"==a)alert(n);else{if("throw"==a)throw new Error(n);"function"==typeof a&&a(t,o,n)}}}function Ne(e,t,o,r){return n.isArray(o)?void n.each(o,function(i,o){n.isArray(o)?Ne(e,t,o[0],o[1]):Ne(e,t,o)}):(r===i&&(r=o),void(t[o]!==i&&(e[r]=t[o])))}function Re(e,t,i){var o;for(var r in t)t.hasOwnProperty(r)&&(o=t[r],n.isPlainObject(o)?(n.isPlainObject(e[r])||(e[r]={}),n.extend(!0,e[r],o)):i&&"data"!==r&&"aaData"!==r&&n.isArray(o)?e[r]=o.slice():e[r]=o);return e}function je(e,t,i){n(e).bind("click.DT",t,function(t){e.blur(),i(t)}).bind("keypress.DT",t,function(e){13===e.which&&(e.preventDefault(),i(e))}).bind("selectstart.DT",function(){return!1})}function He(e,t,i,n){i&&e[t].push({fn:i,sName:n})}function ze(e,t,i,o){var r=[];return t&&(r=n.map(e[t].slice().reverse(),function(t,i){return t.fn.apply(e.oInstance,o)})),null!==i&&n(e.nTable).trigger(i+".dt",o),r}function Be(e){var t=e._iDisplayStart,i=e.fnDisplayEnd(),n=e._iDisplayLength;t>=i&&(t=i-n),t-=t%n,(-1===n||0>t)&&(t=0),e._iDisplayStart=t}function qe(e,t){var i=e.renderer,o=Ge.ext.renderer[t];return n.isPlainObject(i)&&i[t]?o[i[t]]||o._:"string"==typeof i?o[i]||o._:o._}function We(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Ye(e,t){var i=[],n=Ut.numbers_length,o=Math.floor(n/2);return n>=t?i=ft(0,t):o>=e?(i=ft(0,n-2),i.push("ellipsis"),i.push(t-1)):e>=t-1-o?(i=ft(t-(n-2),t),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=ft(e-o+2,e+o-1),i.push("ellipsis"),i.push(t-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Ue(e){n.each({num:function(t){return Vt(t,e)},"num-fmt":function(t){return Vt(t,e,rt)},"html-num":function(t){return Vt(t,e,tt)},"html-num-fmt":function(t){return Vt(t,e,tt,rt)}},function(t,i){Xe.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(Xe.type.search[t+e]=Xe.type.search.html)})}function Ve(e){return function(){var t=[Fe(this[Ge.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ge.ext.internal[e].apply(this,t)}}var Ge,Xe,Qe,Ke,Je,Ze={},et=/[\r\n]/g,tt=/<.*?>/g,it=/^[\w\+\-]/,nt=/[\w\+\-]$/,ot=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),rt=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,at=function(e){return e&&e!==!0&&"-"!==e?!1:!0},st=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},lt=function(e,t){return Ze[t]||(Ze[t]=new RegExp(ee(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ze[t],"."):e},ct=function(e,t,i){var n="string"==typeof e;return at(e)?!0:(t&&n&&(e=lt(e,t)),i&&n&&(e=e.replace(rt,"")),!isNaN(parseFloat(e))&&isFinite(e))},dt=function(e){return at(e)||"string"==typeof e},ut=function(e,t,i){if(at(e))return!0;var n=dt(e);return n&&ct(gt(e),t,i)?!0:null},ht=function(e,t,n){var o=[],r=0,a=e.length;if(n!==i)for(;a>r;r++)e[r]&&e[r][t]&&o.push(e[r][t][n]);else for(;a>r;r++)e[r]&&o.push(e[r][t]);return o},pt=function(e,t,n,o){var r=[],a=0,s=t.length;if(o!==i)for(;s>a;a++)e[t[a]][n]&&r.push(e[t[a]][n][o]);else for(;s>a;a++)r.push(e[t[a]][n]);return r},ft=function(e,t){var n,o=[];t===i?(t=0,n=e):(n=t,t=e);for(var r=t;n>r;r++)o.push(r);return o},mt=function(e){for(var t=[],i=0,n=e.length;n>i;i++)e[i]&&t.push(e[i]);return t},gt=function(e){return e.replace(tt,"")},vt=function(e){var t,i,n,o=[],r=e.length,a=0;e:for(i=0;r>i;i++){for(t=e[i],n=0;a>n;n++)if(o[n]===t)continue e;o.push(t),a++}return o},yt=function(e,t,n){e[t]!==i&&(e[n]=e[t])},bt=/\[.*?\]$/,_t=/\(\)$/,wt=n("<div>")[0],xt=wt.textContent!==i,Ct=/<.*?>/g;Ge=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Qe(e?Fe(this[Xe.iApiIndex]):this)},this.fnAddData=function(e,t){var o=this.api(!0),r=n.isArray(e)&&(n.isArray(e[0])||n.isPlainObject(e[0]))?o.rows.add(e):o.row.add(e);return(t===i||t)&&o.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],o=n.oScroll;e===i||e?t.draw(!1):(""!==o.sX||""!==o.sY)&&ge(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var o=this.api(!0),r=o.rows(e),a=r.settings()[0],s=a.aoData[r[0][0]];return r.remove(),t&&t.call(this,a,s),(n===i||n)&&o.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,o,r,a){var s=this.api(!0);null===t||t===i?s.search(e,n,o,a):s.column(t).search(e,n,o,a),s.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var o=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==o||"th"==o?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),i=e.nodeName.toUpperCase();if("TR"==i)return t.row(e).index();if("TD"==i||"TH"==i){var n=t.cell(e).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,i){return this.api(!0).row(e).child(t,i).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var o=this.api(!0).column(e).visible(t);(n===i||n)&&o.columns.adjust().draw()},this.fnSettings=function(){return Fe(this[Xe.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,i){this.api(!0).order.listener(e,t,i)},this.fnUpdate=function(e,t,n,o,r){var a=this.api(!0);return n===i||null===n?a.row(t).data(e):a.cell(t,n).data(e),(r===i||r)&&a.columns.adjust(),(o===i||o)&&a.draw(),0},this.fnVersionCheck=Xe.fnVersionCheck;var t=this,o=e===i,d=this.length;o&&(e={}),this.oApi=this.internal=Xe.internal;for(var p in Ge.ext.internal)p&&(this[p]=Ve(p));return this.each(function(){var p,f={},m=d>1?Re(f,e,!0):e,g=0,v=this.getAttribute("id"),y=!1,x=Ge.defaults,C=n(this);if("table"!=this.nodeName.toLowerCase())return void Oe(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(x),l(x.column),r(x,x,!0),r(x.column,x.column,!0),r(x,n.extend(m,C.data()));var k=Ge.settings;for(g=0,p=k.length;p>g;g++){var S=k[g];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var T=m.bRetrieve!==i?m.bRetrieve:x.bRetrieve,D=m.bDestroy!==i?m.bDestroy:x.bDestroy;if(o||T)return S.oInstance;if(D){S.oInstance.fnDestroy();break}return void Oe(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){k.splice(g,1);break}}(null===v||""===v)&&(v="DataTables_Table_"+Ge.ext._unique++,this.id=v);var A=n.extend(!0,{},Ge.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});A.nTable=this,A.oApi=t.internal,A.oInit=m,k.push(A),A.oInstance=1===t.length?t:C.dataTable(),s(m),m.oLanguage&&a(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=n.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Re(n.extend(!0,{},x),m),Ne(A.oFeatures,m,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ne(A,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ne(A.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ne(A.oLanguage,m,"fnInfoCallback"),He(A,"aoDrawCallback",m.fnDrawCallback,"user"),He(A,"aoServerParams",m.fnServerParams,"user"),He(A,"aoStateSaveParams",m.fnStateSaveParams,"user"),He(A,"aoStateLoadParams",m.fnStateLoadParams,"user"),He(A,"aoStateLoaded",m.fnStateLoaded,"user"),He(A,"aoRowCallback",m.fnRowCallback,"user"),He(A,"aoRowCreatedCallback",m.fnCreatedRow,"user"),He(A,"aoHeaderCallback",m.fnHeaderCallback,"user"),He(A,"aoFooterCallback",m.fnFooterCallback,"user"),He(A,"aoInitComplete",m.fnInitComplete,"user"),He(A,"aoPreDrawCallback",m.fnPreDrawCallback,"user");var P=A.oClasses;if(m.bJQueryUI?(n.extend(P,Ge.ext.oJUIClasses,m.oClasses),m.sDom===x.sDom&&"lfrtip"===x.sDom&&(A.sDom='<"H"lfr>t<"F"ip>'),A.renderer?n.isPlainObject(A.renderer)&&!A.renderer.header&&(A.renderer.header="jqueryui"):A.renderer="jqueryui"):n.extend(P,Ge.ext.classes,m.oClasses),C.addClass(P.sTable),(""!==A.oScroll.sX||""!==A.oScroll.sY)&&(A.oScroll.iBarWidth=Se()),A.oScroll.sX===!0&&(A.oScroll.sX="100%"),A.iInitDisplayStart===i&&(A.iInitDisplayStart=m.iDisplayStart,A._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading){A.bDeferLoading=!0;var E=n.isArray(m.iDeferLoading);A._iRecordsDisplay=E?m.iDeferLoading[0]:m.iDeferLoading,A._iRecordsTotal=E?m.iDeferLoading[1]:m.iDeferLoading}var I=A.oLanguage;n.extend(!0,I,m.oLanguage),""!==I.sUrl&&(n.ajax({dataType:"json",url:I.sUrl,success:function(e){a(e),r(x.oLanguage,e),n.extend(!0,I,e),se(A)},error:function(){se(A)}}),y=!0),null===m.asStripeClasses&&(A.asStripeClasses=[P.sStripeOdd,P.sStripeEven]);var M=A.asStripeClasses,$=C.children("tbody").find("tr").eq(0);-1!==n.inArray(!0,n.map(M,function(e,t){return $.hasClass(e)}))&&(n("tbody tr",this).removeClass(M.join(" ")),A.asDestroyStripes=M.slice());var F,O=[],N=this.getElementsByTagName("thead");if(0!==N.length&&(z(A.aoHeader,N[0]),O=B(A)),null===m.aoColumns)for(F=[],g=0,p=O.length;p>g;g++)F.push(null);else F=m.aoColumns;for(g=0,p=F.length;p>g;g++)u(A,O?O[g]:null);if(b(A,m.aoColumnDefs,F,function(e,t){h(A,e,t)}),$.length){var R=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};n.each(L(A,$[0]).cells,function(e,t){var n=A.aoColumns[e];if(n.mData===e){var o=R(t,"sort")||R(t,"order"),r=R(t,"filter")||R(t,"search");(null!==o||null!==r)&&(n.mData={_:e+".display",sort:null!==o?e+".@data-"+o:i,type:null!==o?e+".@data-"+o:i,filter:null!==r?e+".@data-"+r:i},h(A,e))}})}var j=A.oFeatures;if(m.bStateSave&&(j.bStateSave=!0,$e(A,m),He(A,"aoDrawCallback",Le,"state_save")),m.aaSorting===i){var H=A.aaSorting;for(g=0,p=H.length;p>g;g++)H[g][1]=A.aoColumns[g].asSorting[0]}Ie(A),j.bSort&&He(A,"aoDrawCallback",function(){if(A.bSorted){var e=Te(A),t={};n.each(e,function(e,i){t[i.src]=i.dir}),ze(A,null,"order",[A,e,t]),Ae(A)}}),He(A,"aoDrawCallback",function(){(A.bSorted||"ssp"===We(A)||j.bDeferRender)&&Ie(A)},"sc"),c(A);var q=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),W=C.children("thead");0===W.length&&(W=n("<thead/>").appendTo(this)),A.nTHead=W[0];var Y=C.children("tbody");0===Y.length&&(Y=n("<tbody/>").appendTo(this)),A.nTBody=Y[0];var U=C.children("tfoot");if(0===U.length&&q.length>0&&(""!==A.oScroll.sX||""!==A.oScroll.sY)&&(U=n("<tfoot/>").appendTo(this)),0===U.length||0===U.children().length?C.addClass(P.sNoFooter):U.length>0&&(A.nTFoot=U[0],z(A.aoFooter,A.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)_(A,m.aaData[g]);else(A.bDeferLoading||"dom"==We(A))&&w(A,n(A.nTBody).children("tr"));A.aiDisplay=A.aiDisplayMaster.slice(),A.bInitialised=!0,y===!1&&se(A)}),t=null,this};var kt=[],St=Array.prototype,Tt=function(e){var t,i,o=Ge.settings,r=n.map(o,function(e,t){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(t=n.inArray(e,r),-1!==t?[o[t]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=n(e):e instanceof n&&(i=e),i?i.map(function(e){return t=n.inArray(this,r),-1!==t?o[t]:null}).toArray():void 0):[]};Qe=function(e,t){if(!this instanceof Qe)throw"DT API must be constructed as a new object";var i=[],o=function(e){var t=Tt(e);t&&i.push.apply(i,t)};if(n.isArray(e))for(var r=0,a=e.length;a>r;r++)o(e[r]);else o(e);this.context=vt(i),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},Qe.extend(this,this,kt)},Ge.Api=Qe,Qe.prototype={concat:St.concat,context:[],each:function(e){for(var t=0,i=this.length;i>t;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Qe(t[e],this[e]):null},filter:function(e){var t=[];if(St.filter)t=St.filter.call(this,e,this);else for(var i=0,n=this.length;n>i;i++)e.call(this,this[i],i,this)&&t.push(this[i]);return new Qe(this.context,t)},flatten:function(){var e=[];return new Qe(this.context,e.concat.apply(e,this.toArray()))},join:St.join,indexOf:St.indexOf||function(e,t){for(var i=t||0,n=this.length;n>i;i++)if(this[i]===e)return i;return-1},iterator:function(e,t,n,o){var r,a,s,l,c,d,u,h,p=[],f=this.context,m=this.selector;for("string"==typeof e&&(o=n,n=t,t=e,e=!1),a=0,s=f.length;s>a;a++){var g=new Qe(f[a]);if("table"===t)r=n.call(g,f[a],a),r!==i&&p.push(r);else if("columns"===t||"rows"===t)r=n.call(g,f[a],this[a],a),r!==i&&p.push(r);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(u=this[a],"column-rows"===t&&(d=Mt(f[a],m.opts)),l=0,c=u.length;c>l;l++)h=u[l],r="cell"===t?n.call(g,f[a],h.row,h.column,a,l):n.call(g,f[a],h,a,l,d),r!==i&&p.push(r)}if(p.length||o){var v=new Qe(f,e?p.concat.apply([],p):p),y=v.selector;return y.rows=m.rows,y.cols=m.cols,y.opts=m.opts,v}return this},lastIndexOf:St.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(St.map)t=St.map.call(this,e,this);else for(var i=0,n=this.length;n>i;i++)t.push(e.call(this,this[i],i));return new Qe(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:St.pop,push:St.push,reduce:St.reduce||function(e,t){return d(this,e,t,0,this.length,1)},reduceRight:St.reduceRight||function(e,t){return d(this,e,t,this.length-1,-1,-1)},reverse:St.reverse,selector:null,shift:St.shift,sort:St.sort,splice:St.splice,toArray:function(){return St.slice.call(this)},to$:function(){return n(this)},toJQuery:function(){return n(this)},unique:function(){return new Qe(this.context,vt(this))},unshift:St.unshift},Qe.extend=function(e,t,i){if(i.length&&t&&(t instanceof Qe||t.__dt_wrapper)){var o,r,a,s=function(e,t,i){return function(){var n=t.apply(e,arguments);return Qe.extend(n,n,i.methodExt),n}};for(o=0,r=i.length;r>o;o++)a=i[o],t[a.name]="function"==typeof a.val?s(e,a.val,a):n.isPlainObject(a.val)?{}:a.val,t[a.name].__dt_wrapper=!0,Qe.extend(e,t[a.name],a.propExt)}},Qe.register=Ke=function(e,t){if(n.isArray(e))for(var i=0,o=e.length;o>i;i++)Qe.register(e[i],t);else{var r,a,s,l,c=e.split("."),d=kt,u=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i].name===t)return e[i];return null};for(r=0,a=c.length;a>r;r++){l=-1!==c[r].indexOf("()"),s=l?c[r].replace("()",""):c[r];var h=u(d,s);h||(h={name:s,val:{},methodExt:[],propExt:[]},d.push(h)),r===a-1?h.val=t:d=l?h.methodExt:h.propExt}}},Qe.registerPlural=Je=function(e,t,o){Qe.register(e,o),Qe.register(t,function(){var e=o.apply(this,arguments);return e===this?this:e instanceof Qe?e.length?n.isArray(e[0])?new Qe(e.context,e[0]):e[0]:i:e})};var Dt=function(e,t){if("number"==typeof e)return[t[e]];var i=n.map(t,function(e,t){return e.nTable});return n(i).filter(e).map(function(e){var o=n.inArray(this,i);return t[o]}).toArray()};Ke("tables()",function(e){return e?new Qe(Dt(e,this.context)):this}),Ke("table()",function(e){var t=this.tables(e),i=t.context;return i.length?new Qe(i[0]):t}),Je("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Je("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Je("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Je("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Je("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Ke("draw()",function(e){return this.iterator("table",function(t){j(t,e===!1)})}),Ke("page()",function(e){return e===i?this.page.info().page:this.iterator("table",function(t){he(t,e)})}),Ke("page.info()",function(e){if(0===this.context.length)return i;var t=this.context[0],n=t._iDisplayStart,o=t._iDisplayLength,r=t.fnRecordsDisplay(),a=-1===o;return{page:a?0:Math.floor(n/o),pages:a?1:Math.ceil(r/o),start:n,end:t.fnDisplayEnd(),length:o,recordsTotal:t.fnRecordsTotal(),recordsDisplay:r}}),Ke("page.len()",function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){ce(t,e)})});var At=function(e,t,i){if(i){var n=new Qe(e);n.one("draw",function(){i(n.ajax.json())})}"ssp"==We(e)?j(e,t):(fe(e,!0),q(e,[],function(i){E(e);for(var n=V(e,i),o=0,r=n.length;r>o;o++)_(e,n[o]);j(e,t),fe(e,!1)}))};Ke("ajax.json()",function(){var e=this.context;return e.length>0?e[0].json:void 0}),Ke("ajax.params()",function(){var e=this.context;return e.length>0?e[0].oAjaxData:void 0}),Ke("ajax.reload()",function(e,t){return this.iterator("table",function(i){At(i,t===!1,e)})}),Ke("ajax.url()",function(e){var t=this.context;return e===i?0===t.length?i:(t=t[0],t.ajax?n.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){n.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Ke("ajax.url().load()",function(e,t){return this.iterator("table",function(i){At(i,t===!1,e)})});var Pt=function(e,t){var o,r,a,s,l,c,d=[],u=typeof e;for(e&&"string"!==u&&"function"!==u&&e.length!==i||(e=[e]),a=0,s=e.length;s>a;a++)for(r=e[a]&&e[a].split?e[a].split(","):[e[a]],l=0,c=r.length;c>l;l++)o=t("string"==typeof r[l]?n.trim(r[l]):r[l]),o&&o.length&&d.push.apply(d,o);return d},Et=function(e){return e||(e={}),e.filter&&!e.search&&(e.search=e.filter),{search:e.search||"none",order:e.order||"current",page:e.page||"all"}},It=function(e){for(var t=0,i=e.length;i>t;t++)if(e[t].length>0)return e[0]=e[t],e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Mt=function(e,t){var i,o,r,a=[],s=e.aiDisplay,l=e.aiDisplayMaster,c=t.search,d=t.order,u=t.page;if("ssp"==We(e))return"removed"===c?[]:ft(0,l.length);if("current"==u)for(i=e._iDisplayStart,o=e.fnDisplayEnd();o>i;i++)a.push(s[i]);else if("current"==d||"applied"==d)a="none"==c?l.slice():"applied"==c?s.slice():n.map(l,function(e,t){return-1===n.inArray(e,s)?e:null});else if("index"==d||"original"==d)for(i=0,o=e.aoData.length;o>i;i++)"none"==c?a.push(i):(r=n.inArray(i,s),(-1===r&&"removed"==c||r>=0&&"applied"==c)&&a.push(i));return a},Lt=function(e,t,i){return Pt(t,function(t){var o=st(t);if(null!==o&&!i)return[o];var r=Mt(e,i);if(null!==o&&-1!==n.inArray(o,r))return[o];if(!t)return r;if("function"==typeof t)return n.map(r,function(i){var n=e.aoData[i];return t(i,n._aData,n.nTr)?i:null});var a=mt(pt(e.aoData,r,"nTr"));return t.nodeName&&-1!==n.inArray(t,a)?[t._DT_RowIndex]:n(a).filter(t).map(function(){return this._DT_RowIndex}).toArray()})};Ke("rows()",function(e,t){e===i?e="":n.isPlainObject(e)&&(t=e,e=""),t=Et(t);var o=this.iterator("table",function(i){return Lt(i,e,t)},1);return o.selector.rows=e,o.selector.opts=t,o}),Ke("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||i},1)}),Ke("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return pt(e.aoData,t,"_aData")},1)}),Je("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,i){var n=t.aoData[i];return"search"===e?n._aFilterData:n._aSortData},1)}),Je("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,i){M(t,i,e)})}),Je("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Je("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,i,o){var r=t.aoData;r.splice(i,1);for(var a=0,s=r.length;s>a;a++)null!==r[a].nTr&&(r[a].nTr._DT_RowIndex=a);n.inArray(i,t.aiDisplay);I(t.aiDisplayMaster,i),I(t.aiDisplay,i),I(e[o],i,!1),Be(t)})}),Ke("rows.add()",function(e){var t=this.iterator("table",function(t){var i,n,o,r=[];for(n=0,o=e.length;o>n;n++)i=e[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?r.push(w(t,i)[0]):r.push(_(t,i));return r},1),i=this.rows(-1);return i.pop(),i.push.apply(i,t.toArray()),i}),Ke("row()",function(e,t){return It(this.rows(e,t))}),Ke("row().data()",function(e){var t=this.context;return e===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=e,M(t[0],this[0],"data"),this)}),Ke("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Ke("row.add()",function(e){e instanceof n&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?w(t,e)[0]:_(t,e)});return this.row(t[0])});var $t=function(e,t,i,o){var r=[],a=function(t,i){if(n.isArray(t)||t instanceof n)for(var o=0,s=t.length;s>o;o++)a(t[o],i);else if(t.nodeName&&"tr"===t.nodeName.toLowerCase())r.push(t);else{var l=n("<tr><td/></tr>").addClass(i);n("td",l).addClass(i).html(t)[0].colSpan=g(e),r.push(l[0])}};a(i,o),t._details&&t._details.remove(),t._details=n(r),t._detailsShow&&t._details.insertAfter(t.nTr)},Ft=function(e,t){var n=e.context;if(n.length){var o=n[0].aoData[t!==i?t:e[0]];o._details&&(o._details.remove(),o._detailsShow=i,o._details=i)}},Ot=function(e,t){var i=e.context;if(i.length&&e.length){var n=i[0].aoData[e[0]];n._details&&(n._detailsShow=t,t?n._details.insertAfter(n.nTr):n._details.detach(),Nt(i[0]))}},Nt=function(e){var t=new Qe(e),i=".dt.DT_details",n="draw"+i,o="column-visibility"+i,r="destroy"+i,a=e.aoData;t.off(n+" "+o+" "+r),ht(a,"_details").length>0&&(t.on(n,function(i,n){e===n&&t.rows({page:"current"}).eq(0).each(function(e){var t=a[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(o,function(t,i,n,o){if(e===i)for(var r,s=g(i),l=0,c=a.length;c>l;l++)r=a[l],r._details&&r._details.children("td[colspan]").attr("colspan",s)}),t.on(r,function(i,n){if(e===n)for(var o=0,r=a.length;r>o;o++)a[o]._details&&Ft(t,o)}))},Rt="",jt=Rt+"row().child",Ht=jt+"()";Ke(Ht,function(e,t){var n=this.context;return e===i?n.length&&this.length?n[0].aoData[this[0]]._details:i:(e===!0?this.child.show():e===!1?Ft(this):n.length&&this.length&&$t(n[0],n[0].aoData[this[0]],e,t),this)}),Ke([jt+".show()",Ht+".show()"],function(e){return Ot(this,!0),this}),Ke([jt+".hide()",Ht+".hide()"],function(){return Ot(this,!1),this}),Ke([jt+".remove()",Ht+".remove()"],function(){return Ft(this),this}),Ke(jt+".isShown()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]]._detailsShow||!1:!1});var zt=/^(.+):(name|visIdx|visible)$/,Bt=function(e,t,i,n,o){for(var r=[],a=0,s=o.length;s>a;a++)r.push(k(e,o[a],t));return r},qt=function(e,t,i){var o=e.aoColumns,r=ht(o,"sName"),a=ht(o,"nTh");return Pt(t,function(t){var s=st(t);if(""===t)return ft(o.length);if(null!==s)return[s>=0?s:o.length+s];if("function"==typeof t){var l=Mt(e,i);return n.map(o,function(i,n){return t(n,Bt(e,n,0,0,l),a[n])?n:null})}var c="string"==typeof t?t.match(zt):"";if(!c)return n(a).filter(t).map(function(){return n.inArray(this,a)}).toArray();switch(c[2]){case"visIdx":case"visible":var d=parseInt(c[1],10);if(0>d){var u=n.map(o,function(e,t){return e.bVisible?t:null});return[u[u.length+d]]}return[f(e,d)];case"name":return n.map(r,function(e,t){return e===c[1]?t:null})}})},Wt=function(e,t,o,r){var a,s,l,c,d=e.aoColumns,u=d[t],h=e.aoData;if(o===i)return u.bVisible;if(u.bVisible!==o){if(o){var f=n.inArray(!0,ht(d,"bVisible"),t+1);for(s=0,l=h.length;l>s;s++)c=h[s].nTr,a=h[s].anCells,c&&c.insertBefore(a[t],a[f]||null)}else n(ht(e.aoData,"anCells",t)).detach();u.bVisible=o,N(e,e.aoHeader),N(e,e.aoFooter),(r===i||r)&&(p(e),(e.oScroll.sX||e.oScroll.sY)&&ge(e)),ze(e,null,"column-visibility",[e,t,o]),Le(e)}};Ke("columns()",function(e,t){e===i?e="":n.isPlainObject(e)&&(t=e,e=""),t=Et(t);var o=this.iterator("table",function(i){return qt(i,e,t)},1);return o.selector.cols=e,o.selector.opts=t,o}),Je("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Je("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Je("columns().data()","column().data()",function(){return this.iterator("column-rows",Bt,1)}),Je("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Je("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,i,n,o,r){return pt(t.aoData,r,"search"===e?"_aFilterData":"_aSortData",i)},1)}),
Je("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,i,n,o){return pt(e.aoData,o,"anCells",t)},1)}),Je("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(n,o){return e===i?n.aoColumns[o].bVisible:void Wt(n,o,e,t)})}),Je("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,i){return"visible"===e?m(t,i):i},1)}),Ke("columns.adjust()",function(){return this.iterator("table",function(e){p(e)},1)}),Ke("column.index()",function(e,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===e||"toData"===e)return f(i,t);if("fromData"===e||"toVisible"===e)return m(i,t)}}),Ke("column()",function(e,t){return It(this.columns(e,t))});var Yt=function(e,t,o){var r,a,s,l,c,d,u,h=e.aoData,p=Mt(e,o),f=mt(pt(h,p,"anCells")),m=n([].concat.apply([],f)),g=e.aoColumns.length;return Pt(t,function(t){var o="function"==typeof t;if(null===t||t===i||o){for(a=[],s=0,l=p.length;l>s;s++)for(r=p[s],c=0;g>c;c++)d={row:r,column:c},o?(u=e.aoData[r],t(d,k(e,r,c),u.anCells[c])&&a.push(d)):a.push(d);return a}return n.isPlainObject(t)?[t]:m.filter(t).map(function(e,t){return r=t.parentNode._DT_RowIndex,{row:r,column:n.inArray(t,h[r].anCells)}}).toArray()})};Ke("cells()",function(e,t,o){if(n.isPlainObject(e)&&(e.row===i?(o=e,e=null):(o=t,t=null)),n.isPlainObject(t)&&(o=t,t=null),null===t||t===i)return this.iterator("table",function(t){return Yt(t,e,Et(o))});var r,a,s,l,c,d=this.columns(t,o),u=this.rows(e,o),h=this.iterator("table",function(e,t){for(r=[],a=0,s=u[t].length;s>a;a++)for(l=0,c=d[t].length;c>l;l++)r.push({row:u[t][a],column:d[t][l]});return r},1);return n.extend(h.selector,{cols:t,rows:e,opts:o}),h}),Je("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var o=e.aoData[t].anCells;return o?o[n]:i},1)}),Ke("cells().data()",function(){return this.iterator("cell",function(e,t,i){return k(e,t,i)},1)}),Je("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,n){return t.aoData[i][e][n]},1)}),Je("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,i,n){return k(t,i,n,e)},1)}),Je("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,i){return{row:t,column:i,columnVisible:m(e,i)}},1)}),Je("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,i,n){M(t,i,e,n)})}),Ke("cell()",function(e,t,i){return It(this.cells(e,t,i))}),Ke("cell().data()",function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?k(t[0],n[0].row,n[0].column):i:(S(t[0],n[0].row,n[0].column,e),M(t[0],n[0].row,"data",n[0].column),this)}),Ke("order()",function(e,t){var o=this.context;return e===i?0!==o.length?o[0].aaSorting:i:("number"==typeof e?e=[[e,t]]:n.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Ke("order.listener()",function(e,t,i){return this.iterator("table",function(n){Ee(n,e,t,i)})}),Ke(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(i,o){var r=[];n.each(t[o],function(t,i){r.push([i,e])}),i.aaSorting=r})}),Ke("search()",function(e,t,o,r){var a=this.context;return e===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&X(i,n.extend({},i.oPreviousSearch,{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===o?!0:o,bCaseInsensitive:null===r?!0:r}),1)})}),Je("columns().search()","column().search()",function(e,t,o,r){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;return e===i?l[s].sSearch:void(a.oFeatures.bFilter&&(n.extend(l[s],{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===o?!0:o,bCaseInsensitive:null===r?!0:r}),X(a,a.oPreviousSearch,1)))})}),Ke("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ke("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Ke("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ke("state.save()",function(){return this.iterator("table",function(e){Le(e)})}),Ge.versionCheck=Ge.fnVersionCheck=function(e){for(var t,i,n=Ge.version.split("."),o=e.split("."),r=0,a=o.length;a>r;r++)if(t=parseInt(n[r],10)||0,i=parseInt(o[r],10)||0,t!==i)return t>i;return!0},Ge.isDataTable=Ge.fnIsDataTable=function(e){var t=n(e).get(0),i=!1;return n.each(Ge.settings,function(e,o){var r=o.nScrollHead?n("table",o.nScrollHead)[0]:null,a=o.nScrollFoot?n("table",o.nScrollFoot)[0]:null;(o.nTable===t||r===t||a===t)&&(i=!0)}),i},Ge.tables=Ge.fnTables=function(e){return n.map(Ge.settings,function(t){return!e||e&&n(t.nTable).is(":visible")?t.nTable:void 0})},Ge.util={throttle:be,escapeRegex:ee},Ge.camelToHungarian=r,Ke("$()",function(e,t){var i=this.rows(t).nodes(),o=n(i);return n([].concat(o.filter(e).toArray(),o.find(e).toArray()))}),n.each(["on","one","off"],function(e,t){Ke(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var i=n(this.tables().nodes());return i[t].apply(i,e),this})}),Ke("clear()",function(){return this.iterator("table",function(e){E(e)})}),Ke("settings()",function(){return new Qe(this.context,this.context)}),Ke("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Ke("data()",function(){return this.iterator("table",function(e){return ht(e.aoData,"_aData")}).flatten()}),Ke("destroy()",function(t){return t=t||!1,this.iterator("table",function(i){var o,r=i.nTableWrapper.parentNode,a=i.oClasses,s=i.nTable,l=i.nTBody,c=i.nTHead,d=i.nTFoot,u=n(s),h=n(l),p=n(i.nTableWrapper),f=n.map(i.aoData,function(e){return e.nTr});i.bDestroying=!0,ze(i,"aoDestroyCallback","destroy",[i]),t||new Qe(i).columns().visible(!0),p.unbind(".DT").find(":not(tbody *)").unbind(".DT"),n(e).unbind(".DT-"+i.sInstance),s!=c.parentNode&&(u.children("thead").detach(),u.append(c)),d&&s!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),u.detach(),p.detach(),i.aaSorting=[],i.aaSortingFixed=[],Ie(i),n(f).removeClass(i.asStripeClasses.join(" ")),n("th, td",c).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),i.bJUI&&(n("th span."+a.sSortIcon+", td span."+a.sSortIcon,c).detach(),n("th, td",c).each(function(){var e=n("div."+a.sSortJUIWrapper,this);n(this).append(e.contents()),e.detach()})),!t&&r&&r.insertBefore(s,i.nTableReinsertBefore),h.children().detach(),h.append(f),u.css("width",i.sDestroyWidth).removeClass(a.sTable),o=i.asDestroyStripes.length,o&&h.children().each(function(e){n(this).addClass(i.asDestroyStripes[e%o])});var m=n.inArray(i,Ge.settings);-1!==m&&Ge.settings.splice(m,1)})}),n.each(["column","row","cell"],function(e,t){Ke(t+"s().every()",function(e){return this.iterator(t,function(i,n,o){e.call(new Qe(i)[t](n,o))})})}),Ge.version="1.10.6",Ge.settings=[],Ge.models={},Ge.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ge.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Ge.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ge.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:n.extend({},Ge.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},o(Ge.defaults),Ge.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},o(Ge.defaults.column),Ge.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==We(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==We(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,i=t+e,n=this.aiDisplay.length,o=this.oFeatures,r=o.bPaginate;return o.bServerSide?r===!1||-1===e?t+n:Math.min(t+e,this._iRecordsDisplay):!r||i>n||-1===e?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Ge.ext=Xe={buttons:{},classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ge.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ge.version},n.extend(Xe,{afnFiltering:Xe.search,aTypes:Xe.type.detect,ofnSearch:Xe.type.search,oSort:Xe.type.order,afnSortData:Xe.order,aoFeatures:Xe.feature,oApi:Xe.internal,oStdClasses:Xe.classes,oPagination:Xe.pager}),n.extend(Ge.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var t=e+"ui-state-default",i=e+"css_right ui-icon ui-icon-",o=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";n.extend(Ge.ext.oJUIClasses,Ge.ext.classes,{sPageButton:"fg-button ui-button "+t,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:t+" sorting_asc",sSortDesc:t+" sorting_desc",sSortable:t+" sorting",sSortableAsc:t+" sorting_asc_disabled",sSortableDesc:t+" sorting_desc_disabled",sSortableNone:t+" sorting_disabled",sSortJUIAsc:i+"triangle-1-n",sSortJUIDesc:i+"triangle-1-s",sSortJUI:i+"carat-2-n-s",sSortJUIAscAllowed:i+"carat-1-n",sSortJUIDescAllowed:i+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+t,sScrollFoot:"dataTables_scrollFoot "+t,sHeaderTH:t,sFooterTH:t,sJUIHeader:o+" ui-corner-tl ui-corner-tr",sJUIFooter:o+" ui-corner-bl ui-corner-br"})}();var Ut=Ge.ext.pager;n.extend(Ut,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Ye(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Ye(e,t),"next","last"]},_numbers:Ye,numbers_length:7}),n.extend(!0,Ge.ext.renderer,{pageButton:{_:function(e,i,o,r,a,s){var l,c,d,u=e.oClasses,h=e.oLanguage.oPaginate,p=0,f=function(t,i){var r,d,m,g,v=function(t){he(e,t.data.action,!0)};for(r=0,d=i.length;d>r;r++)if(g=i[r],n.isArray(g)){var y=n("<"+(g.DT_el||"div")+"/>").appendTo(t);f(y,g)}else{switch(l="",c="",g){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=h.sFirst,c=g+(a>0?"":" "+u.sPageButtonDisabled);break;case"previous":l=h.sPrevious,c=g+(a>0?"":" "+u.sPageButtonDisabled);break;case"next":l=h.sNext,c=g+(s-1>a?"":" "+u.sPageButtonDisabled);break;case"last":l=h.sLast,c=g+(s-1>a?"":" "+u.sPageButtonDisabled);break;default:l=g+1,c=a===g?u.sPageButtonActive:""}l&&(m=n("<a>",{"class":u.sPageButton+" "+c,"aria-controls":e.sTableId,"data-dt-idx":p,tabindex:e.iTabIndex,id:0===o&&"string"==typeof g?e.sTableId+"_"+g:null}).html(l).appendTo(t),je(m,{action:g},v),p++)}};try{d=n(t.activeElement).data("dt-idx")}catch(m){}f(n(i).empty(),r),d&&n(i).find("[data-dt-idx="+d+"]").focus()}}}),n.extend(Ge.ext.type.detect,[function(e,t){var i=t.oLanguage.sDecimal;return ct(e,i)?"num"+i:null},function(e,t){if(e&&!(e instanceof Date)&&(!it.test(e)||!nt.test(e)))return null;var i=Date.parse(e);return null!==i&&!isNaN(i)||at(e)?"date":null},function(e,t){var i=t.oLanguage.sDecimal;return ct(e,i,!0)?"num-fmt"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return ut(e,i)?"html-num"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return ut(e,i,!0)?"html-num-fmt"+i:null},function(e,t){return at(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),n.extend(Ge.ext.type.search,{html:function(e){return at(e)?e:"string"==typeof e?e.replace(et," ").replace(tt,""):""},string:function(e){return at(e)?e:"string"==typeof e?e.replace(et," "):e}});var Vt=function(e,t,i,n){return 0===e||e&&"-"!==e?(t&&(e=lt(e,t)),e.replace&&(i&&(e=e.replace(i,"")),n&&(e=e.replace(n,""))),1*e):-(1/0)};return n.extend(Xe.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return at(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return at(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0}}),Ue(""),n.extend(!0,Ge.ext.renderer,{header:{_:function(e,t,i,o){n(e.nTable).on("order.dt.DT",function(n,r,a,s){if(e===r){var l=i.idx;t.removeClass(i.sSortingClass+" "+o.sSortAsc+" "+o.sSortDesc).addClass("asc"==s[l]?o.sSortAsc:"desc"==s[l]?o.sSortDesc:i.sSortingClass)}})},jqueryui:function(e,t,i,o){n("<div/>").addClass(o.sSortJUIWrapper).append(t.contents()).append(n("<span/>").addClass(o.sSortIcon+" "+i.sSortingClassJUI)).appendTo(t),n(e.nTable).on("order.dt.DT",function(n,r,a,s){if(e===r){var l=i.idx;t.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==s[l]?o.sSortAsc:"desc"==s[l]?o.sSortDesc:i.sSortingClass),t.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==s[l]?o.sSortJUIAsc:"desc"==s[l]?o.sSortJUIDesc:i.sSortingClassJUI)}})}}}),Ge.render={number:function(e,t,i,n){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var r=0>o?"-":"";o=Math.abs(parseFloat(o));var a=parseInt(o,10),s=i?t+(o-a).toFixed(i).substring(2):"";return r+(n||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+s}}}},n.extend(Ge.ext.internal,{_fnExternApiFunc:Ve,_fnBuildAjax:q,_fnAjaxUpdate:W,_fnAjaxParameters:Y,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:V,_fnAddColumn:u,_fnColumnOptions:h,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:o,_fnCamelToHungarian:r,_fnLanguageCompat:a,_fnBrowserDetect:c,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:x,_fnNodeToColumnIndex:C,_fnGetCellData:k,_fnSetCellData:S,_fnSplitObjNotation:T,_fnGetObjectDataFn:D,_fnSetObjectDataFn:A,_fnGetDataMaster:P,_fnClearTable:E,_fnDeleteIndex:I,_fnInvalidate:M,_fnGetRowElements:L,_fnCreateTr:$,_fnBuildHead:O,_fnDrawHead:N,_fnDraw:R,_fnReDraw:j,_fnAddOptionsHtml:H,_fnDetectHeader:z,_fnGetUniqueThs:B,_fnFeatureHtmlFilter:G,_fnFilterComplete:X,_fnFilterCustom:Q,_fnFilterColumn:K,_fnFilter:J,_fnFilterCreateSearch:Z,_fnEscapeRegex:ee,_fnFilterData:te,_fnFeatureHtmlInfo:oe,_fnUpdateInfo:re,_fnInfoMacros:ae,_fnInitialise:se,_fnInitComplete:le,_fnLengthChange:ce,_fnFeatureHtmlLength:de,_fnFeatureHtmlPaginate:ue,_fnPageChange:he,_fnFeatureHtmlProcessing:pe,_fnProcessingDisplay:fe,_fnFeatureHtmlTable:me,_fnScrollDraw:ge,_fnApplyToChildren:ve,_fnCalculateColumnWidths:ye,_fnThrottle:be,_fnConvertToWidth:_e,_fnScrollingWidthAdjust:we,_fnGetWidestNode:xe,_fnGetMaxLenString:Ce,_fnStringToCss:ke,_fnScrollBarWidth:Se,_fnSortFlatten:Te,_fnSort:De,_fnSortAria:Ae,_fnSortListener:Pe,_fnSortAttachListener:Ee,_fnSortingClasses:Ie,_fnSortData:Me,_fnSaveState:Le,_fnLoadState:$e,_fnSettingsFromNode:Fe,_fnLog:Oe,_fnMap:Ne,_fnBindAction:je,_fnCallbackReg:He,_fnCallbackFire:ze,_fnLengthOverflow:Be,_fnRenderer:qe,_fnDataSource:We,_fnRowAttributes:F,_fnCalculateEnd:function(){}}),n.fn.dataTable=Ge,n.fn.dataTableSettings=Ge.settings,n.fn.dataTableExt=Ge.ext,n.fn.DataTable=function(e){return n(this).dataTable(e).api()},n.each(Ge,function(e,t){n.fn.DataTable[e]=t}),n.fn.dataTable})}(window,document),function(e,t,i){var n=function(e,t){"use strict";e.extend(!0,t.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(t.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),t.ext.renderer.pageButton.bootstrap=function(i,n,o,r,a,s){var l,c,d=new t.Api(i),u=i.oClasses,h=i.oLanguage.oPaginate,p=function(t,n){var r,f,m,g,v=function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||d.page(t.data.action).draw(!1)};for(r=0,f=n.length;f>r;r++)if(g=n[r],e.isArray(g))p(t,g);else{switch(l="",c="",g){case"ellipsis":l="&hellip;",c="disabled";break;case"first":l=h.sFirst,c=g+(a>0?"":" disabled");break;case"previous":l=h.sPrevious,c=g+(a>0?"":" disabled");break;case"next":l=h.sNext,c=g+(s-1>a?"":" disabled");break;case"last":l=h.sLast,c=g+(s-1>a?"":" disabled");break;default:l=g+1,c=a===g?"active":""}l&&(m=e("<li>",{"class":u.sPageButton+" "+c,"aria-controls":i.sTableId,tabindex:i.iTabIndex,id:0===o&&"string"==typeof g?i.sTableId+"_"+g:null}).append(e("<a>",{href:"#"}).html(l)).appendTo(t),i.oApi._fnBindAction(m,{action:g},v))}};p(e(n).empty().html('<ul class="pagination"/>').children("ul"),r)},t.TableTools&&(e.extend(!0,t.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),e.extend(!0,t.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&n(jQuery,jQuery.fn.dataTable)}(window,document),function(e){e.fn.serializeObject=function(){"use strict";var t={},i=function(i,n){var o=t[n.name];"undefined"!=typeof o&&null!==o?e.isArray(o)?o.push(n.value):t[n.name]=[o,n.value]:t[n.name]=n.value};return e.each(this.serializeArray(),i),t}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var n=e.scrollTo=function(t,i,n){return e(window).scrollTo(t,i,n)};return n.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(o,r,a){"object"==typeof r&&(a=r,r=0),"function"==typeof a&&(a={onAfter:a}),"max"===o&&(o=9e9),a=e.extend({},n.defaults,a),r=r||a.duration;var s=a.queue&&a.axis.length>1;return s&&(r/=2),a.offset=i(a.offset),a.over=i(a.over),this.each(function(){function l(t){var i=e.extend({},a,{queue:!0,duration:r,complete:t&&function(){t.call(u,p,a)}});h.animate(f,i)}if(null!==o){var c,d=t(this),u=d?this.contentWindow||window:this,h=e(u),p=o,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=i(p);break}if(p=d?e(p):e(p,u),!p.length)return;case"object":(p.is||p.style)&&(c=(p=e(p)).offset())}var m=e.isFunction(a.offset)&&a.offset(u,p)||a.offset;e.each(a.axis.split(""),function(e,t){var i="x"===t?"Left":"Top",o=i.toLowerCase(),r="scroll"+i,g=h[r](),v=n.max(u,t);if(c)f[r]=c[o]+(d?0:g-h.offset()[o]),a.margin&&(f[r]-=parseInt(p.css("margin"+i),10)||0,f[r]-=parseInt(p.css("border"+i+"Width"),10)||0),f[r]+=m[o]||0,a.over[o]&&(f[r]+=p["x"===t?"width":"height"]()*a.over[o]);else{var y=p[o];f[r]=y.slice&&"%"===y.slice(-1)?parseFloat(y)/100*v:y}a.limit&&/^\d+$/.test(f[r])&&(f[r]=f[r]<=0?0:Math.min(f[r],v)),!e&&a.axis.length>1&&(g===f[r]?f={}:s&&(l(a.onAfterFirst),f={}))}),l(a.onAfter)}})},n.max=function(i,n){var o="x"===n?"Width":"Height",r="scroll"+o;if(!t(i))return i[r]-e(i)[o.toLowerCase()]();var a="client"+o,s=i.ownerDocument||i.document,l=s.documentElement,c=s.body;return Math.max(l[r],c[r])-Math.min(l[a],c[a])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var i=this.get(t);if(t.options.interrupt&&t._last&&t._last!==i)return e(t.elem).stop();var n=Math.round(t.now);i!==n&&(e(t.elem)[t.prop](n),t._last=this.get(t))}},n}),function(e){function t(t,n,o){var r=this;return this.on("click.pjax",t,function(t){var a=e.extend({},m(n,o));a.container||(a.container=e(this).attr("data-pjax")||r),i(t,a)})}function i(t,i,n){n=m(i,n);var r=t.currentTarget;if("A"!==r.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==r.protocol||location.hostname!==r.hostname||r.href.indexOf("#")>-1&&f(r)==f(location)||t.isDefaultPrevented())){var a={url:r.href,container:e(r).attr("data-pjax"),target:r},s=e.extend({},a,n),l=e.Event("pjax:click");e(r).trigger(l,[s]),l.isDefaultPrevented()||(o(s),t.preventDefault(),e(r).trigger("pjax:clicked",[s]))}}function n(t,i,n){n=m(i,n);var r=t.currentTarget;if("FORM"!==r.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var a={type:r.method.toUpperCase(),url:r.action,container:e(r).attr("data-pjax"),target:r};if("GET"!==a.type&&void 0!==window.FormData)a.data=new FormData(r),a.processData=!1,a.contentType=!1;else{if(e(r).find(":file").length)return;a.data=e(r).serializeArray()}o(e.extend({},a,n)),t.preventDefault()}function o(t){function i(t,i,o){o||(o={}),o.relatedTarget=n;var r=e.Event(t,o);return s.trigger(r,i),!r.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,o.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var n=t.target,r=p(t.url).hash,s=t.context=g(t.container);t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:s.selector}):t.data._pjax=s.selector;var l;t.beforeSend=function(e,n){if("GET"!==n.type&&(n.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",s.selector),!i("pjax:beforeSend",[e,n]))return!1;n.timeout>0&&(l=setTimeout(function(){i("pjax:timeout",[e,t])&&e.abort("timeout")},n.timeout),n.timeout=0);var o=p(n.url);r&&(o.hash=r),t.requestUrl=h(o)},t.complete=function(e,n){l&&clearTimeout(l),i("pjax:complete",[e,n,t]),i("pjax:end",[e,t])},t.error=function(e,n,o){var r=b("",e,t),s=i("pjax:error",[e,n,o,t]);"GET"==t.type&&"abort"!==n&&s&&a(r.url)},t.success=function(n,l,c){var u=o.state,h="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,f=c.getResponseHeader("X-PJAX-Version"),m=b(n,c,t),g=p(m.url);if(r&&(g.hash=r,m.url=g.href),h&&f&&h!==f)return void a(m.url);if(!m.contents)return void a(m.url);o.state={id:t.id||d(),url:m.url,title:m.title,container:s.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(o.state,m.title,m.url);try{document.activeElement.blur()}catch(v){}m.title&&(document.title=m.title),i("pjax:beforeReplace",[m.contents,t],{state:o.state,previousState:u}),s.html(m.contents);var y=s.find("input[autofocus], textarea[autofocus]").last()[0];y&&document.activeElement!==y&&y.focus(),_(m.scripts);var w=t.scrollTo;if(r){var x=decodeURIComponent(r.slice(1)),C=document.getElementById(x)||document.getElementsByName(x)[0];C&&(w=e(C).offset().top)}"number"==typeof w&&e(window).scrollTop(w),i("pjax:success",[n,l,c,t])},o.state||(o.state={id:d(),url:window.location.href,title:document.title,container:s.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(o.state,document.title)),c(o.xhr),o.options=t;var f=o.xhr=e.ajax(t);return f.readyState>0&&(t.push&&!t.replace&&(w(o.state.id,u(s)),window.history.pushState(null,"",t.requestUrl)),i("pjax:start",[f,t]),i("pjax:send",[f,t])),o.xhr}function r(t,i){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(e.extend(n,m(t,i)))}function a(e){window.history.replaceState(null,"",o.state.url),window.location.replace(e)}function s(t){D||c(o.xhr);var i,n=o.state,r=t.state;if(r&&r.container){if(D&&A==r.url)return;if(n){if(n.id===r.id)return;i=n.id<r.id?"forward":"back"}var s=E[r.id]||[],l=e(s[0]||r.container),d=s[1];if(l.length){n&&x(i,n.id,u(l));var h=e.Event("pjax:popstate",{state:r,direction:i});l.trigger(h);var p={id:r.id,url:r.url,container:l,push:!1,fragment:r.fragment,timeout:r.timeout,scrollTo:!1};if(d){l.trigger("pjax:start",[null,p]),o.state=r,r.title&&(document.title=r.title);var f=e.Event("pjax:beforeReplace",{state:r,previousState:n});l.trigger(f,[d,p]),l.html(d),l.trigger("pjax:end",[null,p])}else o(p);l[0].offsetHeight}else a(location.href)}D=!1}function l(t){var i=e.isFunction(t.url)?t.url():t.url,n=t.type?t.type.toUpperCase():"GET",o=e("<form>",{method:"GET"===n?"GET":"POST",action:i,style:"display:none"});"GET"!==n&&"POST"!==n&&o.append(e("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var r=t.data;if("string"==typeof r)e.each(r.split("&"),function(t,i){var n=i.split("=");o.append(e("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if(e.isArray(r))e.each(r,function(t,i){o.append(e("<input>",{type:"hidden",name:i.name,value:i.value}))});else if("object"==typeof r){var a;for(a in r)o.append(e("<input>",{type:"hidden",name:a,value:r[a]}))}e(document.body).append(o),o.submit()}function c(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function d(){return(new Date).getTime()}function u(e){var t=e.clone();return t.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[e.selector,t.contents()]}function h(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function p(e){var t=document.createElement("a");return t.href=e,t}function f(e){return e.href.replace(/#.*/,"")}function m(t,i){return t&&i?i.container=t:i=e.isPlainObject(t)?t:{container:t},i.container&&(i.container=g(i.container)),i}function g(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function v(e,t){return e.filter(t).add(e.find(t))}function y(t){return e.parseHTML(t,document,!0)}function b(t,i,n){var o={},r=/<html/i.test(t),a=i.getResponseHeader("X-PJAX-URL");if(o.url=a?h(p(a)):n.requestUrl,r)var s=e(y(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),l=e(y(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var s=l=e(y(t));if(0===l.length)return o;if(o.title=v(s,"title").last().text(),n.fragment){if("body"===n.fragment)var c=l;else var c=v(l,n.fragment).first();c.length&&(o.contents="body"===n.fragment?c:c.contents(),o.title||(o.title=c.attr("title")||c.data("title")))}else r||(o.contents=l);return o.contents&&(o.contents=o.contents.not(function(){return e(this).is("title")}),o.contents.find("title").remove(),o.scripts=v(o.contents,"script[src]").remove(),o.contents=o.contents.not(o.scripts)),o.title&&(o.title=e.trim(o.title)),o}function _(t){if(t){var i=e("script[src]");t.each(function(){var t=this.src,n=i.filter(function(){return this.src===t});if(!n.length){var o=document.createElement("script"),r=e(this).attr("type");r&&(o.type=r),o.src=e(this).attr("src"),document.head.appendChild(o)}})}}function w(e,t){E[e]=t,M.push(e),C(I,0),C(M,o.defaults.maxCacheLength)}function x(e,t,i){var n,r;E[t]=i,"forward"===e?(n=M,r=I):(n=I,r=M),n.push(t),(t=r.pop())&&delete E[t],C(n,o.defaults.maxCacheLength)}function C(e,t){for(;e.length>t;)delete E[e.shift()]}function k(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function S(){e.fn.pjax=t,e.pjax=o,e.pjax.enable=e.noop,e.pjax.disable=T,e.pjax.click=i,e.pjax.submit=n,e.pjax.reload=r,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:k},e(window).on("popstate.pjax",s)}function T(){e.fn.pjax=function(){return this},e.pjax=l,e.pjax.enable=S,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",s)}var D=!0,A=window.location.href,P=window.history.state;P&&P.container&&(o.state=P),"state"in window.history&&(D=!1);var E={},I=[],M=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?S():T();
}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one(e.support.transition.end,function(){i=!0});var o=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){"use strict";function t(t){e(n).remove(),e(o).each(function(){var n=i(e(this)),o={relatedTarget:this};n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",o))})}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}var n=".dropdown-backdrop",o="[data-toggle=dropdown]",r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var r=i(o),a=r.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown",s),o.focus()}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),a=r.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&r.find(o).focus(),n.click();var s=" li:not(.divider):visible a",l=r.find("[role=menu]"+s+", [role=listbox]"+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).focus()}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu], [role=listbox]",r.prototype.keydown)}(jQuery),+function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var i=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var n=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});n?i.$element.find(".modal-dialog").one(e.support.transition.end,function(){i.$element.focus().trigger(o)}).emulateTransitionEnd(300):i.$element.focus().trigger(o)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var i=e.fn.modal;e.fn.modal=function(i,n){return this.each(function(){var o=e(this),r=o.data("bs.modal"),a=e.extend({},t.DEFAULTS,o.data(),"object"==typeof i&&i);r||o.data("bs.modal",r=new t(this,a)),"string"==typeof i?r[i](n):a.show&&r.show(n)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),n=i.attr("href"),o=e(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},o.data(),i.data());i.is("a")&&t.preventDefault(),o.modal(r,this).one("hide",function(){i.is(":visible")&&i.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){"use strict";var t=function(i,n){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var a=e.camelCase(["scroll",o].join("-"));this.$element.one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[i](0).one(e.support.transition.end,e.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),r=e.extend({},t.DEFAULTS,n.data(),"object"==typeof i&&i);!o&&r.toggle&&"show"==i&&(i=!i),o||n.data("bs.collapse",o=new t(this,r)),"string"==typeof i&&o[i]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var i,n=e(this),o=n.attr("data-target")||t.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=e(o),a=r.data("bs.collapse"),s=a?"toggle":n.data(),l=n.attr("data-parent"),c=l&&e(l);a&&a.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(s)})}(jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a")[0],r=e.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(r),!r.isDefaultPrevented()){var a=e(n);this.activate(t.parent("li"),i),this.activate(a,a.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},t.prototype.activate=function(t,i,n){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var r=i.find("> .active"),a=n&&e.support.transition&&r.hasClass("fade");a?r.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),r.removeClass("in")};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new t(this)),"string"==typeof i&&o[i]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var i=this,n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,a=r.test(o);a&&(o=o.replace(r,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),l=n[0].offsetWidth,c=n[0].offsetHeight;if(a){var d=this.$element.parent(),u=o,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:d.outerWidth(),f="body"==this.options.container?window.innerHeight:d.outerHeight(),m="body"==this.options.container?0:d.offset().left;o="bottom"==o&&s.top+s.height+c-h>f?"top":"top"==o&&s.top-h-c<0?"bottom":"right"==o&&s.right+l>p?"left":"left"==o&&s.left-l<m?"right":o,n.removeClass(u).addClass(o)}var g=this.getCalculatedOffset(o,s,l,c);this.applyPlacement(g,o),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,v).emulateTransitionEnd(150):v()}},t.prototype.applyPlacement=function(t,i){var n,o=this.tip(),r=o[0].offsetWidth,a=o[0].offsetHeight,s=parseInt(o.css("margin-top"),10),l=parseInt(o.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(l)&&(l=0),t.top=t.top+s,t.left=t.left+l,e.offset.setOffset(o[0],e.extend({using:function(e){o.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),o.addClass("in");var c=o[0].offsetWidth,d=o[0].offsetHeight;if("top"==i&&d!=a&&(n=!0,t.top=t.top+a-d),/bottom|top/.test(i)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,o.offset(t),c=o[0].offsetWidth,d=o[0].offsetHeight),this.replaceArrow(u-r+c,c,"left")}else this.replaceArrow(d-a,d,"top");n&&o.offset(t)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),r="object"==typeof i&&i;(o||"destroy"!=i)&&(o||n.data("bs.tooltip",o=new t(this,r)),"string"==typeof i&&o[i]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),function(e){"use strict";function t(t){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(i,function(){t=t.replace(this.re,this.ch)}),t}function i(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(t).join("|")+")",n=new RegExp(i),o=new RegExp(i,"g"),r=null==e?"":""+e;return n.test(r)?r.replace(o,function(e){return t[e]}):r}function n(t,i){var n=arguments,r=t,a=i;[].shift.apply(n);var s,l=this.each(function(){var t=e(this);if(t.is("select")){var i=t.data("selectpicker"),l="object"==typeof r&&r;if(i){if(l)for(var c in l)l.hasOwnProperty(c)&&(i.options[c]=l[c])}else{var d=e.extend({},o.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),l);t.data("selectpicker",i=new o(this,d,a))}"string"==typeof r&&(s=i[r]instanceof Function?i[r].apply(i,n):i.options[r])}});return"undefined"!=typeof s?s:l}String.prototype.includes||!function(){var e={}.toString,t=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(n){}return i}(),i="".indexOf,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var o=n.length,r=String(t),a=r.length,s=arguments.length>1?arguments[1]:void 0,l=s?Number(s):0;l!=l&&(l=0);var c=Math.min(Math.max(l,0),o);return a+c>o?!1:-1!=i.call(n,r,l)};t?t(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),String.prototype.startsWith||!function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(n){}return i}(),t={}.toString,i=function(e){if(null==this)throw TypeError();var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var n=i.length,o=String(e),r=o.length,a=arguments.length>1?arguments[1]:void 0,s=a?Number(a):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),n);if(r+l>n)return!1;for(var c=-1;++c<r;)if(i.charCodeAt(l+c)!=o.charCodeAt(c))return!1;return!0};e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),e.expr[":"].icontains=function(t,i,n){var o=e(t),r=(o.data("tokens")||o.text()).toUpperCase();return r.includes(n[3].toUpperCase())},e.expr[":"].ibegins=function(t,i,n){var o=e(t),r=(o.data("tokens")||o.text()).toUpperCase();return r.startsWith(n[3].toUpperCase())},e.expr[":"].aicontains=function(t,i,n){var o=e(t),r=(o.data("tokens")||o.data("normalizedText")||o.text()).toUpperCase();return r.includes(r,n[3])},e.expr[":"].aibegins=function(t,i,n){var o=e(t),r=(o.data("tokens")||o.data("normalizedText")||o.text()).toUpperCase();return r.startsWith(n[3].toUpperCase())};var o=function(t,i,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=o.prototype.val,this.render=o.prototype.render,this.refresh=o.prototype.refresh,this.setStyle=o.prototype.setStyle,this.selectAll=o.prototype.selectAll,this.deselectAll=o.prototype.deselectAll,this.destroy=o.prototype.remove,this.remove=o.prototype.remove,this.show=o.prototype.show,this.hide=o.prototype.hide,this.init()};o.VERSION="1.6.5",o.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"fa",tickIcon:"fa-check",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},o.prototype={constructor:o,init:function(){var t=this,i=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof i&&(this.$button.attr("data-id",i),e('label[for="'+i+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var t=this.multiple?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",o=this.autofocus?" autofocus":"",r=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+i(this.options.liveSearchPlaceholder)+'"')+"></div>":"",s=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",c='<div class="btn-group bootstrap-select'+t+n+'"><button type="button" class="btn dropdown-toggle" data-toggle="dropdown"'+o+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+r+a+s+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return e(c)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul").append(t),e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menu.find("ul").append(e)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var n=this,o=[],r=0,a=function(e,t,i,n){return"<li"+("undefined"!=typeof i&""!==i?' class="'+i+'"':"")+("undefined"!=typeof t&null!==t?' data-original-index="'+t+'"':"")+("undefined"!=typeof n&null!==n?'data-optgroup="'+n+'"':"")+">"+e+"</li>"},s=function(e,o,r,a){return'<a tabindex="0"'+("undefined"!=typeof o?' class="'+o+'"':"")+("undefined"!=typeof r?' style="'+r+'"':"")+' data-normalized-text="'+t(i(e))+'"'+("undefined"!=typeof a||null!==a?' data-tokens="'+a+'"':"")+">"+e+'<span class="'+n.options.iconBase+" "+n.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(t){var i=e(this),l=i.attr("class")||"",c=i.attr("style"),d=i.data("content")?i.data("content"):i.html(),u=i.data("tokens")?i.data("tokens"):null,h="undefined"!=typeof i.data("subtext")?'<small class="text-muted">'+i.data("subtext")+"</small>":"",p="undefined"!=typeof i.data("icon")?'<span class="'+n.options.iconBase+" "+i.data("icon")+'"></span> ':"",f=i.is(":disabled")||i.parent().is(":disabled");if(""!==p&&f&&(p="<span>"+p+"</span>"),i.data("content")||(d=p+'<span class="text">'+d+h+"</span>"),!n.options.hideDisabled||!f)if(i.parent().is("optgroup")&&i.data("divider")!==!0){if(0===i.index()){r+=1;var m=i.parent().attr("label"),g="undefined"!=typeof i.parent().data("subtext")?'<small class="text-muted">'+i.parent().data("subtext")+"</small>":"",v=i.parent().data("icon")?'<span class="'+n.options.iconBase+" "+i.parent().data("icon")+'"></span> ':"";m=v+'<span class="text">'+m+g+"</span>",0!==t&&o.length>0&&o.push(a("",null,"divider",r+"div")),o.push(a(m,null,"dropdown-header",r))}o.push(a(s(d,"opt "+l,c,u),t,"",r))}else i.data("divider")===!0?o.push(a("",t,"divider")):i.data("hidden")===!0?o.push(a(s(d,l,c,u),t,"hidden is-hidden")):(i.prev().is("optgroup")&&o.push(a("",null,"divider",r+"div")),o.push(a(s(d,l,c,u),t)))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),e(o.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var i=this;t!==!1&&this.$element.find("option").each(function(t){i.setDisabled(t,e(this).is(":disabled")||e(this).parent().is(":disabled")),i.setSelected(t,e(this).is(":selected"))}),this.tabIndex();var n=this.options.hideDisabled?":enabled":"",o=this.$element.find("option:selected"+n).map(function(){var t,n=e(this),o=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return t=i.options.showSubtext&&n.data("subtext")&&!i.multiple?' <small class="text-muted">'+n.data("subtext")+"</small>":"","undefined"!=typeof n.attr("title")?n.attr("title"):n.data("content")&&i.options.showContent?n.data("content"):o+n.html()+t}).toArray(),r=this.multiple?o.join(this.options.multipleSeparator):o[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&o.length>a[1]||1==a.length&&o.length>=2){n=this.options.hideDisabled?", [disabled]":"";var s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+n).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(o.length,s):this.options.countSelectedText;r=l.replace("{0}",o.length.toString()).replace("{1}",s.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r||(r="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",e.trim(r.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(r)},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var i=e?e:this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(this.options.size!==!1){var e=this.$menu.parent().clone().children(".dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),t=e.addClass("open").children(".dropdown-menu"),i=t.find("li").not(".divider, .dropdown-header").filter(":visible").children("a").outerHeight(),n=this.options.header?t.find(".popover-title").outerHeight():0,o=this.options.liveSearch?t.find(".bs-searchbox").outerHeight():0,r=this.options.actionsBox?t.find(".bs-actionsbox").outerHeight():0,a=this.multiple?t.find(".bs-donebutton").outerHeight():0;e.remove(),this.$newElement.data("liHeight",i).data("headerHeight",n).data("searchHeight",o).data("actionsHeight",r).data("doneButtonHeight",a)}},setSize:function(){this.findLis();var t,i,n,o=this,r=this.$menu,a=r.children(".inner"),s=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),c=this.$newElement.data("headerHeight"),d=this.$newElement.data("searchHeight"),u=this.$newElement.data("actionsHeight"),h=this.$newElement.data("doneButtonHeight"),p=this.$lis.filter(".divider").outerHeight(!0),f=parseInt(r.css("padding-top"))+parseInt(r.css("padding-bottom"))+parseInt(r.css("border-top-width"))+parseInt(r.css("border-bottom-width")),m=this.options.hideDisabled?".disabled":"",g=e(window),v=f+parseInt(r.css("margin-top"))+parseInt(r.css("margin-bottom"))+2,y=function(){i=o.$newElement.offset().top-g.scrollTop(),n=g.height()-i-s};if(y(),this.options.header&&r.css("padding-top",0),"auto"==this.options.size){var b=function(){var e,s=o.$lis.not(".hidden");y(),t=n-v,o.options.dropupAuto&&o.$newElement.toggleClass("dropup",i>n&&t-v<r.height()),o.$newElement.hasClass("dropup")&&(t=i-v),e=s.length+s.filter(".dropdown-header").length>3?3*l+v-2:0,r.css({"max-height":t+"px",overflow:"hidden","min-height":e+c+d+u+h+"px"}),a.css({"max-height":t-c-d-u-h-f+"px","overflow-y":"auto","min-height":Math.max(e-f,0)+"px"})};b(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",b),g.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",b)}else if(this.options.size&&"auto"!=this.options.size&&r.find("li").not(m).length>this.options.size){var _=this.$lis.not(".divider").not(m).children().slice(0,this.options.size).last().parent().index(),w=this.$lis.slice(0,_+1).filter(".divider").length;t=l*this.options.size+w*p+f,o.options.dropupAuto&&this.$newElement.toggleClass("dropup",i>n&&t<r.height()),r.css({"max-height":t+c+d+u+h+"px",overflow:"hidden"}),a.css({"max-height":t-f+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var e=this.$newElement.clone().appendTo("body"),t=e.children(".dropdown-menu").css("width"),i=e.css("width","auto").children("button").css("width");e.remove(),this.$newElement.css("width",Math.max(parseInt(t),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t,i,n=this,o="<div />",r=e(o),a=function(e){r.addClass(e.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),i=e.hasClass("dropup")?0:e[0].offsetHeight,r.css({top:t.top+i,left:t.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){n.isDisabled()||(a(e(this)),r.appendTo(n.options.container),r.toggleClass("open",!e(this).hasClass("open")),r.append(n.$menu))}),e(window).on("resize scroll",function(){a(n.$newElement)}),e("html").on("click",function(t){e(t.target).closest(n.$newElement).length<1&&r.removeClass("open")})},setSelected:function(e,t){this.findLis(),this.$lis.filter('[data-original-index="'+e+'"]').toggleClass("selected",t)},setDisabled:function(e,t){this.findLis(),t?this.$lis.filter('[data-original-index="'+e+'"]').addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+e+'"]').removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var e=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),
-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),this.$newElement.on("click",function(){t.setSize(),t.options.liveSearch||t.multiple||setTimeout(function(){t.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(i){var n=e(this),o=n.parent().data("originalIndex"),r=t.$element.val(),a=t.$element.prop("selectedIndex");if(t.multiple&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!n.parent().hasClass("disabled")){var s=t.$element.find("option"),l=s.eq(o),c=l.prop("selected"),d=l.parent("optgroup"),u=t.options.maxOptions,h=d.data("maxOptions")||!1;if(t.multiple){if(l.prop("selected",!c),t.setSelected(o,!c),n.blur(),u!==!1||h!==!1){var p=u<s.filter(":selected").length,f=h<d.find("option:selected").length;if(u&&p||h&&f)if(u&&1==u)s.prop("selected",!1),l.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(o,!0);else if(h&&1==h){d.find("option:selected").prop("selected",!1),l.prop("selected",!0);var m=n.data("optgroup");t.$menu.find(".selected").has('a[data-optgroup="'+m+'"]').removeClass("selected"),t.setSelected(o,!0)}else{var g="function"==typeof t.options.maxOptionsText?t.options.maxOptionsText(u,h):t.options.maxOptionsText,v=g[0].replace("{n}",u),y=g[1].replace("{n}",h),b=e('<div class="notify"></div>');g[2]&&(v=v.replace("{var}",g[2][u>1?0:1]),y=y.replace("{var}",g[2][h>1?0:1])),l.prop("selected",!1),t.$menu.append(b),u&&p&&(b.append(e("<div>"+v+"</div>")),t.$element.trigger("maxReached.bs.select")),h&&f&&(b.append(e("<div>"+y+"</div>")),t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(o,!1)},10),b.delay(750).fadeOut(300,function(){e(this).remove()})}}}else s.prop("selected",!1),l.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(o,!0);t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus(),(r!=t.$element.val()&&t.multiple||a!=t.$element.prop("selectedIndex")&&!t.multiple)&&t.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.focus()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll(),t.$element.change()}),this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var n=this,o=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menu.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length&&o.remove()),n.multiple||n.$menu.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var r=n.$lis.not(".is-hidden").removeClass("hidden").children("a");r=n.options.liveSearchNormalize?r.not(":a"+n._searchStyle()+"("+t(n.$searchbox.val())+")"):r.not(":"+n._searchStyle()+"("+n.$searchbox.val()+")"),r.parent().addClass("hidden"),n.$lis.filter(".dropdown-header").each(function(){var t=e(this),i=t.data("optgroup");0===n.$lis.filter("[data-optgroup="+i+"]").not(t).not(".hidden").length&&(t.addClass("hidden"),n.$lis.filter("[data-optgroup="+i+"div]").addClass("hidden"))});var a=n.$lis.not(".hidden");a.each(function(t){var i=e(this);i.hasClass("divider")&&(i.index()===a.eq(0).index()||i.index()===a.last().index()||a.eq(t+1).hasClass("divider"))&&i.addClass("hidden")}),n.$lis.not(".hidden, .no-results").length?o.parent().length&&o.remove():(o.parent().length&&o.remove(),o.html(n.options.noneResultsText.replace("{0}",'"'+i(n.$searchbox.val())+'"')).show(),n.$menu.append(o))}else n.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length&&o.remove();n.$lis.filter(".active").removeClass("active"),n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),e(this).focus()})},_searchStyle:function(){var e="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":e="ibegins";break;case"contains":}return e},val:function(e){return"undefined"!=typeof e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"),this.render(!1)},keydown:function(i){var n,o,r,a,s,l,c,d,u,h=e(this),p=h.is("input")?h.parent().parent():h.parent(),f=p.data("this"),m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=h.parent().parent()),f.options.container&&(p=f.$menu),n=e("[role=menu] li a",p),u=f.$menu.parent().hasClass("open"),!u&&/([0-9]|[A-z])/.test(String.fromCharCode(i.keyCode))&&(f.options.container?f.$newElement.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),u=!0),f.$searchbox.focus()),f.options.liveSearch&&(/(^9$|27)/.test(i.keyCode.toString(10))&&u&&0===f.$menu.find(".active").length&&(i.preventDefault(),f.$menu.parent().removeClass("open"),f.$button.focus()),n=e("[role=menu] li:not(.divider):not(.dropdown-header):visible a",p),h.val()||/(38|40)/.test(i.keyCode.toString(10))||0===n.filter(".active").length&&(n=f.$newElement.find("li a"),n=f.options.liveSearchNormalize?n.filter(":a"+f._searchStyle()+"("+t(m[i.keyCode])+")"):n.filter(":"+f._searchStyle()+"("+m[i.keyCode]+")"))),n.length){if(/(38|40)/.test(i.keyCode.toString(10)))o=n.index(n.filter(":focus")),a=n.parent(":not(.disabled):visible").first().index(),s=n.parent(":not(.disabled):visible").last().index(),r=n.eq(o).parent().nextAll(":not(.disabled):visible").eq(0).index(),l=n.eq(o).parent().prevAll(":not(.disabled):visible").eq(0).index(),c=n.eq(r).parent().prevAll(":not(.disabled):visible").eq(0).index(),f.options.liveSearch&&(n.each(function(t){e(this).hasClass("disabled")||e(this).data("index",t)}),o=n.index(n.filter(".active")),a=n.filter(":not(.disabled):visible").first().data("index"),s=n.filter(":not(.disabled):visible").last().data("index"),r=n.eq(o).nextAll(":not(.disabled):visible").eq(0).data("index"),l=n.eq(o).prevAll(":not(.disabled):visible").eq(0).data("index"),c=n.eq(r).prevAll(":not(.disabled):visible").eq(0).data("index")),d=h.data("prevIndex"),38==i.keyCode?(f.options.liveSearch&&(o-=1),o!=c&&o>l&&(o=l),a>o&&(o=a),o==d&&(o=s)):40==i.keyCode&&(f.options.liveSearch&&(o+=1),-1==o&&(o=0),o!=c&&r>o&&(o=r),o>s&&(o=s),o==d&&(o=a)),h.data("prevIndex",o),f.options.liveSearch?(i.preventDefault(),h.hasClass("dropdown-toggle")||(n.removeClass("active"),n.eq(o).addClass("active").children("a").focus(),h.focus())):n.eq(o).focus();else if(!h.is("input")){var g,v,y=[];n.each(function(){e(this).parent().hasClass("disabled")||e.trim(e(this).text().toLowerCase()).substring(0,1)==m[i.keyCode]&&y.push(e(this).parent().index())}),g=e(document).data("keycount"),g++,e(document).data("keycount",g),v=e.trim(e(":focus").text().toLowerCase()).substring(0,1),v!=m[i.keyCode]?(g=1,e(document).data("keycount",g)):g>=y.length&&(e(document).data("keycount",0),g>y.length&&(g=1)),n.eq(y[g-1]).focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&f.options.selectOnTab)&&u){if(/(32)/.test(i.keyCode.toString(10))||i.preventDefault(),f.options.liveSearch)/(32)/.test(i.keyCode.toString(10))||(f.$menu.find(".active a").click(),h.focus());else{var b=e(":focus");b.click(),b.focus(),i.preventDefault()}e(document).data("keycount",0)}(/(^9$|27)/.test(i.keyCode.toString(10))&&u&&(f.multiple||f.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!u)&&(f.$menu.parent().removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var r=e.fn.selectpicker;e.fn.selectpicker=n,e.fn.selectpicker.Constructor=o,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=r,this},e(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",o.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){e.fn.selectpicker.defaults={noneSelectedText:"Nothing selected",noneResultsText:"No results match {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", "}}(jQuery);var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(e){return!1}function i(){}function n(){}i.prototype={chain:function(t,i){var n=this[t];if(!n)throw new Error("unknown hook "+t);n===e?this[t]=i:this[t]=function(e){var t=Array.prototype.slice.call(arguments,0);return t[0]=n.apply(null,t),i.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},Markdown.HookCollection=i,n.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){function e(e){return e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,i,n,o,r){return t=t.toLowerCase(),$.set(t,C(i)),o?n:(r&&F.set(t,r.replace(/"/g,"&quot;")),"")})}function t(e){return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,o),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,o),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,o),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,o),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,o)}function o(e,t){var i=t;return i=i.replace(/^\n+/,""),i=i.replace(/\n+$/g,""),i="\n\n~K"+(O.push(i)-1)+"K\n\n"}function r(e,i){e=L.preBlockGamut(e,R),e=p(e);var n="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,n),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,n),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,n),e=f(e),e=g(e),e=w(e),e=L.postBlockGamut(e,R),e=t(e),e=x(e,i)}function a(e){return e=L.preSpanGamut(e),e=y(e),e=s(e),e=k(e),e=d(e),e=l(e),e=T(e),e=e.replace(/~P/g,"://"),e=C(e),e=_(e),e=e.replace(/  +\n/g," <br>\n"),e=L.postSpanGamut(e)}function s(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=I(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function l(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,c),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,c),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,c)}function c(e,t,i,n,o,r,a,s){void 0==s&&(s="");var l=t,c=i.replace(/:\/\//g,"~P"),d=n.toLowerCase(),h=o,p=s;if(""==h)if(""==d&&(d=c.toLowerCase().replace(/ ?\n/g," ")),h="#"+d,void 0!=$.get(d))h=$.get(d),void 0!=F.get(d)&&(p=F.get(d));else{if(!(l.search(/\(\s*\)$/m)>-1))return l;h=""}h=E(h),h=I(h,"*_");var f='<a href="'+h+'"';return""!=p&&(p=u(p),p=I(p,"*_"),f+=' title="'+p+'"'),f+=">"+c+"</a>"}function d(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h)}function u(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function h(e,t,i,n,o,r,a,s){var l=t,c=i,d=n.toLowerCase(),h=o,p=s;if(p||(p=""),""==h){if(""==d&&(d=c.toLowerCase().replace(/ ?\n/g," ")),h="#"+d,void 0==$.get(d))return l;h=$.get(d),void 0!=F.get(d)&&(p=F.get(d))}c=I(u(c),"*_[]()"),h=I(h,"*_");var f='<img src="'+h+'" alt="'+c+'"';return p=u(p),p=I(p,"*_"),f+=' title="'+p+'"',f+=" />"}function p(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+a(t)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+a(t)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,i){var n=t.length;return"<h"+n+">"+a(i)+"</h"+n+">\n\n"})}function f(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return N?e=e.replace(t,function(e,t,i){var n=t,o=i.search(/[*+-]/g)>-1?"ul":"ol",r=m(n,o);return r=r.replace(/\s+$/,""),r="<"+o+">"+r+"</"+o+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,i,n){var o=t,r=i,a=n.search(/[*+-]/g)>-1?"ul":"ol",s=m(r,a);return s=o+"<"+a+">\n"+s+"</"+a+">\n"})),e=e.replace(/~0/,"")}function m(e,t){N++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var i=j[t],n=new RegExp("(^[ \\t]*)("+i+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+i+")[ \\t]+))","gm"),o=!1;return e=e.replace(n,function(e,t,i,n){var s=n,l=/\n\n$/.test(s),c=l||s.search(/\n{2,}/)>-1;return c||o?s=r(A(s),!0):(s=f(A(s)),s=s.replace(/\n$/,""),s=a(s)),o=l,"<li>"+s+"</li>\n"}),e=e.replace(/~0/g,""),N--,e}function g(e){return e+="~0",e=e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,i){var n=t,o=i;return n=b(A(n)),n=P(n),n=n.replace(/^\n+/g,""),n=n.replace(/\n+$/g,""),n="<pre><code>"+n+"\n</code></pre>","\n\n"+n+"\n\n"+o}),e=e.replace(/~0/,"")}function v(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(O.push(e)-1)+"K\n\n"}function y(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,i,n,o){var r=n;return r=r.replace(/^([ \t]*)/g,""),r=r.replace(/[ \t]*$/g,""),r=b(r),r=r.replace(/:\/\//g,"~P"),t+"<code>"+r+"</code>"})}function b(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=I(e,"*_{}[]\\",!1)}function _(e){return e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),e=e.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function w(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var i=t;return i=i.replace(/^[ \t]*>[ \t]?/gm,"~0"),i=i.replace(/~0/g,""),i=i.replace(/^[ \t]+$/gm,""),i=r(i),i=i.replace(/(^|\n)/g,"$1  "),i=i.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var i=t;return i=i.replace(/^  /gm,"~0"),i=i.replace(/~0/g,"")}),v("<blockquote>\n"+i+"\n</blockquote>")})}function x(e,t){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var i=e.split(/\n{2,}/g),n=[],o=/~K(\d+)K/,r=i.length,s=0;r>s;s++){var l=i[s];o.test(l)?n.push(l):/\S/.test(l)&&(l=a(l),l=l.replace(/^([ \t]*)/g,"<p>"),l+="</p>",n.push(l))}if(!t){r=n.length;for(var s=0;r>s;s++)for(var c=!0;c;)c=!1,n[s]=n[s].replace(/~K(\d+)K/g,function(e,t){return c=!0,O[t]})}return n.join("\n\n")}function C(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function k(e){return e=e.replace(/\\(\\)/g,M),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,M)}function S(e,t,i,n){if(t)return e;if(")"!==n.charAt(n.length-1))return"<"+i+n+">";for(var o=n.match(/[()]/g),r=0,a=0;a<o.length;a++)"("===o[a]?0>=r?r=1:r++:r--;var s="";if(0>r){var l=new RegExp("\\){1,"+-r+"}$");n=n.replace(l,function(e){return s=e,""})}return"<"+i+n+">"+s}function T(e){e=e.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,S);var t=function(e,t){return'<a href="'+t+'">'+L.plainLinkText(t)+"</a>"};return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t)}function D(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var i=parseInt(t);return String.fromCharCode(i)})}function A(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}function P(e){if(!/\t/.test(e))return e;var t,i=["    ","   ","  "," "],n=0;return e.replace(/[\n\t]/g,function(e,o){return"\n"===e?(n=o+1,e):(t=(o-n)%4,n=o+1,i[t])})}function E(e){if(!e)return"";var t=e.length;return e.replace(H,function(i,n){return"~D"==i?"%24":":"!=i||n!=t-1&&!/[0-9\/]/.test(e.charAt(n+1))?"%"+i.charCodeAt(0).toString(16):":"})}function I(e,t,i){var n="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";i&&(n="\\\\"+n);var o=new RegExp(n,"g");return e=e.replace(o,M)}function M(e,t){var i=t.charCodeAt(0);return"~E"+i+"E"}var L=this.hooks=new i;L.addNoop("plainLinkText"),L.addNoop("preConversion"),L.addNoop("postNormalization"),L.addNoop("preBlockGamut"),L.addNoop("postBlockGamut"),L.addNoop("preSpanGamut"),L.addNoop("postSpanGamut"),L.addNoop("postConversion");var $,F,O,N;this.makeHtml=function(i){if($)throw new Error("Recursive call to converter.makeHtml");return $=new n,F=new n,O=[],N=0,i=L.preConversion(i),i=i.replace(/~/g,"~T"),i=i.replace(/\$/g,"~D"),i=i.replace(/\r\n/g,"\n"),i=i.replace(/\r/g,"\n"),i="\n\n"+i+"\n\n",i=P(i),i=i.replace(/^[ \t]+$/gm,""),i=L.postNormalization(i),i=t(i),i=e(i),i=r(i),i=D(i),i=i.replace(/~D/g,"$$"),i=i.replace(/~T/g,"~"),i=L.postConversion(i),O=F=$=null,i};var R=function(e){return r(e)},j={ol:"\\d+[.]",ul:"[*+-]"},H=/(?:["'*()[\]:]|~D)/g}}(),function(){function e(e){return e.replace(/<[^>]*>?/gi,t)}function t(e){return e.match(r)||e.match(a)||e.match(s)?e:""}function i(e){if(""==e)return"";var t=/<\/?\w+[^>]*(\s|$|>)/g,i=e.toLowerCase().match(t),n=(i||[]).length;if(0==n)return e;for(var o,r,a,s="<p><img><br><li><hr>",l=[],c=[],d=!1,u=0;n>u;u++)if(o=i[u].replace(/<\/?(\w+).*/,"$1"),!(l[u]||s.search("<"+o+">")>-1)){if(r=i[u],a=-1,!/^<\//.test(r))for(var h=u+1;n>h;h++)if(!l[h]&&i[h]=="</"+o+">"){a=h;break}-1==a?d=c[u]=!0:l[a]=!0}if(!d)return e;var u=0;return e=e.replace(t,function(e){var t=c[u]?"":e;return u++,t})}var n,o;"object"==typeof exports&&"function"==typeof require?(n=exports,o=require("./Markdown.Converter").Converter):(n=window.Markdown,o=n.Converter),n.getSanitizingConverter=function(){var t=new o;return t.hooks.chain("postConversion",e),t.hooks.chain("postConversion",i),t};var r=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,a=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,s=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}(),function(){function e(){}function t(e){this.buttonBar=u.getElementById("wmd-button-bar"+e),this.preview=u.getElementById("wmd-preview"+e),this.input=u.getElementsByClassName("wmd-input"+e)[0]}function i(e,t){var i,o,r,a=this,s=[],c=0,d="none",u=function(e,t){d!=e&&(d=e,t||p()),m.isIE&&"moving"==d?r=null:o=setTimeout(h,1)},h=function(e){r=new n(t,e),o=void 0};this.setCommandMode=function(){d="command",p(),o=setTimeout(h,0)},this.canUndo=function(){return c>1},this.canRedo=function(){return s[c+1]?!0:!1},this.undo=function(){a.canUndo()&&(i?(i.restore(),i=null):(s[c]=new n(t),s[--c].restore(),e&&e())),d="none",t.input.focus(),h()},this.redo=function(){a.canRedo()&&(s[++c].restore(),e&&e()),d="none",t.input.focus(),h()};var p=function(){var o=r||new n(t);return o?"moving"==d?void(i||(i=o)):(i&&(s[c-1].text!=i.text&&(s[c++]=i),i=null),s[c++]=o,s[c+1]=null,void(e&&e())):!1},f=function(e){var t=!1;if((e.ctrlKey||e.metaKey)&&!e.altKey){var i=e.charCode||e.keyCode,n=String.fromCharCode(i);switch(n.toLowerCase()){case"y":a.redo(),t=!0;break;case"z":e.shiftKey?a.redo():a.undo(),t=!0}}return t?(e.preventDefault&&e.preventDefault(),void(window.event&&(window.event.returnValue=!1))):void 0},g=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&40>=t||t>=63232&&63235>=t?u("moving"):8==t||46==t||127==t?u("deleting"):13==t?u("newlines"):27==t?u("escape"):(16>t||t>20)&&91!=t&&u("typing")}},v=function(){l.addEvent(t.input,"keypress",function(e){!e.ctrlKey&&!e.metaKey||e.altKey||89!=e.keyCode&&90!=e.keyCode||e.preventDefault()});var e=function(){(m.isIE||r&&r.text!=t.input.value)&&void 0==o&&(d="paste",p(),h())};l.addEvent(t.input,"keydown",f),l.addEvent(t.input,"keydown",g),l.addEvent(t.input,"mousedown",function(){u("moving")}),t.input.onpaste=e,t.input.ondrop=e},y=function(){v(),h(!0),p()};y()}function n(t,i){var n=this,o=t.input;this.init=function(){l.isVisible(o)&&(i||!u.activeElement||u.activeElement===o)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=o.scrollTop,(!this.text&&o.selectionStart||0===o.selectionStart)&&(this.text=o.value))},this.setInputAreaSelection=function(){if(l.isVisible(o))if(void 0===o.selectionStart||m.isOpera){if(u.selection){if(u.activeElement&&u.activeElement!==o)return;o.focus();var e=o.createTextRange();e.moveStart("character",-o.value.length),e.moveEnd("character",-o.value.length),e.moveEnd("character",n.end),e.moveStart("character",n.start),e.select()}}else o.focus(),o.selectionStart=n.start,o.selectionEnd=n.end,o.scrollTop=n.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(t.ieCachedRange||!o.selectionStart&&0!==o.selectionStart){if(u.selection){n.text=l.fixEolChars(o.value);var e=t.ieCachedRange||u.selection.createRange(),i=l.fixEolChars(e.text),r="",a=r+i+r;e.text=a;var s=l.fixEolChars(o.value);e.moveStart("character",-a.length),e.text=i,n.start=s.indexOf(r),n.end=s.lastIndexOf(r)-r.length;var c=n.text.length-l.fixEolChars(o.value).length;if(c){for(e.moveStart("character",-i.length);c--;)i+="\n",n.end+=1;e.text=i}t.ieCachedRange&&(n.scrollTop=t.ieCachedScrollTop),t.ieCachedRange=null,this.setInputAreaSelection()}}else n.start=o.selectionStart,n.end=o.selectionEnd},this.restore=function(){void 0!=n.text&&n.text!=o.value&&(o.value=n.text),this.setInputAreaSelection(),o.scrollTop=n.scrollTop},this.getChunks=function(){var t=new e;return t.before=l.fixEolChars(n.text.substring(0,n.start)),t.startTag="",t.selection=l.fixEolChars(n.text.substring(n.start,n.end)),t.endTag="",t.after=l.fixEolChars(n.text.substring(n.end)),t.scrollTop=n.scrollTop,t},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function o(e,t,i){var n,o,r,a=3e3,s="delayed",d=function(e,t){l.addEvent(e,"input",t),e.onpaste=t,e.ondrop=t,l.addEvent(e,"keypress",t),l.addEvent(e,"keydown",t)},h=function(){var e=0;return window.innerHeight?e=window.pageYOffset:u.documentElement&&u.documentElement.scrollTop?e=u.documentElement.scrollTop:u.body&&(e=u.body.scrollTop),e},p=function(){if(t.preview){var i=t.input.value;if(!i||i!=r){r=i;var n=(new Date).getTime();i=e.makeHtml(i);var a=(new Date).getTime();o=a-n,C(i)}}},f=function(){if(n&&(clearTimeout(n),n=void 0),"manual"!==s){var e=0;"delayed"===s&&(e=o),e>a&&(e=a),n=setTimeout(p,e)}},g=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},v=function(){t.preview&&(t.preview.scrollTop=(t.preview.scrollHeight-t.preview.clientHeight)*g(t.preview))};this.refresh=function(e){e?(r="",p()):f()},this.processingTime=function(){return o};var y,b=!0,_=function(e){var i=t.preview,n=i.parentNode,o=i.nextSibling;n.removeChild(i),i.innerHTML=e,o?n.insertBefore(i,o):n.appendChild(i)},w=function(e){t.preview.innerHTML=e},x=function(e){if(y)return y(e);try{w(e),y=w}catch(t){y=_,y(e)}},C=function(e){var n=c.getTop(t.input)-h();if(t.preview&&(x(e),i()),v(),b)return void(b=!1);var o=c.getTop(t.input)-h();m.isIE?setTimeout(function(){window.scrollBy(0,o-n)},0):window.scrollBy(0,o-n)},k=function(){d(t.input,f),p(),t.preview&&(t.preview.scrollTop=0)};k()}function r(e,t,i,o,r,a,s){function c(e){if(v.focus(),e.textOp){i&&i.setCommandMode();var r=new n(t);if(!r)return;var a=r.getChunks(),s=function(){v.focus(),a&&r.setChunks(a),r.restore(),o.refresh()},l=e.textOp(a,s);l||s()}e.execute&&e.execute(i)}function d(e,i){var n="0px",o="-20px",r="-40px",a=e.getElementsByTagName("span")[0];i?(a.style.backgroundPosition=e.XShift+" "+n,e.onmouseover=function(){a.style.backgroundPosition=this.XShift+" "+r},e.onmouseout=function(){a.style.backgroundPosition=this.XShift+" "+n},m.isIE&&(e.onmousedown=function(){u.activeElement&&u.activeElement!==t.input||(t.ieCachedRange=document.selection.createRange(),t.ieCachedScrollTop=t.input.scrollTop)}),e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),c(this),!1})):(a.style.backgroundPosition=e.XShift+" "+o,e.onmouseover=e.onmouseout=e.onclick=function(){})}function h(e){return"string"==typeof e&&(e=r[e]),function(){e.apply(r,arguments)}}function f(){var i=t.buttonBar,n=document.createElement("ul");n.id="wmd-button-row"+e,n.className="wmd-button-row",n=i.appendChild(n);var o=0,r=function(t,i,r,a){var s=document.createElement("li");s.className="wmd-button",s.style.left=o+"px",o+=25;var l=document.createElement("span");return s.id=t+e,s.appendChild(l),s.title=i,s.XShift=r,a&&(s.textOp=a),d(s,!0),n.appendChild(s),s},l=function(t){var i=document.createElement("li");i.className="wmd-spacer wmd-spacer"+t,i.id="wmd-spacer"+t+e,n.appendChild(i),o+=25};y.bold=r("wmd-bold-button",s("bold"),"0px",h("doBold")),y.italic=r("wmd-italic-button",s("italic"),"-20px",h("doItalic")),l(1),y.link=r("wmd-link-button",s("link"),"-40px",h(function(e,t){return this.doLinkOrImage(e,t,!1)})),y.quote=r("wmd-quote-button",s("quote"),"-60px",h("doBlockquote")),y.code=r("wmd-code-button",s("code"),"-80px",h("doCode")),y.image=r("wmd-image-button",s("image"),"-100px",h(function(e,t){return this.doLinkOrImage(e,t,!0)})),l(2),y.olist=r("wmd-olist-button",s("olist"),"-120px",h(function(e,t){this.doList(e,t,!0)})),y.ulist=r("wmd-ulist-button",s("ulist"),"-140px",h(function(e,t){this.doList(e,t,!1)})),y.heading=r("wmd-heading-button",s("heading"),"-160px",h("doHeading")),y.hr=r("wmd-hr-button",s("hr"),"-180px",h("doHorizontalRule")),l(3),y.undo=r("wmd-undo-button",s("undo"),"-200px",null),y.undo.execute=function(e){e&&e.undo()};var c=s(/win/.test(p.platform.toLowerCase())?"redo":"redomac");if(y.redo=r("wmd-redo-button",c,"-220px",null),y.redo.execute=function(e){e&&e.redo()},a){var u=document.createElement("li"),f=document.createElement("span");u.appendChild(f),u.className="wmd-button wmd-help-button",u.id="wmd-help-button"+e,u.XShift="-240px",u.isHelp=!0,u.style.right="0px",u.title=s("help"),u.onclick=a.handler,d(u,!0),n.appendChild(u),y.help=u}g()}function g(){i&&(d(y.undo,i.canUndo()),d(y.redo,i.canRedo()))}var v=t.input,y={};f();var b="keydown";m.isOpera&&(b="keypress"),l.addEvent(v,b,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode,i=String.fromCharCode(t).toLowerCase();switch(i){case"b":c(y.bold);break;case"i":c(y.italic);break;case"l":c(y.link);break;case"q":c(y.quote);break;case"k":c(y.code);break;case"g":c(y.image);break;case"o":c(y.olist);break;case"u":c(y.ulist);break;case"h":c(y.heading);break;case"r":c(y.hr);break;case"y":c(y.redo);break;case"z":c(e.shiftKey?y.redo:y.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),l.addEvent(v,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(13===t){var i={};i.textOp=h("doAutoindent"),c(i)}}}),m.isIE&&l.addEvent(v,"keydown",function(e){var t=e.keyCode;return 27===t?!1:void 0}),this.setUndoRedoButtonStates=g}function a(e,t){this.hooks=e,this.getString=t}function s(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,i){return t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g," ")}),t=decodeURIComponent(t),t=encodeURI(t).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29"),t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g,"%2b")}),i&&(i=i.trim?i.trim():i.replace(/^\s*/,"").replace(/\s*$/,""),i=i.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),i?t+' "'+i+'"':t})}var l={},c={},d={},u=window.document,h=window.RegExp,p=window.navigator,f={lineLength:72},m={isIE:/msie/.test(p.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(p.userAgent.toLowerCase())||/msie 5/.test(p.userAgent.toLowerCase()),isOpera:/opera/.test(p.userAgent.toLowerCase())},g={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"},v="http://",y="http://";Markdown.Editor=function(e,n,s){s=s||{},"function"==typeof s.handler&&(s={helpButton:s}),s.strings=s.strings||{},s.helpButton&&(s.strings.help=s.strings.help||s.helpButton.title);var l=function(e){return s.strings[e]||g[e]};n=n||"";var c=this.hooks=new Markdown.HookCollection;c.addNoop("onPreviewRefresh"),c.addNoop("postBlockquoteCreation"),c.addFalse("insertImageDialog"),this.getConverter=function(){return e};var d,h=this;this.run=function(){if(!d){d=new t(n);var p,f,m=new a(c,l),g=new o(e,d,function(){c.onPreviewRefresh()});/\?noundo/.test(u.location.href)||(p=new i(function(){g.refresh(),f&&f.setUndoRedoButtonStates()},d),this.textOperation=function(e){p.setCommandMode(),e(),h.refreshPreview()}),f=new r(n,d,p,g,m,s.helpButton,l),f.setUndoRedoButtonStates();var v=h.refreshPreview=function(){g.refresh(!0)};v()}}},e.prototype.findTags=function(e,t){var i,n=this;e&&(i=l.extendRegExp(e,"","$"),this.before=this.before.replace(i,function(e){return n.startTag=n.startTag+e,""}),i=l.extendRegExp(e,"^",""),this.selection=this.selection.replace(i,function(e){return n.startTag=n.startTag+e,""})),t&&(i=l.extendRegExp(t,"","$"),this.selection=this.selection.replace(i,function(e){return n.endTag=e+n.endTag,""}),i=l.extendRegExp(t,"^",""),this.after=this.after.replace(i,function(e){return n.endTag=e+n.endTag,""}))},e.prototype.trimWhitespace=function(e){var t,i,n=this;
e?t=i="":(t=function(e){return n.before+=e,""},i=function(e){return n.after=e+n.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,i)},e.prototype.skipLines=function(e,t,i){void 0===e&&(e=1),void 0===t&&(t=1),e++,t++;var n,o;if(navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+h.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+h.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+h.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+h.$1,this.before){for(n=o="";e--;)n+="\\n?",o+="\n";i&&(n="\\n*"),this.before=this.before.replace(new h(n+"$",""),o)}if(this.after){for(n=o="";t--;)n+="\\n?",o+="\n";i&&(n="\\n*"),this.after=this.after.replace(new h(n,""),o)}},l.isVisible=function(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0},l.addEvent=function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i,!1)},l.removeEvent=function(e,t,i){e.detachEvent?e.detachEvent("on"+t,i):e.removeEventListener(t,i,!1)},l.fixEolChars=function(e){return e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n")},l.extendRegExp=function(e,t,i){(null===t||void 0===t)&&(t=""),(null===i||void 0===i)&&(i="");var n,o=e.toString();return o=o.replace(/\/([gim]*)$/,function(e,t){return n=t,""}),o=o.replace(/(^\/|\/$)/g,""),o=t+o+i,new h(o,n)},c.getTop=function(e,t){var i=e.offsetTop;if(!t)for(;e=e.offsetParent;)i+=e.offsetTop;return i},c.getHeight=function(e){return e.offsetHeight||e.scrollHeight},c.getWidth=function(e){return e.offsetWidth||e.scrollWidth},c.getPageSize=function(){var e,t,i,n;self.innerHeight&&self.scrollMaxY?(e=u.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):u.body.scrollHeight>u.body.offsetHeight?(e=u.body.scrollWidth,t=u.body.scrollHeight):(e=u.body.offsetWidth,t=u.body.offsetHeight),self.innerHeight?(i=self.innerWidth,n=self.innerHeight):u.documentElement&&u.documentElement.clientHeight?(i=u.documentElement.clientWidth,n=u.documentElement.clientHeight):u.body&&(i=u.body.clientWidth,n=u.body.clientHeight);var o=Math.max(e,i),r=Math.max(t,n);return[o,r,i,n]},d.createBackground=function(){var e=u.createElement("div"),t=e.style;e.className="wmd-prompt-background",t.position="absolute",t.top="0",t.zIndex="1000",m.isIE?t.filter="alpha(opacity=50)":t.opacity="0.5";var i=c.getPageSize();return t.height=i[1]+"px",m.isIE?(t.left=u.documentElement.scrollLeft,t.width=u.documentElement.clientWidth):(t.left="0",t.width="100%"),u.body.appendChild(e),e},d.prompt=function(e,t,i){var n,o;void 0===t&&(t="");var r=function(e){var t=e.charCode||e.keyCode;27===t&&a(!0)},a=function(e){l.removeEvent(u.body,"keydown",r);var t=o.value;return e?t=null:(t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t)),n.parentNode.removeChild(n),i(t),!1},s=function(){n=u.createElement("div"),n.className="wmd-prompt-dialog",n.style.padding="10px;",n.style.position="fixed",n.style.width="400px",n.style.zIndex="1001";var i=u.createElement("div");i.innerHTML=e,i.style.padding="5px",n.appendChild(i);var s=u.createElement("form"),d=s.style;s.onsubmit=function(){return a(!1)},d.padding="0",d.margin="0",d.cssFloat="left",d.width="100%",d.textAlign="center",d.position="relative",n.appendChild(s),o=u.createElement("input"),o.type="text",o.value=t,d=o.style,d.display="block",d.width="80%",d.marginLeft=d.marginRight="auto",s.appendChild(o);var h=u.createElement("input");h.type="button",h.onclick=function(){return a(!1)},h.value="OK",d=h.style,d.margin="10px",d.display="inline",d.width="7em";var p=u.createElement("input");p.type="button",p.onclick=function(){return a(!0)},p.value="Cancel",d=p.style,d.margin="10px",d.display="inline",d.width="7em",s.appendChild(h),s.appendChild(p),l.addEvent(u.body,"keydown",r),n.style.top="50%",n.style.left="50%",n.style.display="block",m.isIE_5or6&&(n.style.position="absolute",n.style.top=u.documentElement.scrollTop+200+"px",n.style.left="50%"),u.body.appendChild(n),n.style.marginTop=-(c.getHeight(n)/2)+"px",n.style.marginLeft=-(c.getWidth(n)/2)+"px"};setTimeout(function(){s();var e=t.length;if(void 0!==o.selectionStart)o.selectionStart=0,o.selectionEnd=e;else if(o.createTextRange){var i=o.createTextRange();i.collapse(!1),i.moveStart("character",-e),i.moveEnd("character",e),i.select()}o.focus()},0)};var b=a.prototype;b.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",b.unwrap=function(e){var t=new h("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},b.wrap=function(e,t){this.unwrap(e);var i=new h("(.{1,"+t+"})( +|$\\n?)","gm"),n=this;e.selection=e.selection.replace(i,function(e,t){return new h("^"+n.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},b.doBold=function(e,t){return this.doBorI(e,t,2,this.getString("boldexample"))},b.doItalic=function(e,t){return this.doBorI(e,t,1,this.getString("italicexample"))},b.doBorI=function(e,t,i,n){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var o=/(\**$)/.exec(e.before)[0],r=/(^\**)/.exec(e.after)[0],a=Math.min(o.length,r.length);if(a>=i&&(2!=a||1!=i))e.before=e.before.replace(h("[*]{"+i+"}$",""),""),e.after=e.after.replace(h("^[*]{"+i+"}",""),"");else if(!e.selection&&r){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var s=h.$1;e.before=e.before+r+s}else{e.selection||r||(e.selection=n);var l=1>=i?"*":"**";e.before=e.before+l,e.after=l+e.after}},b.stripLinkDefs=function(e,t){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,i,n,o,r){return t[i]=e.replace(/\s*$/,""),o?(t[i]=e.replace(/["(](.+?)[")]$/,""),o+r):""})},b.addLinkDef=function(e,t){var i=0,n={};e.before=this.stripLinkDefs(e.before,n),e.selection=this.stripLinkDefs(e.selection,n),e.after=this.stripLinkDefs(e.after,n);var o="",r=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,a=function(e){i++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+i+"]:"),o+="\n"+e},s=function(e,t,o,l,c,d){return o=o.replace(r,s),n[c]?(a(n[c]),t+o+l+i+d):e};e.before=e.before.replace(r,s),t?a(t):e.selection=e.selection.replace(r,s);var l=i;return e.after=e.after.replace(r,s),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+o,l},b.doLinkOrImage=function(e,t,i){e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var n;if(!(e.endTag.length>1&&e.startTag.length>0)){if(e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection))return void this.addLinkDef(e,null);var o=this,r=function(r){if(n.parentNode.removeChild(n),null!==r){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var a=" [999]: "+s(r),l=o.addLinkDef(e,a);e.startTag=i?"![":"[",e.endTag="]["+l+"]",e.selection||(i?e.selection=o.getString("imagedescription"):e.selection=o.getString("linkdescription"))}t()};return n=d.createBackground(),i?this.hooks.insertImageDialog(r)||d.prompt(this.getString("imagedialog"),v,r):d.prompt(this.getString("linkdialog"),y,r),!0}e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null)},b.doAutoindent=function(e,t){var i=this,n=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),e.selection||/^[ \t]*(?:\n|$)/.test(e.after)||(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),n=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&i.doList&&i.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&i.doBlockquote&&i.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&i.doCode&&i.doCode(e),n&&(e.after=e.selection+e.after,e.selection="")},b.doBlockquote=function(e,t){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,i,n,o){return e.before+=i,e.after=o+e.after,n}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,i){return e.selection=i+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||this.getString("quoteexample");var i,n="",o="";if(e.before){for(var r=e.before.replace(/\n$/,"").split("\n"),a=!1,s=0;s<r.length;s++){var l=!1;i=r[s],a=a&&i.length>0,/^>/.test(i)?(l=!0,!a&&i.length>1&&(a=!0)):l=/^[ \t]*$/.test(i)?!0:a,l?n+=i+"\n":(o+=n+i,n="\n")}/(^|\n)>/.test(n)||(o+=n,n="")}e.startTag=n,e.before=o,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var c=function(t){var i=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,i)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,i)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,f.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),c(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),c(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),e.selection=this.hooks.postBlockquoteCreation(e.selection),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,i){return e.startTag+=i,""}))},b.doCode=function(e,t){var i=/\S[ ]*$/.test(e.before),n=/^[ ]*\S/.test(e.after);if(!n&&!i||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var o=1,r=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(o=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(r=0),e.skipLines(o,r),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(e.startTag="    ",e.selection=this.getString("codeexample"))}else e.trimWhitespace(),e.findTags(/`/,/`/),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection=this.getString("codeexample")))},b.doList=function(e,t,i){var n=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,o=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,r="-",a=1,s=function(){var e;return i?(e=" "+a+". ",a++):e=" "+r+" ",e},l=function(e){return void 0===i&&(i=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(e){return s()})};if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var c=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),c&&(e.after=e.after.replace(o,l)),i==c)return}var d=1;e.before=e.before.replace(n,function(e){return/^\s*([*+-])/.test(e)&&(r=h.$1),d=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.selection||(e.selection=this.getString("litem"));var u=s(),p=1;e.after=e.after.replace(o,function(e){return p=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.trimWhitespace(!0),e.skipLines(d,p,!0),e.startTag=u;var m=u.replace(/./g," ");this.wrap(e,f.lineLength-m.length),e.selection=e.selection.replace(/\n/g,"\n"+m)},b.doHeading=function(e,t){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection=this.getString("headingexample"),void(e.endTag=" ##");var i=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(i=h.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(i=1),/-+/.test(e.endTag)&&(i=2),e.startTag=e.endTag="",e.skipLines(1,1);var n=0==i?2:i-1;if(n>0){var o=n>=2?"-":"=",r=e.selection.length;for(r>f.lineLength&&(r=f.lineLength),e.endTag="\n";r--;)e.endTag+=o}},b.doHorizontalRule=function(e,t){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}(),function(){function e(e,t){var i;e||(e={});for(i in t)e[i]=t[i];return e}function t(){var e,t,i=arguments,n={},o=function(e,t){var i,n;"object"!=typeof e&&(e={});for(n in t)t.hasOwnProperty(n)&&(i=t[n],e[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?o(e[n]||{},i):t[n]);return e};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),t=i.length,e=0;t>e;e++)n=o(n,i[e]);return n}function i(e,t){return parseInt(e,t||10)}function n(e){return"string"==typeof e}function o(e){return e&&"object"==typeof e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return"number"==typeof e}function s(e){return le.log(e)/le.LN10}function l(e){return le.pow(10,e)}function c(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}}function d(e){return e!==O&&null!==e}function u(e,t,i){var r,a;if(n(t))d(i)?e.setAttribute(t,i):e&&e.getAttribute&&(a=e.getAttribute(t));else if(d(t)&&o(t))for(r in t)e.setAttribute(r,t[r]);return a}function h(e){return r(e)?e:[e]}function p(){var e,t,i=arguments,n=i.length;for(e=0;n>e;e++)if(t=i[e],t!==O&&null!==t)return t}function f(t,i){we&&!De&&i&&i.opacity!==O&&(i.filter="alpha(opacity="+100*i.opacity+")"),e(t.style,i)}function m(t,i,n,o,r){return t=ae.createElement(t),i&&e(t,i),r&&f(t,{padding:0,border:Oe,margin:0}),n&&f(t,n),o&&o.appendChild(t),t}function g(t,i){var n=function(){return O};return n.prototype=new t,e(n.prototype,i),n}function v(e,t,n,o){var r=H.lang,e=+e||0,a=-1===t?(e.toString().split(".")[1]||"").length:isNaN(t=fe(t))?2:t,t=void 0===n?r.decimalPoint:n,o=void 0===o?r.thousandsSep:o,r=0>e?"-":"",n=String(i(e=fe(e).toFixed(a))),s=n.length>3?n.length%3:0;return r+(s?n.substr(0,s)+o:"")+n.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?t+fe(e-n).toFixed(a).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,i){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),i.apply(this,e)}}function _(e,t){for(var i,n,o,r,a,s="{",l=!1,c=[];-1!==(s=e.indexOf(s));){if(i=e.slice(0,s),l){for(n=i.split(":"),o=n.shift().split("."),a=o.length,i=t,r=0;a>r;r++)i=i[o[r]];n.length&&(n=n.join(":"),o=/\.([0-9])/,r=H.lang,a=void 0,/f$/.test(n)?(a=(a=n.match(o))?a[1]:-1,null!==i&&(i=v(i,a,r.decimalPoint,n.indexOf(",")>-1?r.thousandsSep:""))):i=z(n,i))}c.push(i),e=e.slice(s+1),s=(l=!l)?"}":"{"}return c.push(e),c.join("")}function w(e){return le.pow(10,de(le.log(e)/le.LN10))}function x(e,t,i,n){var o,i=p(i,1);for(o=e/i,t||(t=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?t=[1,2,5,10]:.1>=i&&(t=[1/i]))),n=0;n<t.length&&(e=t[n],!(o<=(t[n]+(t[n+1]||t[n]))/2));n++);return e*=i}function C(e,t){var i,n,o=e.length;for(n=0;o>n;n++)e[n].ss_i=n;for(e.sort(function(e,n){return i=t(e,n),0===i?e.ss_i-n.ss_i:i}),n=0;o>n;n++)delete e[n].ss_i}function k(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i}function S(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i}function T(e,t){for(var i in e)e[i]&&e[i]!==t&&e[i].destroy&&e[i].destroy(),delete e[i]}function D(e){j||(j=m(Fe)),e&&j.appendChild(e),j.innerHTML=""}function A(e){return parseFloat(e.toPrecision(14))}function P(e,t){B=p(e,t.animation)}function E(){var e=H.global.useUTC,t=e?"getUTC":"get",i=e?"setUTC":"set";V=6e4*(e&&H.global.timezoneOffset||0),U=e?Date.UTC:function(e,t,i,n,o,r){return new Date(e,t,p(i,1),p(n,0),p(o,0),p(r,0)).getTime()},G=t+"Minutes",X=t+"Hours",Q=t+"Day",K=t+"Date",J=t+"Month",Z=t+"FullYear",ee=i+"Minutes",te=i+"Hours",ie=i+"Date",ne=i+"Month",oe=i+"FullYear"}function I(){}function M(e,t,i,n){this.axis=e,this.pos=t,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function L(){this.init.apply(this,arguments)}function $(){this.init.apply(this,arguments)}function F(e,t,i,n,o){var r=e.chart.inverted;this.axis=e,this.isNegative=i,this.options=t,this.x=n,this.total=null,this.points={},this.stack=o,this.alignOptions={align:t.align||(r?i?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":i?"bottom":"top"),y:p(t.y,r?4:i?14:-6),x:p(t.x,r?i?-6:6:0)},this.textAlign=t.textAlign||(r?i?"right":"left":"center")}var O,N,R,j,H,z,B,q,W,Y,U,V,G,X,Q,K,J,Z,ee,te,ie,ne,oe,re,ae=document,se=window,le=Math,ce=le.round,de=le.floor,ue=le.ceil,he=le.max,pe=le.min,fe=le.abs,me=le.cos,ge=le.sin,ve=le.PI,ye=2*ve/360,be=navigator.userAgent,_e=se.opera,we=/msie/i.test(be)&&!_e,xe=8===ae.documentMode,Ce=/AppleWebKit/.test(be),ke=/Firefox/.test(be),Se=/(Mobile|Android|Windows Phone)/.test(be),Te="http://www.w3.org/2000/svg",De=!!ae.createElementNS&&!!ae.createElementNS(Te,"svg").createSVGRect,Ae=ke&&parseInt(be.split("Firefox/")[1],10)<4,Pe=!De&&!we&&!!ae.createElement("canvas").getContext,Ee={},Ie=0,Me=function(){return O},Le=[],$e=0,Fe="div",Oe="none",Ne=/^[0-9]+$/,Re="stroke-width",je={};se.Highcharts?Y(16,!0):re=se.Highcharts={},z=function(t,i,n){if(!d(i)||isNaN(i))return"Invalid date";var o,t=p(t,"%Y-%m-%d %H:%M:%S"),r=new Date(i-V),a=r[X](),s=r[Q](),l=r[K](),c=r[J](),u=r[Z](),h=H.lang,f=h.weekdays,r=e({a:f[s].substr(0,3),A:f[s],d:y(l),e:l,b:h.shortMonths[c],B:h.months[c],m:y(c+1),y:u.toString().substr(2,2),Y:u,H:y(a),I:y(a%12||12),l:a%12||12,M:y(r[G]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:y(r.getSeconds()),L:y(ce(i%1e3),3)},re.dateFormats);for(o in r)for(;-1!==t.indexOf("%"+o);)t=t.replace("%"+o,"function"==typeof r[o]?r[o](i):r[o]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},Y=function(e,t){var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw i;se.console&&console.log(i)},W={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},q={init:function(e,t,i){var n,o,r,t=t||"",a=e.shift,s=t.indexOf("C")>-1,l=s?7:3,t=t.split(" "),i=[].concat(i),c=function(e){for(n=e.length;n--;)"M"===e[n]&&e.splice(n+1,0,e[n+1],e[n+2],e[n+1],e[n+2])};if(s&&(c(t),c(i)),e.isArea&&(o=t.splice(t.length-6,6),r=i.splice(i.length-6,6)),a<=i.length/l&&t.length===i.length)for(;a--;)i=[].concat(i).splice(0,l).concat(i);if(e.shift=0,t.length)for(e=i.length;t.length<e;)a=[].concat(t).splice(t.length-l,l),s&&(a[l-6]=a[l-2],a[l-5]=a[l-1]),t=t.concat(a);return o&&(t=t.concat(o),i=i.concat(r)),[t,i]},step:function(e,t,i,n){var o=[],r=e.length;if(1===i)o=n;else if(r===t.length&&1>i)for(;r--;)n=parseFloat(e[r]),o[r]=isNaN(n)?e[r]:i*parseFloat(t[r]-n)+n;else o=t;return o}},function(t){se.HighchartsAdapter=se.HighchartsAdapter||t&&{init:function(e){var i,o=t.fx,r=o.step,a=t.Tween,s=a&&a.propHooks;i=t.cssHooks.opacity,t.extend(t.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}}),t.each(["cur","_default","width","height","opacity"],function(e,t){var i,n=r;"cur"===t?n=o.prototype:"_default"===t&&a&&(n=s[t],t="set"),(i=n[t])&&(n[t]=function(n){var o,n=e?n:this;return"align"!==n.prop?(o=n.elem,o.attr?o.attr(n.prop,"cur"===t?O:n.now):i.apply(this,arguments)):void 0})}),b(i,"get",function(e,t,i){return t.attr?t.opacity||0:e.call(this,t,i)}),i=function(t){var i,n=t.elem;t.started||(i=e.init(n,n.d,n.toD),t.start=i[0],t.end=i[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))},a?s.d={set:i}:r.d=i,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var i,n=e.length;for(i=0;n>i;i++)if(t.call(e[i],e[i],i,e)===!1)return i},t.fn.highcharts=function(){var e,t,i="Chart",o=arguments;return this[0]&&(n(o[0])&&(i=o[0],o=Array.prototype.slice.call(o,1)),e=o[0],e!==O&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new re[i](e,o[1]),t=this),e===O&&(t=Le[u(this[0],"data-highcharts-chart")])),t}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,i){return t(e)[i]()},grep:t.grep,map:function(e,t){for(var i=[],n=0,o=e.length;o>n;n++)i[n]=t.call(e[n],e[n],n,e);return i},offset:function(e){return t(e).offset()},addEvent:function(e,i,n){t(e).bind(i,n)},removeEvent:function(e,i,n){var o=ae.removeEventListener?"removeEventListener":"detachEvent";ae[o]&&e&&!e[o]&&(e[o]=function(){}),t(e).unbind(i,n)},fireEvent:function(i,n,o,r){var a,s=t.Event(n),l="detached"+n;!we&&o&&(delete o.layerX,delete o.layerY,delete o.returnValue),e(s,o),i[n]&&(i[l]=i[n],i[n]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var i=s[t];s[t]=function(){try{i.call(s)}catch(e){"preventDefault"===t&&(a=!0)}}}),t(i).trigger(s),i[l]&&(i[n]=i[l],i[l]=null),r&&!s.isDefaultPrevented()&&!a&&r(s)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===O&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,i,n){var o=t(e);e.style||(e.style={}),i.d&&(e.toD=i.d,i.d=1),o.stop(),i.opacity!==O&&e.attr&&(i.opacity+="px"),o.animate(i,n)},stop:function(e){t(e).stop()}}}(se.jQuery);var He=se.HighchartsAdapter,ze=He||{};He&&He.init.call(He,q);var Be=ze.adapterRun,qe=ze.getScript,We=ze.inArray,Ye=ze.each,Ue=ze.grep,Ve=ze.offset,Ge=ze.map,Xe=ze.addEvent,Qe=ze.removeEvent,Ke=ze.fireEvent,Je=ze.washMouseEvent,Ze=ze.animate,et=ze.stop,ze={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};H={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(ze,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:De,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Se?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var tt=H.plotOptions,He=tt.line;E();var it=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,nt=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,ot=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,rt=function(e){var n,o,r=[];return function(e){e&&e.stops?o=Ge(e.stops,function(e){return rt(e[1])}):(n=it.exec(e))?r=[i(n[1]),i(n[2]),i(n[3]),parseFloat(n[4],10)]:(n=nt.exec(e))?r=[i(n[1],16),i(n[2],16),i(n[3],16),1]:(n=ot.exec(e))&&(r=[i(n[1]),i(n[2]),i(n[3]),1])}(e),{get:function(i){var n;return o?(n=t(e),n.stops=[].concat(n.stops),Ye(o,function(e,t){n.stops[t]=[n.stops[t][0],e.get(i)]})):n=r&&!isNaN(r[0])?"rgb"===i?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===i?r[3]:"rgba("+r.join(",")+")":e,n},brighten:function(e){if(o)Ye(o,function(t){t.brighten(e)});else if(a(e)&&0!==e){var t;for(t=0;3>t;t++)r[t]+=i(255*e),r[t]<0&&(r[t]=0),r[t]>255&&(r[t]=255)}return this},rgba:r,setOpacity:function(e){return r[3]=e,this}}};I.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(e,t){this.element="span"===t?m(t):ae.createElementNS(Te,t),this.renderer=e},animate:function(e,i,n){return i=p(i,B,!0),et(this),i?(i=t(i,{}),n&&(i.complete=n),Ze(this,e,i)):(this.attr(e),n&&n()),this},colorGradient:function(e,i,n){var o,a,s,l,c,u,h,p,f,m,g=this.renderer,v=[];if(e.linearGradient?a="linearGradient":e.radialGradient&&(a="radialGradient"),a){s=e[a],l=g.gradients,u=e.stops,f=n.radialReference,r(s)&&(e[a]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&f&&!d(s.gradientUnits)&&(s=t(s,{cx:f[0]-f[2]/2+s.cx*f[2],cy:f[1]-f[2]/2+s.cy*f[2],r:s.r*f[2],gradientUnits:"userSpaceOnUse"}));for(m in s)"id"!==m&&v.push(m,s[m]);for(m in u)v.push(u[m]);v=v.join(","),l[v]?e=l[v].attr("id"):(s.id=e="highcharts-"+Ie++,l[v]=c=g.createElement(a).attr(s).add(g.defs),c.stops=[],Ye(u,function(e){0===e[1].indexOf("rgba")?(o=rt(e[1]),h=o.get("rgb"),p=o.get("a")):(h=e[1],p=1),e=g.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(c),c.stops.push(e)})),n.setAttribute(i,"url("+g.url+"#"+e+")")}},attr:function(e,t){var i,n,o,r,a=this.element,s=this;if("string"==typeof e&&t!==O&&(i=e,e={},e[i]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(i in e)n=e[i],r=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(o||(this.symbolAttr(e),o=!0),r=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),r||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return s},updateShadows:function(e,t){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(e,"height"===e?he(t-(i[n].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,i=u(t,"class")||"";return-1===i.indexOf(e)&&u(t,"class",i+" "+e),this},symbolAttr:function(e){var t=this;Ye("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){t[i]=p(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Oe)},crisp:function(e){var t,i,n={},o=e.strokeWidth||this.strokeWidth||0;i=ce(o)%2/2,e.x=de(e.x||this.x||0)+i,e.y=de(e.y||this.y||0)+i,e.width=de((e.width||this.width||0)-2*i),e.height=de((e.height||this.height||0)-2*i),e.strokeWidth=o;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(t){var n,o,r=this.styles,a={},s=this.element,l="";if(n=!r,t&&t.color&&(t.fill=t.color),r)for(o in t)t[o]!==r[o]&&(a[o]=t[o],n=!0);if(n){if(n=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&i(t.width),r&&(t=e(r,a)),this.styles=t,n&&(Pe||!De&&this.renderer.forExport)&&delete t.width,we&&!De)f(this.element,t);else{r=function(e,t){return"-"+t.toLowerCase()};for(o in t)l+=o.replace(/([A-Z])/g,r)+":"+t[o]+";";u(s,"style",l)}n&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var i=this,n=i.element;return R&&"click"===e?(n.ontouchstart=function(e){i.touchEventFired=Date.now(),e.preventDefault(),t.call(n,e)},n.onclick=function(e){(-1===be.indexOf("Android")||Date.now()-(i.touchEventFired||0)>1100)&&t.call(n,e)}):n["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.scaleX,n=this.scaleY,o=this.inverted,r=this.rotation,a=this.element;o&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],o?e.push("rotate(90) scale(-1,1)"):r&&e.push("rotate("+r+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(d(i)||d(n))&&e.push("scale("+p(i,1)+" "+p(n,1)+")"),e.length&&a.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){var o,r,a,s,l={};return r=this.renderer,a=r.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!i||n(i))&&(this.alignTo=o=i||"renderer",c(a,this),a.push(this),i=null)):(e=this.alignOptions,t=this.alignByTranslate,o=this.alignTo),i=p(i,r[o],r),o=e.align,r=e.verticalAlign,a=(i.x||0)+(e.x||0),s=(i.y||0)+(e.y||0),("right"===o||"center"===o)&&(a+=(i.width-(e.width||0))/{right:1,center:2}[o]),l[t?"translateX":"x"]=ce(a),("bottom"===r||"middle"===r)&&(s+=(i.height-(e.height||0))/({bottom:1,middle:2}[r]||1)),l[t?"translateY":"y"]=ce(s),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var t,i,n=this.bBox,o=this.renderer,r=this.rotation;t=this.element;var a=this.styles,s=r*ye;i=this.textStr;var l;if((""===i||Ne.test(i))&&(l="num."+i.toString().length+(a?"|"+a.fontSize+"|"+a.fontFamily:"")),l&&(n=o.cache[l]),!n){if(t.namespaceURI===Te||o.forExport){try{n=t.getBBox?e({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(c){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();o.isSVG&&(t=n.width,i=n.height,we&&a&&"11px"===a.fontSize&&"16.9"===i.toPrecision(3)&&(n.height=i=14),r&&(n.width=fe(i*ge(s))+fe(t*me(s)),n.height=fe(i*me(s))+fe(t*ge(s)))),this.bBox=n,l&&(o.cache[l]=n)}return n},show:function(e){return e&&this.element.namespaceURI===Te?(this.element.removeAttribute("visibility"),this):this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t,n,o=this.renderer,r=e||o,a=r.element||o.box,s=this.element,l=this.zIndex;if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&o.buildText(this),l&&(r.handleZ=!0,l=i(l)),r.handleZ)for(e=a.childNodes,t=0;t<e.length;t++)if(o=e[t],r=u(o,"zIndex"),o!==s&&(i(r)>l||!d(l)&&d(r))){a.insertBefore(s,o),n=!0;break}return n||a.appendChild(s),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,i=this,n=i.element||{},o=i.shadows,r=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,et(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(t=0;t<i.stops.length;t++)i.stops[t]=i.stops[t].destroy();i.stops=null}for(i.safeRemoveChild(n),o&&Ye(o,function(e){i.safeRemoveChild(e)});r&&r.div&&0===r.div.childNodes.length;)n=r.parentGroup,i.safeRemoveChild(r.div),delete r.div,r=n;i.alignTo&&c(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(e,t,i){var n,o,r,a,s,l,c=[],d=this.element;if(e){for(a=p(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")",n=1;a>=n;n++)o=d.cloneNode(0),r=2*a+1-2*n,u(o,{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*n,"stroke-width":r,transform:"translate"+l,
fill:Oe}),i&&(u(o,"height",he(u(o,"height")-r,0)),o.cutHeight=r),t?t.element.appendChild(o):d.parentNode.insertBefore(o,d),c.push(o);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=p(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,i){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),i.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").replace("solid",1).split(","),t=e.length;t--;)e[t]=i(e[t])*this["stroke-width"];e=e.join(","),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,i){this[t]=e,i.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=ae.createElementNS(Te,"title"),this.element.appendChild(t)),t.textContent=e},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,i){"string"==typeof e?i.setAttribute(t,e):e&&this.colorGradient(e,t,i)},zIndexSetter:function(e,t,i){i.setAttribute(t,e),this[t]=e},_defaultSetter:function(e,t,i){i.setAttribute(t,e)}},I.prototype.yGetter=I.prototype.xGetter,I.prototype.translateXSetter=I.prototype.translateYSetter=I.prototype.rotationSetter=I.prototype.verticalAlignSetter=I.prototype.scaleXSetter=I.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},I.prototype["stroke-widthSetter"]=I.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],I.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var at=function(){this.init.apply(this,arguments)};at.prototype={Element:I,init:function(e,t,i,n,o){var r,a=location,n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n));r=n.element,e.appendChild(r),-1===e.innerHTML.indexOf("xmlns")&&u(r,"xmlns",Te),this.isSVG=!0,this.box=r,this.boxWrapper=n,this.alignedObjects=[],this.url=(ke||Ce)&&ae.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ae.createTextNode("Created with Highcharts 4.0.3")),this.defs=this.createElement("defs").add(),this.forExport=o,this.gradients={},this.cache={},this.setSize(t,i,!1);var s;ke&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){f(e,{left:0,top:0}),s=e.getBoundingClientRect(),f(e,{left:ue(s.left)-s.left+"px",top:ue(s.top)-s.top+"px"})},t(),Xe(se,"resize",t))},getStyle:function(t){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),T(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Qe(se,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t,n,o=e.element,r=this,a=r.forExport,s=p(e.textStr,"").toString(),l=-1!==s.indexOf("<"),c=o.childNodes,d=u(o,"x"),h=e.styles,m=e.textWidth,g=h&&h.lineHeight,v=h&&h.HcTextStroke,y=c.length,b=function(e){return g?i(g):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||r.style.fontSize||12,e).h};y--;)o.removeChild(c[y]);l||v||-1!==s.indexOf(" ")?(t=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,m&&!e.added&&this.box.appendChild(o),s=l?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],""===s[s.length-1]&&s.pop(),Ye(s,function(i,s){var l,c=0,i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=i.split("|||"),Ye(l,function(i){if(""!==i||1===l.length){var p,g={},v=ae.createElementNS(Te,"tspan");if(t.test(i)&&(p=i.match(t)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(v,"style",p)),n.test(i)&&!a&&(u(v,"onclick",'location.href="'+i.match(n)[1]+'"'),f(v,{cursor:"pointer"})),i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==i){if(v.appendChild(ae.createTextNode(i)),c?g.dx=0:s&&null!==d&&(g.x=d),u(v,g),o.appendChild(v),!c&&s&&(!De&&a&&f(v,{display:"block"}),u(v,"dy",b(v))),m)for(var y,_,i=i.replace(/([^\^])-/g,"$1- ").split(" "),g=l.length>1||i.length>1&&"nowrap"!==h.whiteSpace,w=h.HcHeight,x=[],C=b(v),k=1;g&&(i.length||x.length);)delete e.bBox,y=e.getBBox(),_=y.width,!De&&r.forExport&&(_=r.measureSpanWidth(v.firstChild.data,e.styles)),y=_>m,y&&1!==i.length?(v.removeChild(v.firstChild),x.unshift(i.pop())):(i=x,x=[],i.length&&(k++,w&&k*C>w?(i=["..."],e.attr("title",e.textStr)):(v=ae.createElementNS(Te,"tspan"),u(v,{dy:C,x:d}),p&&u(v,"style",p),o.appendChild(v))),_>m&&(m=_)),i.length&&v.appendChild(ae.createTextNode(i.join(" ").replace(/- /g,"-")));c++}}})})):o.appendChild(ae.createTextNode(s))},button:function(i,n,o,r,a,s,l,c,d){var u,h,p,f,m,g,v=this.label(i,n,o,d,null,null,null,null,"button"),y=0,i={x1:0,y1:0,x2:0,y2:1},a=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a);return p=a.style,delete a.style,s=t(a,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),f=s.style,delete s.style,l=t(a,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),m=l.style,delete l.style,c=t(a,{style:{color:"#CCC"}},c),g=c.style,delete c.style,Xe(v.element,we?"mouseover":"mouseenter",function(){3!==y&&v.attr(s).css(f)}),Xe(v.element,we?"mouseout":"mouseleave",function(){3!==y&&(u=[a,s,l][y],h=[p,f,m][y],v.attr(u).css(h))}),v.setState=function(e){(v.state=y=e)?2===e?v.attr(l).css(m):3===e&&v.attr(c).css(g):v.attr(a).css(p)},v.on("click",function(){3!==y&&r.call(v)}).attr(a).css(e({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=ce(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=ce(e[2])+t%2/2),e},path:function(t){var i={fill:Oe};return r(t)?i.d=t:o(t)&&e(i,t),this.createElement("path").attr(i)},circle:function(e,t,i){return e=o(e)?e:{x:e,y:t,r:i},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,i,n,r,a){return o(e)&&(t=e.y,i=e.r,n=e.innerR,r=e.start,a=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,i||0,i||0,{innerR:n||0,start:r||0,end:a||0}),e.r=i,e},rect:function(e,t,i,n,r,a){var r=o(e)?e.r:r,s=this.createElement("rect"),e=o(e)?e:e===O?{}:{x:e,y:t,width:he(i,0),height:he(n,0)};return a!==O&&(e.strokeWidth=a,e=s.crisp(e)),r&&(e.r=r),s.rSetter=function(e){u(this.element,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,i){var n=this.alignedObjects,o=n.length;for(this.width=e,this.height=t,this.boxWrapper[p(i,!0)?"animate":"attr"]({width:e,height:t});o--;)n[o].align()},g:function(e){var t=this.createElement("g");return d(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,i,n,o,r){var a={preserveAspectRatio:Oe};return arguments.length>1&&e(a,{x:i,y:n,width:o,height:r}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):a.element.setAttribute("hc-svg-href",t),a},symbol:function(t,i,n,o,r,a){var s,l,c,d=this.symbols[t],d=d&&d(ce(i),ce(n),o,r,a),u=/^url\((.*?)\)$/;return d?(s=this.path(d),e(s,{symbolName:t,x:i,y:n,width:o,height:r}),a&&e(s,a)):u.test(t)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(ce((o-t[0])/2),ce((r-t[1])/2)))},l=t.match(u)[1],t=Ee[l],s=this.image(l).attr({x:i,y:n}),s.isImg=!0,t?c(s,t):(s.attr({width:0,height:0}),m("img",{onload:function(){c(s,Ee[l]=[this.width,this.height])},src:l}))),s},symbols:{circle:function(e,t,i,n){var o=.166*i;return["M",e+i/2,t,"C",e+i+o,t,e+i+o,t+n,e+i/2,t+n,"C",e-o,t+n,e-o,t,e+i/2,t,"Z"]},square:function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i,t+n,e,t+n,"Z"]},triangle:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n,e,t+n,"Z"]},"triangle-down":function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i/2,t+n,"Z"]},diamond:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n/2,e+i/2,t+n,e,t+n/2,"Z"]},arc:function(e,t,i,n,o){var r=o.start,i=o.r||i||n,a=o.end-.001,n=o.innerR,s=o.open,l=me(r),c=ge(r),d=me(a),a=ge(a),o=o.end-r<ve?0:1;return["M",e+i*l,t+i*c,"A",i,i,0,o,1,e+i*d,t+i*a,s?"M":"L",e+n*d,t+n*a,"A",n,n,0,o,0,e+n*l,t+n*c,s?"":"Z"]},callout:function(e,t,i,n,o){var r=pe(o&&o.r||0,i,n),a=r+6,s=o&&o.anchorX,l=o&&o.anchorY,o=ce(o.strokeWidth||0)%2/2;return e+=o,t+=o,o=["M",e+r,t,"L",e+i-r,t,"C",e+i,t,e+i,t,e+i,t+r,"L",e+i,t+n-r,"C",e+i,t+n,e+i,t+n,e+i-r,t+n,"L",e+r,t+n,"C",e,t+n,e,t+n,e,t+n-r,"L",e,t+r,"C",e,t,e,t,e+r,t],s&&s>i&&l>t+a&&t+n-a>l?o.splice(13,3,"L",e+i,l-6,e+i+6,l,e+i,l+6,e+i,t+n-r):s&&0>s&&l>t+a&&t+n-a>l?o.splice(33,3,"L",e,l+6,e-6,l,e,l-6,e,t+r):l&&l>n&&s>e+a&&e+i-a>s?o.splice(23,3,"L",s+6,t+n,s,t+n+6,s-6,t+n,e+r,t+n):l&&0>l&&s>e+a&&e+i-a>s&&o.splice(3,3,"L",s-6,t,s,t-6,s+6,t,i-r,t),o}},clipRect:function(e,t,i,n){var o="highcharts-"+Ie++,r=this.createElement("clipPath").attr({id:o}).add(this.defs),e=this.rect(e,t,i,n,0).add(r);return e.id=o,e.clipPath=r,e},text:function(e,t,i,n){var o=Pe||!De&&this.forExport,r={};return n&&!this.forExport?this.html(e,t,i):(r.x=Math.round(t||0),i&&(r.y=Math.round(i)),(e||0===e)&&(r.text=e),e=this.createElement("text").attr(r),o&&e.css({position:"absolute"}),n||(e.xSetter=function(e,t,i){var n,o,r=i.getElementsByTagName("tspan"),a=i.getAttribute(t);for(o=0;o<r.length;o++)n=r[o],n.getAttribute(t)===a&&n.setAttribute(t,e);i.setAttribute(t,e)}),e)},fontMetrics:function(e,t){e=e||this.style.fontSize,t&&se.getComputedStyle&&(t=t.element||t,e=se.getComputedStyle(t,"").fontSize);var e=/px/.test(e)?i(e):/em/.test(e)?12*parseFloat(e):12,n=24>e?e+4:ce(1.2*e),o=ce(.8*n);return{h:n,b:o,f:e}},label:function(i,n,o,r,a,s,l,c,u){function h(){var t,i;t=S.element.style,g=(void 0===v||void 0===y||k.styles.textAlign)&&S.textStr&&S.getBBox(),k.width=(v||g.width||0)+2*D+A,k.height=(y||g.height||0)+2*D,w=D+C.fontMetrics(t&&t.fontSize,S).b,x&&(m||(t=ce(-T*D),i=c?-w:0,k.box=m=r?C.symbol(r,t,i,k.width,k.height,E):C.rect(t,i,k.width,k.height,0,E[Re]),m.attr("fill",Oe).add(k)),m.isImg||m.attr(e({width:ce(k.width),height:ce(k.height)},E)),E=null)}function p(){var e,t=k.styles,t=t&&t.textAlign,i=A+D*(1-T);e=c?0:w,d(v)&&g&&("center"===t||"right"===t)&&(i+={center:.5,right:1}[t]*(v-g.width)),(i!==S.x||e!==S.y)&&(S.attr("x",i),e!==O&&S.attr("y",e)),S.x=i,S.y=e}function f(e,t){m?m.attr(e,t):E[e]=t}var m,g,v,y,b,_,w,x,C=this,k=C.g(u),S=C.text("",0,0,l).attr({zIndex:1}),T=0,D=3,A=0,P=0,E={};k.onAdd=function(){S.add(k),k.attr({text:i||"",x:n,y:o}),m&&d(a)&&k.attr({anchorX:a,anchorY:s})},k.widthSetter=function(e){v=e},k.heightSetter=function(e){y=e},k.paddingSetter=function(e){d(e)&&e!==D&&(D=e,p())},k.paddingLeftSetter=function(e){d(e)&&e!==A&&(A=e,p())},k.alignSetter=function(e){T={left:0,center:.5,right:1}[e]},k.textSetter=function(e){e!==O&&S.textSetter(e),h(),p()},k["stroke-widthSetter"]=function(e,t){e&&(x=!0),P=e%2/2,f(t,e)},k.strokeSetter=k.fillSetter=k.rSetter=function(e,t){"fill"===t&&e&&(x=!0),f(t,e)},k.anchorXSetter=function(e,t){a=e,f(t,e+P-b)},k.anchorYSetter=function(e,t){s=e,f(t,e-_)},k.xSetter=function(e){k.x=e,T&&(e-=T*((v||g.width)+D)),b=ce(e),k.attr("translateX",b)},k.ySetter=function(e){_=k.y=ce(e),k.attr("translateY",_)};var M=k.css;return e(k,{css:function(e){if(e){var i={},e=t(e);Ye(k.textProps,function(t){e[t]!==O&&(i[t]=e[t],delete e[t])}),S.css(i)}return M.call(k,e)},getBBox:function(){return{width:g.width+2*D,height:g.height+2*D,x:g.x-D,y:g.y-D}},shadow:function(e){return m&&m.shadow(e),k},destroy:function(){Qe(k.element,"mouseenter"),Qe(k.element,"mouseleave"),S&&(S=S.destroy()),m&&(m=m.destroy()),I.prototype.destroy.call(k),k=C=h=p=f=null}})}},N=at,e(I.prototype,{htmlCss:function(t){var i=this.element;return(i=t&&"SPAN"===i.tagName&&t.width)&&(delete t.width,this.textWidth=i,this.updateTransform()),this.styles=e(this.styles,t),f(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||("text"===e.nodeName&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,o=this.translateY||0,r=this.x||0,a=this.y||0,s=this.textAlign||"left",l={left:0,center:.5,right:1}[s],c=this.shadows;if(f(t,{marginLeft:n,marginTop:o}),c&&Ye(c,function(e){f(e,{marginLeft:n+1,marginTop:o+1})}),this.inverted&&Ye(t.childNodes,function(i){e.invertChild(i,t)}),"SPAN"===t.tagName){var u,h=this.rotation,m=i(this.textWidth),g=[h,s,t.innerHTML,this.textWidth].join(",");g!==this.cTT&&(u=e.fontMetrics(t.style.fontSize).b,d(h)&&this.setSpanRotation(h,l,u),c=p(this.elemWidth,t.offsetWidth),c>m&&/[ \-]/.test(t.textContent||t.innerText)&&(f(t,{width:m+"px",display:"block",whiteSpace:"normal"}),c=m),this.getSpanCorrection(c,u,l,h,s)),f(t,{left:r+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),Ce&&(u=t.offsetHeight),this.cTT=g}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,i){var n={},o=we?"-ms-transform":Ce?"-webkit-transform":ke?"MozTransform":_e?"-o-transform":"";n[o]=n.transform="rotate("+e+"deg)",n[o+(ke?"Origin":"-origin")]=n.transformOrigin=100*t+"% "+i+"px",f(this.element,n)},getSpanCorrection:function(e,t,i){this.xCorr=-e*i,this.yCorr=-t}}),e(at.prototype,{html:function(t,i,n){var o=this.createElement("span"),r=o.element,a=o.renderer;return o.textSetter=function(e){e!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=e},o.xSetter=o.ySetter=o.alignSetter=o.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),o[t]=e,o.htmlUpdateTransform()},o.attr({text:t,x:ce(i),y:ce(n)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.css=o.htmlCss,a.isSVG&&(o.add=function(t){var i,n=a.box.parentNode,s=[];if(this.parentGroup=t){if(i=t.div,!i){for(;t;)s.push(t),t=t.parentGroup;Ye(s.reverse(),function(t){var o;i=t.div=t.div||m(Fe,{className:u(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},i||n),o=i.style,e(t,{translateXSetter:function(e,i){o.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){o.top=e+"px",t[i]=e,t.doTransform=!0},visibilitySetter:function(e,t){o[t]=e}})})}}else i=n;return i.appendChild(r),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}});var st;if(!De&&!Pe){st={init:function(e,t){var i=["<",t,' filled="f" stroked="f"'],n=["position: ","absolute",";"],o=t===Fe;("shape"===t||o)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",o?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),t&&(i=o||"span"===t||"img"===t?i.join(""):e.prepVML(i),this.element=m(i)),this.renderer=e},add:function(e){var t=this.renderer,i=this.element,n=t.box,n=e?e.element||e:n;return e&&e.inverted&&t.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:I.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=me(e*ye),i=ge(e*ye);f(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):Oe})},getSpanCorrection:function(e,t,i,n,o){var r,a=n?me(n*ye):1,s=n?ge(n*ye):0,l=p(this.elemHeight,this.element.offsetHeight);this.xCorr=0>a&&-e,this.yCorr=0>s&&-l,r=0>a*s,this.xCorr+=s*t*(r?1-i:i),this.yCorr-=a*t*(n?r?i:1-i:1),o&&"left"!==o&&(this.xCorr-=e*i*(0>a?-1:1),n&&(this.yCorr-=l*i*(0>s?-1:1)),f(this.element,{textAlign:o}))},pathToVML:function(e){for(var t=e.length,i=[];t--;)a(e[t])?i[t]=ce(10*e[t])-5:"Z"===e[t]?i[t]="x":(i[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(i[t+5]===i[t+7]&&(i[t+7]+=e[t+7]>e[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=e[t+8]>e[t+6]?1:-1)));return i.join(" ")||"x"},clip:function(e){var t,i=this;return e?(t=e.members,c(t,i),t.push(i),i.destroyClip=function(){c(t,i)},e=e.getCSS(i)):(i.destroyClip&&i.destroyClip(),e={clip:xe?"inherit":"rect(auto)"}),i.css(e)},css:I.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&D(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),I.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=se.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n,e=e.split(/[ ,]/);return n=e.length,(9===n||11===n)&&(e[n-4]=e[n-2]=i(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var o,r,a,s,l,c,d,u=[],h=this.element,f=this.renderer,g=h.style,v=h.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,e){for(c=p(e.width,3),d=(e.opacity||.15)/c,o=1;3>=o;o++)s=2*c+1-2*o,n&&(l=this.cutOffPath(v.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],r=m(f.prepVML(a),null,{left:i(g.left)+p(e.offsetX,1),top:i(g.top)+p(e.offsetY,1)}),n&&(r.cutOff=s+1),a=['<stroke color="',e.color||"black",'" opacity="',d*o,'"/>'],m(f.prepVML(a),null,null,r),t?t.element.appendChild(r):h.parentNode.insertBefore(r,h),u.push(r);this.shadows=u}return this},updateShadows:Me,setAttr:function(e,t){xe?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,i){(i.getElementsByTagName("stroke")[0]||m(this.renderer.prepVML(["<stroke/>"]),null,null,i))[t]=e||"solid",this[t]=e},dSetter:function(e,t,i){var n=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),i.path=e=this.pathToVML(e),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(e,n[i].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,i){var n=i.nodeName;"SPAN"===n?i.style.color=e:"IMG"!==n&&(i.filled=e!==Oe,this.setAttr("fillcolor",this.renderer.color(e,i,t,this)))},opacitySetter:Me,rotationSetter:function(e,t,i){i=i.style,this[t]=i[t]=e,i.left=-ce(ge(e*ye)+1)+"px",i.top=ce(me(e*ye))+"px"},strokeSetter:function(e,t,i){this.setAttr("strokecolor",this.renderer.color(e,i,t))},"stroke-widthSetter":function(e,t,i){i.stroked=!!e,this[t]=e,a(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,i){"inherit"===e&&(e="visible"),this.shadows&&Ye(this.shadows,function(i){i.style[t]=e}),"DIV"===i.nodeName&&(e="hidden"===e?"-999em":0,xe||(i.style[t]=e?"visible":"hidden"),t="top"),i.style[t]=e},xSetter:function(e,t,i){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):i.style[t]=e},zIndexSetter:function(e,t,i){i.style[t]=e}},re.VMLElement=st=g(I,st),st.prototype.ySetter=st.prototype.widthSetter=st.prototype.heightSetter=st.prototype.xSetter;var lt={Element:st,isIE8:be.indexOf("MSIE 8.0")>-1,init:function(t,i,n,o){var r;if(this.alignedObjects=[],o=this.createElement(Fe).css(e(this.getStyle(o),{position:"relative"})),r=o.element,t.appendChild(o.element),this.isVML=!0,this.box=r,this.boxWrapper=o,this.cache={},this.setSize(i,n,!1),!ae.namespaces.hcv){ae.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{ae.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(a){ae.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,i,n,r){var a=this.createElement(),s=o(t);return e(a,{members:[],left:(s?t.x:t)+1,top:(s?t.y:i)+1,width:(s?t.width:n)-1,height:(s?t.height:r)-1,getCSS:function(t){var i=t.element,n=i.nodeName,t=t.inverted,o=this.top-("shape"===n?i.offsetTop:0),r=this.left,i=r+this.width,a=o+this.height,o={clip:"rect("+ce(t?r:o)+"px,"+ce(t?a:i)+"px,"+ce(t?i:a)+"px,"+ce(t?o:r)+"px)"};return!t&&xe&&"DIV"===n&&e(o,{width:i+"px",height:a+"px"}),o},updateClipping:function(){Ye(a.members,function(e){e.element&&e.css(a.getCSS(e))})}})},color:function(e,t,i,n){var o,r,a,s=this,l=/^rgba/,c=Oe;if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var d,u,h,p,f,g,v,y,b=e.linearGradient||e.radialGradient,_="",e=e.stops,w=[],x=function(){r=['<fill colors="'+w.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',a,'" ',_,'focus="100%" method="any" />'],m(s.prepVML(r),null,null,t)};if(h=e[0],y=e[e.length-1],h[0]>0&&e.unshift([0,h[1]]),y[0]<1&&e.push([1,y[1]]),Ye(e,function(e,t){l.test(e[1])?(o=rt(e[1]),d=o.get("rgb"),u=o.get("a")):(d=e[1],u=1),w.push(100*e[0]+"% "+d),t?(f=u,g=d):(p=u,v=d)}),"fill"===i)if("gradient"===a)i=b.x1||b[0]||0,e=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,_='angle="'+(90-180*le.atan((b-e)/(h-i))/ve)+'"',x();else{var C,c=b.r,k=2*c,S=2*c,T=b.cx,D=b.cy,A=t.radialReference,c=function(){A&&(C=n.getBBox(),T+=(A[0]-C.x)/C.width-.5,D+=(A[1]-C.y)/C.height-.5,k*=A[2]/C.width,S*=A[2]/C.height),_='src="'+H.global.VMLRadialGradientURL+'" size="'+k+","+S+'" origin="0.5,0.5" position="'+T+","+D+'" color2="'+v+'" ',x()};n.added?c():n.onAdd=c,c=g}else c=d}else l.test(e)&&"IMG"!==t.tagName?(o=rt(e),r=["<",i,' opacity="',o.get("a"),'"/>'],m(this.prepVML(r),null,null,t),c=o.get("rgb")):(c=t.getElementsByTagName(i),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:at.prototype.html,path:function(t){var i={coordsize:"10 10"};return r(t)?i.d=t:o(t)&&e(i,t),this.createElement("shape").attr(i)},circle:function(e,t,i){var n=this.symbol("circle");return o(e)&&(i=e.r,t=e.y,e=e.x),n.isCircle=!0,n.r=i,n.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Fe).attr(t)},image:function(e,t,i,n,o){var r=this.createElement("img").attr({src:e});return arguments.length>1&&r.attr({x:t,y:i,width:n,height:o}),r},createElement:function(e){return"rect"===e?this.symbol(e):at.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,o=t.style,r="IMG"===e.tagName&&e.style;f(e,{flip:"x",left:i(o.width)-(r?i(r.top):1),top:i(o.height)-(r?i(r.left):1),rotation:-90}),Ye(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,i,n,o){var r=o.start,a=o.end,s=o.r||i||n,i=o.innerR,n=me(r),l=ge(r),c=me(a),d=ge(a);return a-r===0?["x"]:(r=["wa",e-s,t-s,e+s,t+s,e+s*n,t+s*l,e+s*c,t+s*d],o.open&&!i&&r.push("e","M",e,t),r.push("at",e-i,t-i,e+i,t+i,e+i*c,t+i*d,e+i*n,t+i*l,"x","e"),r.isArc=!0,r)},circle:function(e,t,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(e-=i/2,t-=n/2),["wa",e,t,e+i,t+n,e+i,t+n/2,e+i,t+n/2,"e"]},rect:function(e,t,i,n,o){return at.prototype.symbols[d(o)&&o.r?"callout":"square"].call(0,e,t,i,n,o)}}};re.VMLRenderer=st=function(){this.init.apply(this,arguments)},st.prototype=t(at.prototype,lt),N=st}at.prototype.measureSpanWidth=function(e,t){var i,n=ae.createElement("span");return i=ae.createTextNode(e),n.appendChild(i),f(n,t),this.box.appendChild(n),i=n.offsetWidth,D(n),i};var ct;Pe&&(re.CanVGRenderer=st=function(){Te="http://www.w3.org/1999/xhtml"},st.prototype.symbols={},ct=function(){function e(){var e,i=t.length;for(e=0;i>e;e++)t[e]();t=[]}var t=[];return{push:function(i,n){0===t.length&&qe(n,e),t.push(i)}}}(),N=st),M.prototype={addLabel:function(){var t,i=this.axis,n=i.options,o=i.chart,r=i.horiz,s=i.categories,c=i.names,u=this.pos,h=n.labels,f=h.rotation,m=i.tickPositions,r=r&&s&&!h.step&&!h.staggerLines&&!h.rotation&&o.plotWidth/m.length||!r&&(o.margin[3]||.33*o.chartWidth),g=u===m[0],v=u===m[m.length-1],c=s?p(s[u],c[u],u):u,s=this.label,y=m.info;i.isDatetimeAxis&&y&&(t=n.dateTimeLabelFormats[y.higherRanks[u]||y.unitName]),this.isFirst=g,this.isLast=v,n=i.labelFormatter.call({axis:i,chart:o,isFirst:g,isLast:v,dateTimeLabelFormat:t,value:i.isLog?A(l(c)):c}),u=r&&{width:he(1,ce(r-2*(h.padding||10)))+"px"},u=e(u,h.style),d(s)?s&&s.attr({text:n}).css(u):(t={align:i.labelAlign},a(f)&&(t.rotation=f),r&&h.ellipsis&&(u.HcHeight=i.len/m.length),this.label=s=d(n)&&h.enabled?o.renderer.text(n,0,0,h.useHTML).attr(t).css(u).add(i.labelGroup):null,i.tickBaseline=o.renderer.fontMetrics(h.style.fontSize,s).b,f&&2===i.side&&(i.tickBaseline*=me(f*ye))),this.yOffset=s?p(h.y,i.tickBaseline+(2===i.side?8:-(s.getBBox().height/2))):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,i=t.horiz,n=t.options.labels,e=i?e.width:e.height,t=i?n.x-e*{left:0,center:.5,right:1}[t.labelAlign]:0;return[t,i?e+t:e]},handleOverflow:function(e,t){var i,n,o,r=!0,a=this.axis,s=this.isFirst,l=this.isLast,c=a.horiz?t.x:t.y,d=a.reversed,u=a.tickPositions,h=this.getLabelSides(),p=h[0],h=h[1],f=this.label.line||0;if(i=a.labelEdge,n=a.justifyLabels&&(s||l),i[f]===O||c+p>i[f]?i[f]=c+h:n||(r=!1),n){i=(n=a.justifyToPlot)?a.pos:0,n=n?i+a.len:a.chart.chartWidth;do e+=s?1:-1,o=a.ticks[u[e]];while(u[e]&&(!o||!o.label||o.label.line!==f));a=o&&o.label.xy&&o.label.xy.x+o.getLabelSides()[s?0:1],s&&!d||l&&d?i>c+p&&(c=i-p,o&&c+h>a&&(r=!1)):c+h>n&&(c=n-h,o&&a>c+p&&(r=!1)),t.x=c}return r},getPosition:function(e,t,i,n){var o=this.axis,r=o.chart,a=n&&r.oldChartHeight||r.chartHeight;return{x:e?o.translate(t+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:e?a-o.bottom+o.offset-(o.opposite?o.height:0):a-o.translate(t+i,null,null,n)-o.transB}},getLabelPosition:function(e,t,i,n,o,r,a,s){var l=this.axis,c=l.transA,d=l.reversed,u=l.staggerLines,e=e+o.x-(r&&n?r*c*(d?-1:1):0),t=t+this.yOffset-(r&&!n?r*c*(d?1:-1):0);return u&&(i.line=a/(s||1)%u,t+=i.line*(l.labelOffset/u)),{x:e,y:t}},getMarkPath:function(e,t,i,n,o,r){return r.crispLine(["M",e,t,"L",e+(o?0:-i),t+(o?i:0)],n)},render:function(e,t,i){var n=this.axis,o=n.options,r=n.chart.renderer,a=n.horiz,s=this.type,l=this.label,c=this.pos,d=o.labels,u=this.gridLine,h=s?s+"Grid":"grid",f=s?s+"Tick":"tick",m=o[h+"LineWidth"],g=o[h+"LineColor"],v=o[h+"LineDashStyle"],y=o[f+"Length"],h=o[f+"Width"]||0,b=o[f+"Color"],_=o[f+"Position"],f=this.mark,w=d.step,x=!0,C=n.tickmarkOffset,k=this.getPosition(a,c,C,t),S=k.x,k=k.y,T=a&&S===n.pos+n.len||!a&&k===n.pos?-1:1,i=p(i,1);this.isActive=!0,m&&(c=n.getPlotLinePath(c+C,m*T,t,!0),u===O&&(u={stroke:g,"stroke-width":m},v&&(u.dashstyle=v),s||(u.zIndex=1),t&&(u.opacity=0),this.gridLine=u=m?r.path(c).attr(u).add(n.gridGroup):null),!t&&u&&c&&u[this.isNew?"attr":"animate"]({d:c,opacity:i})),h&&y&&("inside"===_&&(y=-y),n.opposite&&(y=-y),s=this.getMarkPath(S,k,y,h*T,a,r),f?f.animate({d:s,opacity:i}):this.mark=r.path(s).attr({stroke:b,"stroke-width":h,opacity:i}).add(n.axisGroup)),l&&!isNaN(S)&&(l.xy=k=this.getLabelPosition(S,k,l,a,d,C,e,w),this.isFirst&&!this.isLast&&!p(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(o.showLastLabel,1)?x=!1:!n.isRadial&&!d.step&&!d.rotation&&!t&&0!==i&&(x=this.handleOverflow(e,k)),w&&e%w&&(x=!1),x&&!isNaN(k.y)?(k.opacity=i,l[this.isNew?"attr":"animate"](k),this.isNew=!1):l.attr("y",-9999))},destroy:function(){T(this,this.axis)}},re.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},re.PlotLineOrBand.prototype={render:function(){var e,i=this,n=i.axis,o=n.horiz,r=(n.pointRange||0)/2,a=i.options,l=a.label,c=i.label,u=a.width,h=a.to,p=a.from,f=d(p)&&d(h),m=a.value,g=a.dashStyle,v=i.svgElem,y=[],b=a.color,_=a.zIndex,w=a.events,x={},C=n.chart.renderer;if(n.isLog&&(p=s(p),h=s(h),m=s(m)),u)y=n.getPlotLinePath(m,u),x={stroke:b,"stroke-width":u},g&&(x.dashstyle=g);else{if(!f)return;p=he(p,n.min-r),h=pe(h,n.max+r),y=n.getPlotBandPath(p,h,a),b&&(x.fill=b),a.borderWidth&&(x.stroke=a.borderColor,x["stroke-width"]=a.borderWidth)}if(d(_)&&(x.zIndex=_),v)y?v.animate({d:y},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()},c&&(i.label=c=c.destroy()));else if(y&&y.length&&(i.svgElem=v=C.path(y).attr(x).add(),w))for(e in r=function(e){v.on(e,function(t){w[e].apply(i,[t])})},w)r(e);return l&&d(l.text)&&y&&y.length&&n.width>0&&n.height>0?(l=t({align:o&&f&&"center",x:o?!f&&4:10,verticalAlign:!o&&f&&"middle",y:o?f?16:10:f?6:-4,rotation:o&&!f&&90},l),c||(x={align:l.textAlign||l.align,rotation:l.rotation},d(_)&&(x.zIndex=_),i.label=c=C.text(l.text,0,0,l.useHTML).attr(x).css(l.style).add()),n=[y[1],y[4],f?y[6]:y[1]],f=[y[2],y[5],f?y[7]:y[2]],y=k(n),o=k(f),c.align(l,!1,{x:y,y:o,width:S(n)-y,height:S(f)-o}),c.show()):c&&c.hide(),i},destroy:function(){c(this.axis.plotLinesAndBands,this),delete this.axis,T(this)}},L.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:ze,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:ze.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(e,t){var i=t.isX;this.horiz=e.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var n=this.options,o=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=n.reversed,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===o,this.names=[],this.isLog="logarithmic"===o,this.isDatetimeAxis="datetime"===o,this.isLinked=d(n.linkedTo),this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement?.5:0,this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=p(n.crosshair,h(e.options.tooltip.crosshairs)[i?0:1],!1);var r,n=this.options.events;-1===We(this,e.axes)&&(i&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&i&&this.reversed===O&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(r in n)Xe(this,r,n[r]);this.isLog&&(this.val2lin=s,this.lin2val=l)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(H[this.coll],e))},defaultLabelFormatter:function(){var e,t=this.axis,i=this.value,n=t.categories,o=this.dateTimeLabelFormat,r=H.lang.numericSymbols,a=r&&r.length,s=t.options.labels.format,t=t.isLog?i:t.tickInterval;if(s)e=_(s,this);else if(n)e=i;else if(o)e=z(o,i);else if(a&&t>=1e3)for(;a--&&e===O;)n=Math.pow(1e3,a+1),t>=n&&null!==r[a]&&(e=v(i/n,-1)+r[a]);return e===O&&(e=fe(i)>=1e4?v(i,0):v(i,-1,O,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,e.buildStacks&&e.buildStacks(),
Ye(e.series,function(i){if(i.visible||!t.options.chart.ignoreHiddenSeries){var n;n=i.options.threshold;var o;e.hasVisibleSeries=!0,e.isLog&&0>=n&&(n=null),e.isXAxis?(n=i.xData,n.length&&(e.dataMin=pe(p(e.dataMin,n[0]),k(n)),e.dataMax=he(p(e.dataMax,n[0]),S(n)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,d(i)&&d(o)&&(e.dataMin=pe(p(e.dataMin,i),i),e.dataMax=he(p(e.dataMax,o),o)),d(n)&&(e.dataMin>=n?(e.dataMin=n,e.ignoreMinPadding=!0):e.dataMax<n&&(e.dataMax=n,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,i,n,o,r){var s=1,l=0,c=n?this.oldTransA:this.transA,n=n?this.oldMin:this.min,d=this.minPixelPadding,o=(this.options.ordinal||this.isLog&&o)&&this.lin2val;return c||(c=this.transA),i&&(s*=-1,l=this.len),this.reversed&&(s*=-1,l-=s*(this.sector||this.len)),t?(e=e*s+l,e-=d,e=e/c+n,o&&(e=this.lin2val(e))):(o&&(e=this.val2lin(e)),"between"===r&&(r=.5),e=s*(e-n)*c+l+s*d+(a(r)?c*r*this.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,i,n,o){var r,a,s,l=this.chart,c=this.left,d=this.top,u=i&&l.oldChartHeight||l.chartHeight,h=i&&l.oldChartWidth||l.chartWidth;return r=this.transB,o=p(o,this.translate(e,null,null,i)),e=i=ce(o+r),r=a=ce(u-o-r),isNaN(o)?s=!0:this.horiz?(r=d,a=u-this.bottom,(c>e||e>c+this.width)&&(s=!0)):(e=c,i=h-this.right,(d>r||r>d+this.height)&&(s=!0)),s&&!n?null:l.renderer.crispLine(["M",e,r,"L",i,a],t||1)},getLinearTickPositions:function(e,t,i){var n,o=A(de(t/e)*e),r=A(ue(i/e)*e),s=[];if(t===i&&a(t))return[t];for(t=o;r>=t&&(s.push(t),t=A(t+e),t!==n);)n=t;return s},getMinorTickPositions:function(){var e,t=this.options,i=this.tickPositions,n=this.minorTickInterval,o=[];if(this.isLog)for(e=i.length,t=1;e>t;t++)o=o.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)o=o.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),this.min,this.max,t.startOfWeek)),o[0]<this.min&&o.shift();else for(i=this.min+(i[0]-this.min)%n;i<=this.max;i+=n)o.push(i);return o},adjustForMinRange:function(){var e,t,i,n,o,r,a=this.options,s=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===O&&!this.isLog&&(d(a.min)||d(a.max)?this.minRange=null:(Ye(this.series,function(e){for(o=e.xData,i=r=e.xIncrement?1:o.length-1;i>0;i--)n=o[i]-o[i-1],(t===O||t>n)&&(t=n)}),this.minRange=pe(5*t,this.dataMax-this.dataMin))),l-s<this.minRange){var u=this.minRange;e=(u-l+s)/2,e=[s-e,p(a.min,s-e)],c&&(e[2]=this.dataMin),s=S(e),l=[s+u,p(a.max,s+u)],c&&(l[2]=this.dataMax),l=k(l),u>l-s&&(e[0]=l-u,e[1]=p(a.min,l-u),s=S(e))}this.min=s,this.max=l},setAxisTranslation:function(e){var t,i=this,o=i.max-i.min,r=i.axisPointRange||0,a=0,s=0,l=i.linkedParent,c=!!i.categories,u=i.transA;(i.isXAxis||c||r)&&(l?(a=l.minPointOffset,s=l.pointRangePadding):Ye(i.series,function(e){var l=c?1:i.isXAxis?e.pointRange:i.axisPointRange||0,u=e.options.pointPlacement,h=e.closestPointRange;l>o&&(l=0),r=he(r,l),a=he(a,n(u)?0:l/2),s=he(s,"on"===u?0:l),!e.noSharedTooltip&&d(h)&&(t=d(t)?pe(t,h):h)}),l=i.ordinalSlope&&t?i.ordinalSlope/t:1,i.minPointOffset=a*=l,i.pointRangePadding=s*=l,i.pointRange=pe(r,o),i.closestPointRange=t),e&&(i.oldTransA=u),i.translationSlope=i.transA=u=i.len/(o+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=u*a},setTickPositions:function(e){var t,i=this,n=i.chart,o=i.options,r=o.startOnTick,l=o.endOnTick,c=i.isLog,u=i.isDatetimeAxis,h=i.isXAxis,f=i.isLinked,m=i.options.tickPositioner,g=o.maxPadding,v=o.minPadding,y=o.tickInterval,b=o.minTickInterval,_=o.tickPixelInterval,C=i.categories;f?(i.linkedParent=n[i.coll][o.linkedTo],n=i.linkedParent.getExtremes(),i.min=p(n.min,n.dataMin),i.max=p(n.max,n.dataMax),o.type!==i.linkedParent.options.type&&Y(11,1)):(i.min=p(i.userMin,o.min,i.dataMin),i.max=p(i.userMax,o.max,i.dataMax)),c&&(!e&&pe(i.min,p(i.dataMin,i.min))<=0&&Y(10,1),i.min=A(s(i.min)),i.max=A(s(i.max))),i.range&&d(i.max)&&(i.userMin=i.min=he(i.min,i.max-i.range),i.userMax=i.max,i.range=null),i.beforePadding&&i.beforePadding(),i.adjustForMinRange(),C||i.axisPointRange||i.usePercentage||f||!d(i.min)||!d(i.max)||!(n=i.max-i.min)||(d(o.min)||d(i.userMin)||!v||!(i.dataMin<0)&&i.ignoreMinPadding||(i.min-=n*v),d(o.max)||d(i.userMax)||!g||!(i.dataMax>0)&&i.ignoreMaxPadding||(i.max+=n*g)),a(o.floor)&&(i.min=he(i.min,o.floor)),a(o.ceiling)&&(i.max=pe(i.max,o.ceiling)),i.min===i.max||void 0===i.min||void 0===i.max?i.tickInterval=1:f&&!y&&_===i.linkedParent.options.tickPixelInterval?i.tickInterval=i.linkedParent.tickInterval:(i.tickInterval=p(y,C?1:(i.max-i.min)*_/he(i.len,_)),!d(y)&&i.len<_&&!this.isRadial&&!this.isLog&&!C&&r&&l&&(t=!0,i.tickInterval/=4)),h&&!e&&Ye(i.series,function(e){e.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i.setAxisTranslation(!0),i.beforeSetTickPositions&&i.beforeSetTickPositions(),i.postProcessTickInterval&&(i.tickInterval=i.postProcessTickInterval(i.tickInterval)),i.pointRange&&(i.tickInterval=he(i.pointRange,i.tickInterval)),!y&&i.tickInterval<b&&(i.tickInterval=b),u||c||y||(i.tickInterval=x(i.tickInterval,null,w(i.tickInterval),o)),i.minorTickInterval="auto"===o.minorTickInterval&&i.tickInterval?i.tickInterval/5:o.minorTickInterval,i.tickPositions=e=o.tickPositions?[].concat(o.tickPositions):m&&m.apply(i,[i.min,i.max]),e||(!i.ordinalPositions&&(i.max-i.min)/i.tickInterval>he(2*i.len,200)&&Y(19,!0),e=u?i.getTimeTicks(i.normalizeTimeTickInterval(i.tickInterval,o.units),i.min,i.max,o.startOfWeek,i.ordinalPositions,i.closestPointRange,!0):c?i.getLogTickPositions(i.tickInterval,i.min,i.max):i.getLinearTickPositions(i.tickInterval,i.min,i.max),t&&e.splice(1,e.length-2),i.tickPositions=e),f||(o=e[0],c=e[e.length-1],u=i.minPointOffset||0,!r&&!l&&!C&&2===e.length&&e.splice(1,0,(c+o)/2),r?i.min=o:i.min-u>o&&e.shift(),l?i.max=c:i.max+u<c&&e.pop(),1===e.length&&(r=fe(i.max)>1e13?1:.001,i.min-=r,i.max+=r))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(t[n]||0)&&this.options.alignTicks!==!1&&(t[n]=i.length),e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,i=this.chart.maxTicks;if(i&&i[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==O){var n=this.tickAmount,o=t.length;if(this.tickAmount=e=i[e],e>o){for(;t.length<e;)t.push(A(t[t.length-1]+this.tickInterval));this.transA*=(o-1)/(e-1),this.max=t[t.length-1]}d(n)&&e!==n&&(this.isDirty=!0)}},setScale:function(){var e,t,i,n,o=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,Ye(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in o)for(t in o[e])o[e][t].total=null,o[e][t].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(o=this.stacks=this.oldStacks);for(e in o)for(t in o[e])o[e][t].cum=o[e][t].total}this.setMaxTicks()},setExtremes:function(t,i,n,o,r){var a=this,s=a.chart,n=p(n,!0),r=e(r,{min:t,max:i});Ke(a,"setExtremes",r,function(){a.userMin=t,a.userMax=i,a.eventArgs=r,a.isDirtyExtremes=!0,n&&s.redraw(o)})},zoom:function(e,t){var i=this.dataMin,n=this.dataMax,o=this.options;return this.allowZoomOutside||(d(i)&&e<=pe(i,p(o.min,i))&&(e=O),d(n)&&t>=he(n,p(o.max,n))&&(t=O)),this.displayBtn=e!==O||t!==O,this.setExtremes(e,t,!1,O,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,i=t.offsetLeft||0,n=this.horiz,o=p(t.width,e.plotWidth-i+(t.offsetRight||0)),r=p(t.height,e.plotHeight),a=p(t.top,e.plotTop),t=p(t.left,e.plotLeft+i),i=/%$/;i.test(r)&&(r=parseInt(r,10)/100*e.plotHeight),i.test(a)&&(a=parseInt(a,10)/100*e.plotHeight+e.plotTop),this.left=t,this.top=a,this.width=o,this.height=r,this.bottom=e.chartHeight-r-a,this.right=e.chartWidth-o-t,this.len=he(n?o:r,0),this.pos=n?t:a},getExtremes:function(){var e=this.isLog;return{min:e?A(l(this.min)):this.min,max:e?A(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,i=t?l(this.min):this.min,t=t?l(this.max):this.max;return i>e||null===e?e=i:e>t&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(p(e,0)-90*this.side+720)%360,e>15&&165>e?"right":e>195&&345>e?"left":"center"},getOffset:function(){var e,t,i,n,o,r,a,s,l,c=this,u=c.chart,h=u.renderer,f=c.options,m=c.tickPositions,g=c.ticks,v=c.horiz,y=c.side,b=u.inverted?[1,0,3,2][y]:y,_=0,w=0,x=f.title,C=f.labels,k=0,S=u.axisOffset,u=u.clipOffset,T=[-1,1,1,-1][y],D=1,A=p(C.maxStaggerLines,5);if(c.hasData=e=c.hasVisibleSeries||d(c.min)&&d(c.max)&&!!m,c.showAxis=t=e||p(f.showEmpty,!0),c.staggerLines=c.horiz&&C.staggerLines,c.axisGroup||(c.gridGroup=h.g("grid").attr({zIndex:f.gridZIndex||1}).add(),c.axisGroup=h.g("axis").attr({zIndex:f.zIndex||2}).add(),c.labelGroup=h.g("axis-labels").attr({zIndex:C.zIndex||7}).addClass("highcharts-"+c.coll.toLowerCase()+"-labels").add()),e||c.isLinked){if(c.labelAlign=p(C.align||c.autoLabelAlign(C.rotation)),Ye(m,function(e){g[e]?g[e].addLabel():g[e]=new M(c,e)}),c.horiz&&!c.staggerLines&&A&&!C.rotation){for(e=c.reversed?[].concat(m).reverse():m;A>D;){for(o=[],r=!1,n=0;n<e.length;n++)a=e[n],s=(s=g[a].label&&g[a].label.getBBox())?s.width:0,l=n%D,s&&(a=c.translate(a),o[l]!==O&&a<o[l]&&(r=!0),o[l]=a+s);if(!r)break;D++}D>1&&(c.staggerLines=D)}Ye(m,function(e){(0===y||2===y||{1:"left",3:"right"}[y]===c.labelAlign)&&(k=he(g[e].getLabelSize(),k))}),c.staggerLines&&(k*=c.staggerLines,c.labelOffset=k)}else for(n in g)g[n].destroy(),delete g[n];x&&x.text&&x.enabled!==!1&&(c.axisTitle||(c.axisTitle=h.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(x.style).add(c.axisGroup),c.axisTitle.isNew=!0),t&&(_=c.axisTitle.getBBox()[v?"height":"width"],i=x.offset,w=d(i)?0:p(x.margin,v?5:10)),c.axisTitle[t?"show":"hide"]()),c.offset=T*p(f.offset,S[y]),h=2===y?c.tickBaseline:0,v=k+w+(k&&T*(v?p(C.y,c.tickBaseline+8):C.x)-h),c.axisTitleMargin=p(i,v),S[y]=he(S[y],c.axisTitleMargin+_+T*c.offset,v),u[b]=he(u[b],2*de(f.lineWidth/2))},getLinePath:function(e){var t=this.chart,i=this.opposite,n=this.offset,o=this.horiz,r=this.left+(i?this.width:0)+n,n=t.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(e*=-1),t.renderer.crispLine(["M",o?this.left:r,o?n:this.top,"L",o?t.chartWidth-this.right:r,o?n:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,o=this.len,r=this.options.title,a=e?t:n,s=this.opposite,l=this.offset,c=i(r.style.fontSize||12),o={low:a+(e?0:o),middle:a+o/2,high:a+(e?o:0)}[r.align],t=(e?n+this.height:t)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:e?o:t+(s?this.width:0)+l+(r.x||0),y:e?t-(s?this.height:0)+l:o+(r.y||0)}},render:function(){var e,t,i,n=this,o=n.horiz,r=n.reversed,a=n.chart,s=a.renderer,c=n.options,u=n.isLog,h=n.isLinked,p=n.tickPositions,f=n.axisTitle,m=n.ticks,g=n.minorTicks,v=n.alternateBands,y=c.stackLabels,b=c.alternateGridColor,_=n.tickmarkOffset,w=c.lineWidth,x=a.hasRendered&&d(n.oldMin)&&!isNaN(n.oldMin),C=n.hasData,k=n.showAxis,S=c.labels.overflow,T=n.justifyLabels=o&&S!==!1;n.labelEdge.length=0,n.justifyToPlot="justify"===S,Ye([m,g,v],function(e){for(var t in e)e[t].isActive=!1}),(C||h)&&(n.minorTickInterval&&!n.categories&&Ye(n.getMinorTickPositions(),function(e){g[e]||(g[e]=new M(n,e,"minor")),x&&g[e].isNew&&g[e].render(null,!0),g[e].render(null,!1,1)}),p.length&&(e=p.slice(),(o&&r||!o&&!r)&&e.reverse(),T&&(e=e.slice(1).concat([e[0]])),Ye(e,function(t,i){T&&(i=i===e.length-1?0:i+1),(!h||t>=n.min&&t<=n.max)&&(m[t]||(m[t]=new M(n,t)),x&&m[t].isNew&&m[t].render(i,!0,.1),m[t].render(i))}),_&&0===n.min&&(m[-1]||(m[-1]=new M(n,-1,null,!0)),m[-1].render(-1))),b&&Ye(p,function(e,o){o%2===0&&e<n.max&&(v[e]||(v[e]=new re.PlotLineOrBand(n)),t=e+_,i=p[o+1]!==O?p[o+1]+_:n.max,v[e].options={from:u?l(t):t,to:u?l(i):i,color:b},v[e].render(),v[e].isActive=!0)}),n._addedPlotLB||(Ye((c.plotLines||[]).concat(c.plotBands||[]),function(e){n.addPlotBandOrLine(e)}),n._addedPlotLB=!0)),Ye([m,g,v],function(e){var t,i,n=[],o=B?B.duration||500:0,r=function(){for(i=n.length;i--;)e[n[i]]&&!e[n[i]].isActive&&(e[n[i]].destroy(),delete e[n[i]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,n.push(t));e!==v&&a.hasRendered&&o?o&&setTimeout(r,o):r()}),w&&(o=n.getLinePath(w),n.axisLine?n.axisLine.animate({d:o}):n.axisLine=s.path(o).attr({stroke:c.lineColor,"stroke-width":w,zIndex:7}).add(n.axisGroup),n.axisLine[k?"show":"hide"]()),f&&k&&(f[f.isNew?"attr":"animate"](n.getTitlePosition()),f.isNew=!1),y&&y.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.render(),Ye(this.plotLinesAndBands,function(e){e.render()}),Ye(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,i=this,n=i.stacks,o=i.plotLinesAndBands;e||Qe(i);for(t in n)T(n[t]),n[t]=null;for(Ye([i.ticks,i.minorTicks,i.alternateBands],function(e){T(e)}),e=o.length;e--;)o[e].destroy();Ye("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){i[e]&&(i[e]=i[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){if(this.crosshair)if((d(t)||!p(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var i,n=this.crosshair,o=n.animation;p(n.snap,!0)?d(t)&&(i=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY):i=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:p(t.stackY,t.y)):this.getPlotLinePath(null,null,null,null,i),null===i?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[o?"animate":"attr"]({d:i},o):(o={"stroke-width":n.width||1,stroke:n.color||"#C0C0C0",zIndex:n.zIndex||2},n.dashStyle&&(o.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(o).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},e(L.prototype,{getPlotBandPath:function(e,t){var i=this.getPlotLinePath(t),n=this.getPlotLinePath(e);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var i=new re.PlotLineOrBand(this,e).render(),n=this.userOptions;return i&&(t&&(n[t]=n[t]||[],n[t].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=t.length;o--;)t[o].id===e&&t[o].destroy();Ye([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(t){for(o=t.length;o--;)t[o].id===e&&c(t,t[o])})}}),L.prototype.getTimeTicks=function(t,i,n,o){var r,a=[],s={},l=H.global.useUTC,c=new Date(i-V),u=t.unitRange,h=t.count;if(d(i)){u>=W.second&&(c.setMilliseconds(0),c.setSeconds(u>=W.minute?0:h*de(c.getSeconds()/h))),u>=W.minute&&c[ee](u>=W.hour?0:h*de(c[G]()/h)),u>=W.hour&&c[te](u>=W.day?0:h*de(c[X]()/h)),u>=W.day&&c[ie](u>=W.month?1:h*de(c[K]()/h)),u>=W.month&&(c[ne](u>=W.year?0:h*de(c[J]()/h)),r=c[Z]()),u>=W.year&&(r-=r%h,c[oe](r)),u===W.week&&c[ie](c[K]()-c[Q]()+p(o,1)),i=1,V&&(c=new Date(c.getTime()+V)),r=c[Z]();for(var o=c.getTime(),f=c[J](),m=c[K](),g=l?V:(864e5+6e4*c.getTimezoneOffset())%864e5;n>o;)a.push(o),u===W.year?o=U(r+i*h,0):u===W.month?o=U(r,f+i*h):l||u!==W.day&&u!==W.week?o+=u*h:o=U(r,f,m+i*h*(u===W.day?1:7)),i++;a.push(o),Ye(Ue(a,function(e){return u<=W.hour&&e%W.day===g}),function(e){s[e]="day"})}return a.info=e(t,{higherRanks:s,totalRange:u*h}),a},L.prototype.normalizeTimeTickInterval=function(e,t){var i,n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=n[n.length-1],r=W[o[0]],a=o[1];for(i=0;i<n.length&&(o=n[i],r=W[o[0]],a=o[1],!(n[i+1]&&e<=(r*a[a.length-1]+W[n[i+1][0]])/2));i++);return r===W.year&&5*r>e&&(a=[1,2,5]),n=x(e/r,a,"year"===o[0]?he(w(e/r),1):1),{unitRange:r,count:n,unitName:o[0]}},L.prototype.getLogTickPositions=function(e,t,i,n){var o=this.options,r=this.len,a=[];if(n||(this._minorAutoInterval=null),e>=.5)e=ce(e),a=this.getLinearTickPositions(e,t,i);else if(e>=.08)for(var c,d,u,h,f,r=de(t),o=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];i+1>r&&!f;r++)for(d=o.length,c=0;d>c&&!f;c++)u=s(l(r)*o[c]),u>t&&(!n||i>=h)&&h!==O&&a.push(h),h>i&&(f=!0),h=u;else t=l(t),i=l(i),e=o[n?"minorTickInterval":"tickInterval"],e=p("auto"===e?null:e,this._minorAutoInterval,(i-t)*(o.tickPixelInterval/(n?5:1))/((n?r/this.tickPositions.length:r)||1)),e=x(e,null,w(e)),a=Ge(this.getLinearTickPositions(e,t,i),s),n||(this._minorAutoInterval=e/5);return n||(this.tickInterval=e),a};var dt=re.Tooltip=function(){this.init.apply(this,arguments)};dt.prototype={init:function(e,t){var n=t.borderWidth,o=t.style,r=i(o.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:r,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-9999}),Pe||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,i,n,o){var r=this,a=r.now,s=r.options.animation!==!1&&!r.isHidden&&(fe(t-a.x)>1||fe(i-a.y)>1),l=r.followPointer||r.len>1;e(a,{x:s?(2*a.x+t)/3:t,y:s?(a.y+i)/2:i,anchorX:l?O:s?(2*a.anchorX+n)/3:n,anchorY:l?O:s?(a.anchorY+o)/2:o}),r.label.attr(a),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,i,n,o)},32))},hide:function(){var e,t=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},p(this.options.hideDelay,500)),e&&Ye(e,function(e){e.setState()}),this.chart.hoverPoints=null)},getAnchor:function(e,t){var i,n,o=this.chart,r=o.inverted,a=o.plotTop,s=0,l=0,e=h(e);return i=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===O&&(t=o.pointer.normalize(t)),i=[t.chartX-o.plotLeft,t.chartY-a]),i||(Ye(e,function(e){n=e.series.yAxis,s+=e.plotX,l+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!r&&n?n.top-a:0)}),s/=e.length,l/=e.length,i=[r?o.plotWidth-l:s,this.shared&&!r&&e.length>1&&t?t.chartY-a:r?o.plotHeight-s:l]),Ge(i,ce)},getPosition:function(e,t,i){var n,o=this.chart,r=this.distance,a={},s=["y",o.chartHeight,t,i.plotY+o.plotTop],l=["x",o.chartWidth,e,i.plotX+o.plotLeft],c=i.ttBelow||o.inverted&&!i.negative||!o.inverted&&i.negative,d=function(e,t,i,n){var o=n-r>i,t=t>n+r+i,i=n-r-i;if(n+=r,c&&t)a[e]=n;else if(!c&&o)a[e]=i;else if(o)a[e]=i;else{if(!t)return!1;a[e]=n}},u=function(e,t,i,n){return r>n||n>t-r?!1:void(a[e]=i/2>n?1:n>t-i/2?t-i-2:n-i/2)},h=function(e){var t=s;s=l,l=t,n=e},p=function(){d.apply(0,s)!==!1?u.apply(0,l)===!1&&!n&&(h(!0),p()):n?a.x=a.y=0:(h(!0),p())};return(o.inverted||this.len>1)&&h(),p(),a},defaultFormatter:function(e){var t,i=this.points||h(this),n=i[0].series;return t=[e.tooltipHeaderFormatter(i[0])],Ye(i,function(e){n=e.series,t.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),t.push(e.options.footerFormat||""),t.join("")},refresh:function(e,t){var i,n,o,r=this.chart,a=this.label,s=this.options,l={},c=[];o=s.formatter||this.defaultFormatter;var d,l=r.hoverPoints,u=this.shared;clearTimeout(this.hideTimer),this.followPointer=h(e)[0].series.tooltipOptions.followPointer,n=this.getAnchor(e,t),i=n[0],n=n[1],!u||e.series&&e.series.noSharedTooltip?l=e.getLabelConfig():(r.hoverPoints=e,l&&Ye(l,function(e){e.setState()}),Ye(e,function(e){e.setState("hover"),c.push(e.getLabelConfig())}),l={x:e[0].category,y:e[0].y},l.points=c,this.len=c.length,e=e[0]),o=o.call(l,this),l=e.series,this.distance=p(l.tooltipOptions.distance,16),o===!1?this.hide():(this.isHidden&&(et(a),a.attr("opacity",1).show()),a.attr({text:o}),d=s.borderColor||e.color||l.color||"#606060",a.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n,negative:e.negative,ttBelow:e.ttBelow}),this.isHidden=!1),Ke(r,"tooltipRefresh",{text:o,x:i+r.plotLeft,y:n+r.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e);this.move(ce(i.x),ce(i.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},tooltipHeaderFormatter:function(e){var t,i=e.series,n=i.tooltipOptions,o=n.dateTimeLabelFormats,r=n.xDateFormat,s=i.xAxis,l=s&&"datetime"===s.options.type&&a(e.key),n=n.headerFormat,s=s&&s.closestPointRange;if(l&&!r){if(s){for(t in W)if(W[t]>=s||W[t]<=W.day&&e.key%W[t]>0){r=o[t];break}}else r=o.day;r=r||o.year}return l&&r&&(n=n.replace("{point.key}","{point.key:"+r+"}")),_(n,{point:e,series:i})}};var ut;R=ae.documentElement.ontouchstart!==O;var ht=re.Pointer=function(e,t){this.init(e,t)};if(ht.prototype={init:function(e,t){var i,n=t.chart,o=n.events,r=Pe?"":n.zoomType,n=e.inverted;this.options=t,this.chart=e,this.zoomX=i=/x/.test(r),this.zoomY=r=/y/.test(r),this.zoomHor=i&&!n||r&&n,this.zoomVert=r&&!n||i&&n,this.hasZoom=i||r,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},re.Tooltip&&t.tooltip.enabled&&(e.tooltip=new dt(e,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(t,i){var n,o,t=t||window.event,t=Je(t);return t.target||(t.target=t.srcElement),o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,i||(this.chartPosition=i=Ve(this.chart.container)),o.pageX===O?(n=he(t.x,t.clientX-i.left),o=t.y):(n=o.pageX-i.left,o=o.pageY-i.top),e(t,{chartX:ce(n),chartY:ce(o)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Ye(this.chart.axes,function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(e[i.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t,i,n,o,r=this.chart,a=r.series,s=r.tooltip,l=r.hoverPoint,c=r.hoverSeries,d=r.chartWidth,u=this.getIndex(e);if(s&&this.options.tooltip.shared&&(!c||!c.noSharedTooltip)){for(i=[],n=a.length,o=0;n>o;o++)a[o].visible&&a[o].options.enableMouseTracking!==!1&&!a[o].noSharedTooltip&&a[o].singularTooltips!==!0&&a[o].tooltipPoints.length&&(t=a[o].tooltipPoints[u])&&t.series&&(t._dist=fe(u-t.clientX),d=pe(d,t._dist),i.push(t));for(n=i.length;n--;)i[n]._dist>d&&i.splice(n,1);i.length&&i[0].clientX!==this.hoverX&&(s.refresh(i,e),this.hoverX=i[0].clientX)}a=c&&c.tooltipOptions.followPointer,c&&c.tracker&&!a?(t=c.tooltipPoints[u])&&t!==l&&t.onMouseOver(e):s&&a&&!s.isHidden&&(c=s.getAnchor([{}],e),s.updatePosition({plotX:c[0],plotY:c[1]})),s&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){Le[ut]&&Le[ut].pointer.onDocumentMouseMove(e)},Xe(ae,"mousemove",this._onDocumentMouseMove)),Ye(r.axes,function(i){i.drawCrosshair(e,p(t,l))})},reset:function(e){var t=this.chart,i=t.hoverSeries,n=t.hoverPoint,o=t.tooltip,r=o&&o.shared?t.hoverPoints:n;(e=e&&o&&r)&&h(r)[0].plotX===O&&(e=!1),e?(o.refresh(r),n&&n.setState(n.state,!0)):(n&&n.onMouseOut(),i&&i.onMouseOut(),o&&o.hide(),this._onDocumentMouseMove&&(Qe(ae,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ye(t.axes,function(e){e.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(e,t){var i,n=this.chart;Ye(n.series,function(o){i=e||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(t?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,i=this.chart,n=i.options.chart,o=e.chartX,r=e.chartY,a=this.zoomHor,s=this.zoomVert,l=i.plotLeft,c=i.plotTop,d=i.plotWidth,u=i.plotHeight,h=this.mouseDownX,p=this.mouseDownY,f=n.panKey&&e[n.panKey+"Key"];l>o?o=l:o>l+d&&(o=l+d),c>r?r=c:r>c+u&&(r=c+u),this.hasDragged=Math.sqrt(Math.pow(h-o,2)+Math.pow(p-r,2)),this.hasDragged>10&&(t=i.isInsidePlot(h-l,p-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!f&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,c,a?1:d,s?1:u,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&a&&(o-=h,this.selectionMarker.attr({width:fe(o),x:(o>0?0:o)+h})),this.selectionMarker&&s&&(o=r-p,this.selectionMarker.attr({height:fe(o),y:(o>0?0:o)+p})),t&&!this.selectionMarker&&n.panning&&i.pan(e,n.panning))},drop:function(t){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,r={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,l=a.attr?a.attr("y"):a.y,c=a.attr?a.attr("width"):a.width,d=a.attr?a.attr("height"):a.height;(this.hasDragged||n)&&(Ye(i.axes,function(e){if(e.zoomEnabled){var i=e.horiz,n="touchend"===t.type?e.minPixelPadding:0,a=e.toValue((i?s:l)+n),i=e.toValue((i?s+c:l+d)-n);!isNaN(a)&&!isNaN(i)&&(r[e.coll].push({axis:e,min:pe(a,i),max:he(a,i)}),o=!0)}}),o&&Ke(i,"selection",r,function(t){i.zoom(e(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Le[ut]&&Le[ut].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition,n=t.hoverSeries,e=this.normalize(e,i);i&&n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=Le[ut];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;ut=t.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var i;e;){if(i=u(e,"class")){if(-1!==i.indexOf(t))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,i=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;!t||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||i===t||t.onMouseOut()},onContainerClick:function(t){var i=this.chart,n=i.hoverPoint,o=i.plotLeft,r=i.plotTop,t=this.normalize(t);t.cancelBubble=!0,i.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(Ke(n.series,"click",e(t,{point:n})),i.hoverPoint&&n.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),i.isInsidePlot(t.chartX-o,t.chartY-r)&&Ke(i,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Xe(t,"mouseleave",e.onContainerMouseLeave),1===$e&&Xe(ae,"mouseup",e.onDocumentMouseUp),R&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===$e&&Xe(ae,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Qe(this.chart.container,"mouseleave",this.onContainerMouseLeave),$e||(Qe(ae,"mouseup",this.onDocumentMouseUp),Qe(ae,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},e(re.Pointer.prototype,{pinchTranslate:function(e,t,i,n,o,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,i,n,o,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,i,n,o,r)},pinchTranslateDirection:function(e,t,i,n,o,r,a,s){var l,c,d,u=this.chart,h=e?"x":"y",p=e?"X":"Y",f="chart"+p,m=e?"width":"height",g=u["plot"+(e?"Left":"Top")],v=s||1,y=u.inverted,b=u.bounds[e?"h":"v"],_=1===t.length,w=t[0][f],x=i[0][f],C=!_&&t[1][f],k=!_&&i[1][f],i=function(){!_&&fe(w-C)>20&&(v=s||fe(x-k)/fe(w-C)),c=(g-x)/v+w,l=u["plot"+(e?"Width":"Height")]/v};i(),t=c,t<b.min?(t=b.min,d=!0):t+l>b.max&&(t=b.max-l,d=!0),d?(x-=.8*(x-a[h][0]),_||(k-=.8*(k-a[h][1])),i()):a[h]=[x,k],y||(r[h]=c-g,r[m]=l),r=y?1/v:v,o[m]=l,o[h]=t,n[y?e?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=r*g+(x-r*w)},pinch:function(t){var i=this,n=i.chart,o=i.pinchDown,r=i.followTouchMove,a=t.touches,s=a.length,l=i.lastValidTouch,c=i.hasZoom,d=i.selectionMarker,u={},h=1===s&&(i.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||n.runChartClick),f={};(c||r)&&!h&&t.preventDefault(),Ge(a,function(e){return i.normalize(e)}),"touchstart"===t.type?(Ye(a,function(e,t){o[t]={chartX:e.chartX,chartY:e.chartY}}),l.x=[o[0].chartX,o[1]&&o[1].chartX],l.y=[o[0].chartY,o[1]&&o[1].chartY],Ye(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],i=e.minPixelPadding,o=e.toPixels(p(e.options.min,e.dataMin)),r=e.toPixels(p(e.options.max,e.dataMax)),a=pe(o,r),o=he(o,r);t.min=pe(e.pos,a-i),t.max=he(e.pos+e.len,o+i)}})):o.length&&(d||(i.selectionMarker=d=e({destroy:Me},n.plotBox)),i.pinchTranslate(o,a,u,d,f,l),i.hasPinched=c,i.scaleGroups(u,f),!c&&r&&1===s&&this.runPointActions(i.normalize(t)))},onContainerTouchStart:function(e){var t=this.chart;ut=t.index,1===e.touches.length?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchMove:function(e){(1===e.touches.length||2===e.touches.length)&&this.pinch(e)},onDocumentTouchEnd:function(e){Le[ut]&&Le[ut].pointer.drop(e)}}),se.PointerEvent||se.MSPointerEvent){var pt={},ft=!!se.PointerEvent,mt=function(){var e,t=[];t.item=function(e){return this[e]};for(e in pt)pt.hasOwnProperty(e)&&t.push({pageX:pt[e].pageX,pageY:pt[e].pageY,target:pt[e].target});return t},gt=function(e,t,i,n){e=e.originalEvent||e,"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Le[ut]||(n(e),n=Le[ut].pointer,n[t]({type:i,target:e.currentTarget,preventDefault:Me,touches:mt()}))};e(ht.prototype,{onContainerPointerDown:function(e){gt(e,"onContainerTouchStart","touchstart",function(e){pt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){gt(e,"onContainerTouchMove","touchmove",function(e){pt[e.pointerId]={pageX:e.pageX,pageY:e.pageY},pt[e.pointerId].target||(pt[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){gt(e,"onContainerTouchEnd","touchend",function(e){delete pt[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,ft?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,ft?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(ae,ft?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),b(ht.prototype,"init",function(e,t,i){e.call(this,t,i),(this.hasZoom||this.followTouchMove)&&f(t.container,{"-ms-touch-action":Oe,"touch-action":Oe})}),b(ht.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Xe)}),b(ht.prototype,"destroy",function(e){this.batchMSEvents(Qe),e.call(this)})}var vt=re.Legend=function(e,t){this.init(e,t)};vt.prototype={init:function(e,i){var n=this,o=i.itemStyle,r=p(i.padding,8),a=i.itemMarginTop||0;this.options=i,i.enabled&&(n.itemStyle=o,n.itemHiddenStyle=t(o,i.itemHiddenStyle),n.itemMarginTop=a,n.padding=r,n.initialItemX=r,n.initialItemY=r-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.lastLineHeight=0,n.symbolWidth=p(i.symbolWidth,16),n.pages=[],n.render(),Xe(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(e,t){var i,n=this.options,o=e.legendItem,r=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,n=t?n.itemStyle.color:s,l=t?e.legendColor||e.color||"#CCC":s,s=e.options&&e.options.marker,c={fill:l};if(o&&o.css({fill:n,color:n}),r&&r.attr({stroke:l}),a){if(s&&a.isMarker)for(i in c.stroke=l,s=e.convertAttribs(s))o=s[i],o!==O&&(c[i]=o);a.attr(c)}},positionItem:function(e){var t=this.options,i=t.symbolPadding,t=!t.rtl,n=e._legendItemPos,o=n[0],n=n[1],r=e.checkbox;
e.legendGroup&&e.legendGroup.translate(t?o:this.legendWidth-o-2*i-4,n),r&&(r.x=o,r.y=n)},destroyItem:function(e){var t=e.checkbox;Ye(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&D(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(t=i.translateY,Ye(this.allItems,function(o){var r,a=o.checkbox;a&&(r=t+a.y+(e||0)+3,f(a,{left:i.translateX+o.checkboxOffset+a.x-20+"px",top:r+"px",display:r>t-6&&t+n-6>r?"":Oe}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),i=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(e){var i=this.chart,n=i.renderer,o=this.options,r="horizontal"===o.layout,a=this.symbolWidth,s=o.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,d=this.padding,u=r?p(o.itemDistance,20):0,h=!o.rtl,f=o.width,m=o.itemMarginBottom||0,g=this.itemMarginTop,v=this.initialItemX,y=e.legendItem,b=e.series&&e.series.drawLegendSymbol?e.series:e,w=b.options,w=this.createCheckboxForItem&&w&&w.showCheckbox,x=o.useHTML;y||(e.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=y=n.text(o.labelFormat?_(o.labelFormat,e):o.labelFormatter.call(e),h?a+s:-s,this.baseline||0,x).css(t(e.visible?l:c)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.baseline=n.fontMetrics(l.fontSize,y).f+3+g,y.attr("y",this.baseline)),b.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,x,l,c),this.colorizeItem(e,e.visible),w&&this.createCheckboxForItem(e)),n=y.getBBox(),a=e.checkboxOffset=o.itemWidth||e.legendItemWidth||a+s+n.width+u+(w?20:0),this.itemHeight=s=ce(e.legendItemHeight||n.height),r&&this.itemX-v+a>(f||i.chartWidth-2*d-v-o.x)&&(this.itemX=v,this.itemY+=g+this.lastLineHeight+m,this.lastLineHeight=0),this.maxItemWidth=he(this.maxItemWidth,a),this.lastItemY=g+this.itemY+m,this.lastLineHeight=he(s,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=a:(this.itemY+=g+s+m,this.lastLineHeight=s),this.offsetWidth=f||he((r?this.itemX-v-u:a)+d,this.offsetWidth)},getAllItems:function(){var e=[];return Ye(this.chart.series,function(t){var i=t.options;p(i.showInLegend,d(i.linkedTo)?!1:O,!0)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),e},render:function(){var t,i,n,o,r=this,a=r.chart,s=a.renderer,l=r.group,c=r.box,d=r.options,u=r.padding,h=d.borderWidth,p=d.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,l||(r.group=l=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(l),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),C(t,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),d.reversed&&t.reverse(),r.allItems=t,r.display=i=!!t.length,Ye(t,function(e){r.renderItem(e)}),n=d.width||r.offsetWidth,o=r.lastItemY+r.lastLineHeight+r.titleHeight,o=r.handleOverflow(o),(h||p)&&(n+=u,o+=u,c?n>0&&o>0&&(c[c.isNew?"attr":"animate"](c.crisp({width:n,height:o})),c.isNew=!1):(r.box=c=s.rect(0,0,n,o,d.borderRadius,h||0).attr({stroke:d.borderColor,"stroke-width":h||0,fill:p||Oe}).add(l).shadow(d.shadow),c.isNew=!0),c[i?"show":"hide"]()),r.legendWidth=n,r.legendHeight=o,Ye(t,function(e){r.positionItem(e)}),i&&l.align(e({width:n,height:o},d),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,i,n=this,o=this.chart,r=o.renderer,a=this.options,s=a.y,s=o.spacingBox.height+("top"===a.verticalAlign?-s:s)-this.padding,l=a.maxHeight,c=this.clipRect,d=a.navigation,u=p(d.animation,!0),h=d.arrowSize||12,f=this.nav,m=this.pages,g=this.allItems;return"horizontal"===a.layout&&(s/=2),l&&(s=pe(s,l)),m.length=0,e>s&&!a.useHTML?(this.clipHeight=t=he(s-20-this.titleHeight-this.padding,0),this.currentPage=p(this.currentPage,1),this.fullHeight=e,Ye(g,function(e,n){var o=e._legendItemPos[1],r=ce(e.legendItem.getBBox().height),a=m.length;(!a||o-m[a-1]>t&&(i||o)!==m[a-1])&&(m.push(i||o),a++),n===g.length-1&&o+r-m[a-1]>t&&m.push(o),o!==i&&(i=o)}),c||(c=n.clipRect=r.clipRect(0,this.padding,9999,0),n.contentGroup.clip(c)),c.attr({height:t}),f||(this.nav=f=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,h,h).on("click",function(){n.scroll(-1,u)}).add(f),this.pager=r.text("",15,10).css(d.style).add(f),this.down=r.symbol("triangle-down",0,0,h,h).on("click",function(){n.scroll(1,u)}).add(f)),n.scroll(0),e=s):f&&(c.attr({height:o.chartHeight}),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var i=this.pages,n=i.length,o=this.currentPage+e,r=this.clipHeight,a=this.options.navigation,s=a.activeColor,a=a.inactiveColor,l=this.pager,c=this.padding;o>n&&(o=n),o>0&&(t!==O&&P(t,this.chart),this.nav.attr({translateX:c,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===o?a:s}).css({cursor:1===o?"default":"pointer"}),l.attr({text:o+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===n?a:s}).css({cursor:o===n?"default":"pointer"}),i=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=o,this.positionCheckboxes(i))}},ze=re.LegendSymbolMixin={drawRectangle:function(e,t){var i=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-i/2,e.symbolWidth,i,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,i=this.options,n=i.marker;t=e.symbolWidth;var o,r=this.chart.renderer,a=this.legendGroup,e=e.baseline-ce(.3*r.fontMetrics(e.options.itemStyle.fontSize,this.legendItem).b);i.lineWidth&&(o={"stroke-width":i.lineWidth},i.dashStyle&&(o.dashstyle=i.dashStyle),this.legendLine=r.path(["M",0,e,"L",t,e]).attr(o).add(a)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=t=r.symbol(this.symbol,t/2-i,e-i,2*i,2*i).add(a),t.isMarker=!0)}},(/Trident\/7\.0/.test(be)||ke)&&b(vt.prototype,"positionItem",function(e,t){var i=this,n=function(){t._legendItemPos&&e.call(i,t)};n(),setTimeout(n)}),$.prototype={init:function(e,i){var n,o=e.series;e.series=null,n=t(H,e),n.series=e.series=o,this.userOptions=e,o=n.chart,this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var r=o.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var a,s=this;if(s.index=Le.length,Le.push(s),$e++,o.reflow!==!1&&Xe(s,"load",function(){s.initReflow()}),r)for(a in r)Xe(s,a,r[a]);s.xAxis=[],s.yAxis=[],s.animation=Pe?!1:p(o.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=je[e.type||t.type||t.defaultSeriesType])||Y(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,i){var n=i?t:e,e=i?e:t;return n>=0&&n<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Ye(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var i,n,o=this.axes,r=this.series,a=this.pointer,s=this.legend,l=this.isDirtyLegend,c=this.hasCartesianSeries,d=this.isDirtyBox,u=r.length,h=u,p=this.renderer,f=p.isHidden(),m=[];for(P(t,this),f&&this.cloneRenderTo(),this.layOutTitles();h--;)if(t=r[h],t.options.stacking&&(i=!0,t.isDirty)){n=!0;break}if(n)for(h=u;h--;)t=r[h],t.options.stacking&&(t.isDirty=!0);Ye(r,function(e){e.isDirty&&"point"===e.options.legendType&&(l=!0)}),l&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),i&&this.getStacks(),c&&(this.isResizing||(this.maxTicks=null,Ye(o,function(e){e.setScale()})),this.adjustTickAmounts()),this.getMargins(),c&&(Ye(o,function(e){e.isDirty&&(d=!0)}),Ye(o,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,m.push(function(){Ke(t,"afterSetExtremes",e(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||i)&&t.redraw()})),d&&this.drawChartBox(),Ye(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),a&&a.reset(!0),p.draw(),Ke(this,"redraw"),f&&this.cloneRenderTo(!0),Ye(m,function(e){e.call()})},get:function(e){var t,i,n=this.axes,o=this.series;for(t=0;t<n.length;t++)if(n[t].options.id===e)return n[t];for(t=0;t<o.length;t++)if(o[t].options.id===e)return o[t];for(t=0;t<o.length;t++)for(i=o[t].points||[],n=0;n<i.length;n++)if(i[n].id===e)return i[n];return null},getAxes:function(){var e=this,t=this.options,i=t.xAxis=h(t.xAxis||{}),t=t.yAxis=h(t.yAxis||{});Ye(i,function(e,t){e.index=t,e.isX=!0}),Ye(t,function(e,t){e.index=t}),i=i.concat(t),Ye(i,function(t){new L(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return Ye(this.series,function(t){e=e.concat(Ue(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Ue(this.series,function(e){return e.selected})},getStacks:function(){var e=this;Ye(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Ye(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+p(t.options.stack,""))})},setTitle:function(e,i,n){var o,r,a=this,s=a.options;r=s.title=t(s.title,e),o=s.subtitle=t(s.subtitle,i),s=o,Ye([["title",e,r],["subtitle",i,s]],function(e){var t=e[0],i=a[t],n=e[1],e=e[2];i&&n&&(a[t]=i=i.destroy()),e&&e.text&&!i&&(a[t]=a.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),a.layOutTitles(n)},layOutTitles:function(t){var i=0,n=this.title,o=this.subtitle,r=this.options,a=r.title,r=r.subtitle,s=this.renderer,l=this.spacingBox.width-44;!n||(n.css({width:(a.width||l)+"px"}).align(e({y:s.fontMetrics(a.style.fontSize,n).b-3},a),!1,"spacingBox"),a.floating||a.verticalAlign)||(i=n.getBBox().height),o&&(o.css({width:(r.width||l)+"px"}).align(e({y:i+(a.margin-13)+s.fontMetrics(a.style.fontSize,o).b},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(i=ue(i+o.getBBox().height))),n=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&p(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,i=this.renderToClone||this.renderTo;d(t)||(this.containerWidth=Be(i,"width")),d(e)||(this.containerHeight=Be(i,"height")),this.chartWidth=he(0,t||this.containerWidth||600),this.chartHeight=he(0,p(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,i=this.container;e?t&&(this.renderTo.appendChild(i),D(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),f(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),ae.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var t,o,r,a,s=this.options.chart;this.renderTo=t=s.renderTo,a="highcharts-"+Ie++,n(t)&&(this.renderTo=t=ae.getElementById(t)),t||Y(13,!0),o=i(u(t,"data-highcharts-chart")),!isNaN(o)&&Le[o]&&Le[o].hasRendered&&Le[o].destroy(),u(t,"data-highcharts-chart",this.index),t.innerHTML="",!s.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),o=this.chartWidth,r=this.chartHeight,this.container=t=m(Fe,{className:"highcharts-container"+(s.className?" "+s.className:""),id:a},e({position:"relative",overflow:"hidden",width:o+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=s.forExport?new at(t,o,r,s.style,!0):new N(t,o,r,s.style),Pe&&this.renderer.create(this,t,o,r)},getMargins:function(){var e,t=this.spacing,i=this.legend,n=this.margin,o=this.options.legend,r=p(o.margin,20),a=o.x,s=o.y,l=o.align,c=o.verticalAlign,u=this.titleOffset;this.resetMargins(),e=this.axisOffset,u&&!d(n[0])&&(this.plotTop=he(this.plotTop,u+this.options.title.margin+t[0])),i.display&&!o.floating&&("right"===l?d(n[1])||(this.marginRight=he(this.marginRight,i.legendWidth-a+r+t[1])):"left"===l?d(n[3])||(this.plotLeft=he(this.plotLeft,i.legendWidth+a+r+t[3])):"top"===c?d(n[0])||(this.plotTop=he(this.plotTop,i.legendHeight+s+r+t[0])):"bottom"!==c||d(n[2])||(this.marginBottom=he(this.marginBottom,i.legendHeight-s+r+t[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Ye(this.axes,function(e){e.getOffset()}),d(n[3])||(this.plotLeft+=e[3]),d(n[0])||(this.plotTop+=e[0]),d(n[2])||(this.marginBottom+=e[2]),d(n[1])||(this.marginRight+=e[1]),this.setChartSize()},reflow:function(e){var t=this,i=t.options.chart,n=t.renderTo,o=i.width||Be(n,"width"),r=i.height||Be(n,"height"),i=e?e.target:se,n=function(){t.container&&(t.setSize(o,r,!1),t.hasUserSize=null)};t.hasUserSize||!o||!r||i!==se&&i!==ae||((o!==t.containerWidth||r!==t.containerHeight)&&(clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(n,100):n()),t.containerWidth=o,t.containerHeight=r)},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Xe(se,"resize",t),Xe(e,"destroy",function(){Qe(se,"resize",t)})},setSize:function(e,t,i){var n,o,r,a=this;a.isResizing+=1,r=function(){a&&Ke(a,"endResize",null,function(){a.isResizing-=1})},P(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,d(e)&&(a.chartWidth=n=he(0,ce(e)),a.hasUserSize=!!n),d(t)&&(a.chartHeight=o=he(0,ce(t))),(B?Ze:f)(a.container,{width:n+"px",height:o+"px"},B),a.setChartSize(!0),a.renderer.setSize(n,o,i),a.maxTicks=null,Ye(a.axes,function(e){e.isDirty=!0,e.setScale()}),Ye(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(i),a.oldChartHeight=null,Ke(a,"resize"),B===!1?r():setTimeout(r,B&&B.duration||500)},setChartSize:function(e){var t,i,n,o,r=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,d=this.spacing,u=this.clipOffset;this.plotLeft=t=ce(this.plotLeft),this.plotTop=i=ce(this.plotTop),this.plotWidth=n=he(0,ce(s-t-this.marginRight)),this.plotHeight=o=he(0,ce(l-i-this.marginBottom)),this.plotSizeX=r?o:n,this.plotSizeY=r?n:o,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:d[3],y:d[0],width:s-d[3]-d[1],height:l-d[0]-d[2]},this.plotBox=a.plotBox={x:t,y:i,width:n,height:o},s=2*de(this.plotBorderWidth/2),r=ue(he(s,u[3])/2),a=ue(he(s,u[0])/2),this.clipBox={x:r,y:a,width:de(this.plotSizeX-he(s,u[1])/2-r),height:he(0,de(this.plotSizeY-he(s,u[2])/2-a))},e||Ye(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.spacing,t=this.margin;this.plotTop=p(t[0],e[0]),this.marginRight=p(t[1],e[1]),this.marginBottom=p(t[2],e[2]),this.plotLeft=p(t[3],e[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,i=this.renderer,n=this.chartWidth,o=this.chartHeight,r=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,d=t.backgroundColor,u=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,_=this.clipBox;e=c+(t.shadow?8:0),(c||d)&&(r?r.animate(r.crisp({width:n-e,height:o-e})):(r={fill:d||Oe},c&&(r.stroke=t.borderColor,r["stroke-width"]=c),this.chartBackground=i.rect(e/2,e/2,n-e,o-e,t.borderRadius,c).attr(r).addClass("highcharts-background").add().shadow(t.shadow))),u&&(a?a.animate(y):this.plotBackground=i.rect(f,m,g,v,0).attr({fill:u}).add().shadow(t.plotShadow)),h&&(l?l.animate(y):this.plotBGImage=i.image(h,f,m,g,v).add()),b?b.animate({width:_.width,height:_.height}):this.clipRect=i.clipRect(_),p&&(s?s.animate(s.crisp({x:f,y:m,width:g,height:v})):this.plotBorder=i.rect(f,m,g,v,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:Oe,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,i,n=this,o=n.options.chart,r=n.options.series;Ye(["inverted","angular","polar"],function(a){for(e=je[o.type||o.defaultSeriesType],i=n[a]||o[a]||e&&e.prototype[a],t=r&&r.length;!i&&t--;)(e=je[r[t].type])&&e.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var e=this,t=e.series;Ye(t,function(e){e.linkedSeries.length=0}),Ye(t,function(t){var i=t.options.linkedTo;n(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&(i.linkedSeries.push(t),t.linkedParent=i)})},renderSeries:function(){Ye(this.series,function(e){e.translate(),e.setTooltipPoints&&e.setTooltipPoints(),e.render()})},renderLabels:function(){var t=this,n=t.options.labels;n.items&&Ye(n.items,function(o){var r=e(n.style,o.style),a=i(r.left)+t.plotLeft,s=i(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(o.html,a,s).attr({zIndex:2}).css(r).add()})},render:function(){var e=this.axes,t=this.renderer,i=this.options;this.setTitle(),this.legend=new vt(this,i.legend),this.getStacks(),Ye(e,function(e){e.setScale()}),this.getMargins(),this.maxTicks=null,Ye(e,function(e){e.setTickPositions(!0),e.setMaxTicks()}),this.adjustTickAmounts(),this.getMargins(),this.drawChartBox(),this.hasCartesianSeries&&Ye(e,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(i.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,t=this,i=t.axes,n=t.series,o=t.container,r=o&&o.parentNode;for(Ke(t,"destroy"),Le[t.index]=O,$e--,t.renderTo.removeAttribute("data-highcharts-chart"),Qe(t),e=i.length;e--;)i[e]=i[e].destroy();for(e=n.length;e--;)n[e]=n[e].destroy();Ye("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())}),o&&(o.innerHTML="",Qe(o),r&&D(o));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!De&&se==se.top&&"complete"!==ae.readyState||Pe&&!se.canvg?(Pe?ct.push(function(){e.firstRender()},e.options.global.canvasToolsURL):ae.attachEvent("onreadystatechange",function(){ae.detachEvent("onreadystatechange",e.firstRender),"complete"===ae.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,i=e.callback;e.isReadyToRender()&&(e.getContainer(),Ke(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Ye(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Ke(e,"beforeRender"),re.Pointer&&(e.pointer=new ht(e,t)),e.render(),e.renderer.draw(),i&&i.apply(e,[e]),Ye(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),Ke(e,"load"))},splashArray:function(e,t){var i=t[e],i=o(i)?i:[i,i,i,i];return[p(t[e+"Top"],i[0]),p(t[e+"Right"],i[1]),p(t[e+"Bottom"],i[2]),p(t[e+"Left"],i[3])]}},$.prototype.callbacks=[],st=re.CenteredSeriesMixin={getCenter:function(){var e,t,n=this.options,o=this.chart,r=2*(n.slicedOffset||0),a=o.plotWidth-2*r,s=o.plotHeight-2*r,o=n.center,n=[p(o[0],"50%"),p(o[1],"50%"),n.size||"100%",n.innerSize||0],l=pe(a,s);return Ge(n,function(n,o){return t=/%$/.test(n),e=2>o||2===o&&t,(t?[a,s,l,l][o]*i(n)/100:n)+(e?r:0)})}};var yt=function(){};yt.prototype={init:function(e,t,i){return this.series=e,this.applyOptions(t,i),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(t,i){var n=this.series,o=n.options.pointValKey||n.pointValKey,t=yt.prototype.optionsToObject.call(this,t);return e(this,t),this.options=this.options?e(this.options,t):t,o&&(this.y=this[o]),this.x===O&&n&&(this.x=i===O?n.autoIncrement():i),this},optionsToObject:function(e){var t={},i=this.series,n=i.pointArrayMap||["y"],o=n.length,a=0,s=0;if("number"==typeof e||null===e)t[n[0]]=e;else if(r(e))for(e.length>o&&(i=typeof e[0],"string"===i?t.name=e[0]:"number"===i&&(t.x=e[0]),a++);o>s;)t[n[s++]]=e[a++];else"object"==typeof e&&(t=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,i=t.hoverPoints;t.pointCount--,i&&(this.setState(),c(i,this),!i.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Qe(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)e=t[i],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,n=p(i.valueDecimals,""),o=i.valuePrefix||"",r=i.valueSuffix||"";return Ye(t.pointArrayMap||["y"],function(t){t="{point."+t,(o||r)&&(e=e.replace(t+"}",o+t+"}"+r)),e=e.replace(t+"}",t+":,."+n+"f}")}),_(e,{point:this,series:this.series})},firePointEvent:function(e,t,i){var n=this,o=this.series.options;(o.point.events[e]||n.options&&n.options.events&&n.options.events[e])&&this.importEvents(),"click"===e&&o.allowPointSelect&&(i=function(e){n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Ke(this,e,t,i)}};var bt=function(){};bt.prototype={isCartesian:!0,type:"line",pointClass:yt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,i){var n,o,r=this,a=t.series,s=function(e,t){return p(e.options.index,e._i)-p(t.options.index,t._i)};r.chart=t,r.options=i=r.setOptions(i),r.linkedSeries=[],r.bindAxes(),e(r,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),Pe&&(i.animation=!1),o=i.events;for(n in o)Xe(r,n,o[n]);(o&&o.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),Ye(r.parallelArrays,function(e){r[e+"Data"]=[]}),r.setData(i.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),a.push(r),r._i=a.length-1,C(a,s),this.yAxis&&C(this.yAxis.series,s),Ye(a,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,i=t.options,n=t.chart;Ye(t.axisTypes||[],function(o){Ye(n[o],function(n){e=n.options,(i[o]===e.index||i[o]!==O&&i[o]===e.id||i[o]===O&&0===e.index)&&(n.series.push(t),t[o]=n,n.isDirty=!0)}),!t[o]&&t.optionalAxis!==o&&Y(18,!0)})},updateParallelArrays:function(e,t){var i=e.series,n=arguments;Ye(i.parallelArrays,"number"==typeof t?function(n){var o="y"===n&&i.toYData?i.toYData(e):e[n];i[n+"Data"][t]=o}:function(e){Array.prototype[t].apply(i[e+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);return this.pointInterval=p(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e,t=-1,i=[],n=this.points,o=n.length;if(o)if(this.options.connectNulls){for(e=o;e--;)null===n[e].y&&n.splice(e,1);n.length&&(i=[n])}else Ye(n,function(e,r){null===e.y?(r>t+1&&i.push(n.slice(t+1,r)),t=r):r===o-1&&i.push(n.slice(t+1,r+1))});this.segments=i},setOptions:function(e){var i=this.chart,n=i.options.plotOptions,i=i.userOptions||{},o=i.plotOptions||{},r=n[this.type];return this.userOptions=e,n=t(r,n.series,e),this.tooltipOptions=t(H.tooltip,H.plotOptions[this.type].tooltip,i.tooltip,o.series&&o.series.tooltip,o[this.type]&&o[this.type].tooltip,e.tooltip),null===r.marker&&delete n.marker,n},getCyclic:function(e,t,i){var n=this.userOptions,o="_"+e+"Index",r=e+"Counter";t||(d(n[o])?t=n[o]:(n[o]=t=this.chart[r]%i.length,this.chart[r]+=1),t=i[t]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||tt[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:ze.drawLineMarker,setData:function(e,t,i,o){var s,l=this,c=l.points,d=c&&c.length||0,u=l.options,h=l.chart,f=null,m=l.xAxis,g=m&&!!m.categories,v=l.tooltipPoints,y=u.turboThreshold,b=this.xData,_=this.yData,w=(s=l.pointArrayMap)&&s.length,e=e||[];if(s=e.length,t=p(t,!0),o===!1||!s||d!==s||l.cropped||l.hasGroupedData){if(l.xIncrement=null,l.pointRange=g?1:u.pointRange,l.colorCounter=0,Ye(this.parallelArrays,function(e){l[e+"Data"].length=0}),y&&s>y){for(i=0;null===f&&s>i;)f=e[i],i++;if(a(f)){for(g=p(u.pointStart,0),u=p(u.pointInterval,1),i=0;s>i;i++)b[i]=g,_[i]=e[i],g+=u;l.xIncrement=g}else if(r(f))if(w)for(i=0;s>i;i++)u=e[i],b[i]=u[0],_[i]=u.slice(1,w+1);else for(i=0;s>i;i++)u=e[i],b[i]=u[0],_[i]=u[1];else Y(12)}else for(i=0;s>i;i++)e[i]!==O&&(u={series:l},l.pointClass.prototype.applyOptions.apply(u,[e[i]]),l.updateParallelArrays(u,i),g&&u.name)&&(m.names[u.x]=u.name);for(n(_[0])&&Y(14,!0),l.data=[],l.options.data=e,i=d;i--;)c[i]&&c[i].destroy&&c[i].destroy();v&&(v.length=0),m&&(m.minRange=m.userMinRange),l.isDirty=l.isDirtyData=h.isDirtyBox=!0,i=!1}else Ye(e,function(e,t){c[t].update(e,!1)});t&&h.redraw(i)},processData:function(e){var t,i=this.xData,n=this.yData,o=i.length;t=0;var r,a,s,l,c=this.xAxis,d=this.options,u=d.cropThreshold,h=0,p=this.isCartesian;if(p&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(p&&this.sorted&&(!u||o>u||this.forceCrop)&&(s=c.getExtremes(),l=s.min,s=s.max,i[o-1]<l||i[0]>s?(i=[],n=[]):(i[0]<l||i[o-1]>s)&&(t=this.cropData(this.xData,this.yData,l,s),i=t.xData,n=t.yData,t=t.start,r=!0,h=i.length)),e=i.length-1;e>=0;e--)o=i[e]-i[e-1],!r&&i[e]>l&&i[e]<s&&h++,o>0&&(a===O||a>o)?a=o:0>o&&this.requireSorting&&Y(15);this.cropped=r,this.cropStart=t,this.processedXData=i,this.processedYData=n,this.activePointCount=h,null===d.pointRange&&(this.pointRange=a||1),this.closestPointRange=a},cropData:function(e,t,i,n){var o,r=e.length,a=0,s=r,l=p(this.cropShoulder,1);for(o=0;r>o;o++)if(e[o]>=i){a=he(0,o-l);break}for(;r>o;o++)if(e[o]>n){s=o+l;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,i,n,o=this.options.data,r=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,c=a.length,d=this.cropStart||0,u=this.hasGroupedData,p=[];for(r||u||(r=[],r.length=o.length,r=this.data=r),n=0;c>n;n++)t=d+n,u?p[n]=(new l).init(this,[a[n]].concat(h(s[n]))):(r[t]?i=r[t]:o[t]!==O&&(r[t]=i=(new l).init(this,o[t],a[n])),p[n]=i);if(r&&(c!==(e=r.length)||u))for(n=0;e>n;n++)n===d&&!u&&(n+=c),r[n]&&(r[n].destroyElements(),r[n].plotX=O);this.data=r,this.points=p},getExtremes:function(e){var t,i=this.yAxis,n=this.processedXData,o=[],r=0;t=this.xAxis.getExtremes();var a,s,l,c,d=t.min,u=t.max,e=e||this.stackedYData||this.processedYData;for(t=e.length,c=0;t>c;c++)if(s=n[c],l=e[c],a=null!==l&&l!==O&&(!i.isLog||l.length||l>0),s=this.getExtremesFromAll||this.cropped||(n[c+1]||s)>=d&&(n[c-1]||s)<=u,a&&s)if(a=l.length)for(;a--;)null!==l[a]&&(o[r++]=l[a]);else o[r++]=l;this.dataMin=p(void 0,k(o)),this.dataMax=p(void 0,S(o))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,i=this.xAxis,n=i.categories,o=this.yAxis,r=this.points,s=r.length,l=!!this.modifyValue,c=e.pointPlacement,u="between"===c||a(c),h=e.threshold,e=0;s>e;e++){var f=r[e],m=f.x,g=f.y,v=f.low,y=t&&o.stacks[(this.negStacks&&h>g?"-":"")+this.stackKey];o.isLog&&0>=g&&(f.y=g=null),f.plotX=i.translate(m,0,0,0,1,c,"flags"===this.type),t&&this.visible&&y&&y[m]&&(y=y[m],g=y.points[this.index+","+e],v=g[0],g=g[1],0===v&&(v=p(h,o.min)),o.isLog&&0>=v&&(v=null),f.total=f.stackTotal=y.total,f.percentage=y.total&&f.y/y.total*100,f.stackY=g,y.setOffset(this.pointXOffset||0,this.barW||0)),f.yBottom=d(v)?o.translate(v,0,1,0,1):null,l&&(g=this.modifyValue(g,f)),f.plotY="number"==typeof g&&g!==1/0?o.translate(g,0,1,0,1):O,f.clientX=u?i.translate(m,0,0,0,1):f.plotX,f.negative=f.y<(h||0),f.category=n&&n[f.x]!==O?n[f.x]:f.x}this.getSegments()},animate:function(t){var i,n=this.chart,r=n.renderer;i=this.options.animation;var a,s=this.clipBox||n.clipBox,l=n.inverted;i&&!o(i)&&(i=tt[this.type].animation),a=["_sharedClip",i.duration,i.easing,s.height].join(","),t?(t=n[a],i=n[a+"m"],t||(n[a]=t=r.clipRect(e(s,{width:0})),n[a+"m"]=i=r.clipRect(-99,l?-n.plotLeft:-n.plotTop,99,l?n.chartWidth:n.chartHeight)),this.group.clip(t),this.markerGroup.clip(i),this.sharedClipKey=a):((t=n[a])&&t.animate({width:n.plotSizeX},i),n[a+"m"]&&n[a+"m"].animate({width:n.plotSizeX+99},i),this.animate=null)},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,i=this.group,n=this.clipBox;i&&this.options.clip!==!1&&(t&&n||i.clip(n?e.renderer.clipRect(n):e.clipRect),this.markerGroup.clip()),Ke(this,"afterAnimate"),setTimeout(function(){t&&e[t]&&(n||(e[t]=e[t].destroy()),e[t+"m"]&&(e[t+"m"]=e[t+"m"].destroy()))},100)},drawPoints:function(){var t,i,n,o,r,a,s,l,c,d=this.points,u=this.chart;i=this.options.marker;var h,f=this.pointAttr[""],m=this.markerGroup,g=p(i.enabled,this.activePointCount<.5*this.xAxis.len/i.radius);if(i.enabled!==!1||this._hasPointMarkers)for(o=d.length;o--;)r=d[o],i=de(r.plotX),n=r.plotY,c=r.graphic,s=r.marker||{},t=g&&s.enabled===O||s.enabled,h=u.isInsidePlot(ce(i),n,u.inverted),t&&n!==O&&!isNaN(n)&&null!==r.y?(t=r.pointAttr[r.selected?"select":""]||f,a=t.r,s=p(s.symbol,this.symbol),l=0===s.indexOf("url"),c?c[h?"show":"hide"](!0).animate(e({x:i-a,y:n-a},c.symbolName?{width:2*a,height:2*a}:{})):h&&(a>0||l)&&(r.graphic=u.renderer.symbol(s,i-a,n-a,2*a,2*a).attr(t).add(m))):c&&(r.graphic=c.destroy())},convertAttribs:function(e,t,i,n){var o,r,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},i=i||{},n=n||{};for(o in a)r=a[o],s[o]=p(e[r],t[o],i[o],n[o]);return s},getAttribs:function(){var t,i=this,n=i.options,o=tt[i.type].marker?n.marker:n,r=o.states,a=r.hover,s=i.color;t={stroke:s,fill:s};var l,c,u=i.points||[],h=[],p=i.pointAttrToOptions;c=i.hasPointSpecificOptions;var f=n.negativeColor,m=o.lineColor,g=o.fillColor;l=n.turboThreshold;var v;if(n.marker?(a.radius=a.radius||o.radius+a.radiusPlus,a.lineWidth=a.lineWidth||o.lineWidth+a.lineWidthPlus):a.color=a.color||rt(a.color||s).brighten(a.brightness).get(),h[""]=i.convertAttribs(o,t),Ye(["hover","select"],function(e){h[e]=i.convertAttribs(r[e],h[""])}),i.pointAttr=h,s=u.length,!l||l>s||c)for(;s--;){if(l=u[s],(o=l.options&&l.options.marker||l.options)&&o.enabled===!1&&(o.radius=0),l.negative&&f&&(l.color=l.fillColor=f),c=n.colorByPoint||l.color,l.options)for(v in p)d(o[p[v]])&&(c=!0);c?(o=o||{},c=[],r=o.states||{},t=r.hover=r.hover||{},n.marker||(t.color=t.color||!l.options.color&&a.color||rt(l.color).brighten(t.brightness||a.brightness).get()),t={color:l.color},g||(t.fillColor=l.color),m||(t.lineColor=l.color),c[""]=i.convertAttribs(e(t,o),h[""]),c.hover=i.convertAttribs(r.hover,h.hover,c[""]),c.select=i.convertAttribs(r.select,h.select,c[""])):c=h,l.pointAttr=c}},destroy:function(){var e,t,i,n,o,r=this,a=r.chart,s=/AppleWebKit\/533/.test(be),l=r.data||[];for(Ke(r,"destroy"),Qe(r),Ye(r.axisTypes||[],function(e){(o=r[e])&&(c(o.series,r),o.isDirty=o.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=l.length;t--;)(i=l[t])&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout),Ye("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){r[t]&&(e=s&&"group"===t?"hide":"destroy",r[t][e]())}),a.hoverSeries===r&&(a.hoverSeries=null),c(a.series,r);for(n in r)delete r[n]},getSegmentPath:function(e){var t=this,i=[],n=t.options.step;return Ye(e,function(o,r){var a,s=o.plotX,l=o.plotY;t.getPointSpline?i.push.apply(i,t.getPointSpline(e,o,r)):(i.push(r?"L":"M"),n&&r&&(a=e[r-1],"right"===n?i.push(a.plotX,l):"center"===n?i.push((a.plotX+s)/2,a.plotY,(a.plotX+s)/2,l):i.push(s,a.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var e,t=this,i=[],n=[];return Ye(t.segments,function(o){e=t.getSegmentPath(o),o.length>1?i=i.concat(e):n.push(o[0])}),t.singlePoints=n,t.graphPath=i},drawGraph:function(){var e=this,t=this.options,i=[["graph",t.lineColor||this.color]],n=t.lineWidth,o=t.dashStyle,r="square"!==t.linecap,a=this.getGraphPath(),s=t.negativeColor;
s&&i.push(["graphNeg",s]),Ye(i,function(i,s){var l=i[0],c=e[l];c?(et(c),c.animate({d:a})):n&&a.length&&(c={stroke:i[1],"stroke-width":n,fill:Oe,zIndex:1},o?c.dashstyle=o:r&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),e[l]=e.chart.renderer.path(a).attr(c).add(e.group).shadow(!s&&t.shadow))})},clipNeg:function(){var e,t=this.options,i=this.chart,n=i.renderer,o=t.negativeColor||t.negativeFillColor,r=this.graph,a=this.area,s=this.posClip,l=this.negClip;e=i.chartWidth;var c=i.chartHeight,d=he(e,c),u=this.yAxis;o&&(r||a)&&(o=ce(u.toPixels(t.threshold||0,!0)),0>o&&(d-=o),t={x:0,y:0,width:d,height:o},d={x:0,y:o,width:d,height:d},i.inverted&&(t.height=d.y=i.plotWidth-o,n.isVML&&(t={x:i.plotWidth-o-i.plotLeft,y:0,width:e,height:c},d={x:o+i.plotLeft-e,y:0,width:i.plotLeft+o,height:e})),u.reversed?(i=d,e=t):(i=t,e=d),s?(s.animate(i),l.animate(e)):(this.posClip=s=n.clipRect(i),this.negClip=l=n.clipRect(e),r&&this.graphNeg&&(r.clip(s),this.graphNeg.clip(l)),a&&(a.clip(s),this.areaNeg.clip(l))))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Ye(["group","markerGroup"],function(i){t[i]&&t[i].attr(e).invert()})}var t=this,i=t.chart;t.xAxis&&(Xe(i,"resize",e),Xe(t,"destroy",function(){Qe(i,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,i,n,o){var r=this[e],a=!r;return a&&(this[e]=r=this.chart.renderer.g(t).attr({visibility:i,zIndex:n||.1}).add(o)),r[a?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var e=this.chart,t=this.xAxis,i=this.yAxis;return e.inverted&&(t=i,i=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:i?i.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,i=t.chart,n=t.options,o=(e=n.animation)&&!!t.animate&&i.renderer.isSVG&&p(e.duration,500)||0,r=t.visible?"visible":"hidden",a=n.zIndex,s=t.hasRendered,l=i.seriesGroup;e=t.plotGroup("group","series",r,a,l),t.markerGroup=t.plotGroup("markerGroup","markers",r,a,l),o&&t.animate(!0),t.getAttribs(),e.inverted=t.isCartesian?i.inverted:!1,t.drawGraph&&(t.drawGraph(),t.clipNeg()),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),i.inverted&&t.invertGroups(),n.clip!==!1&&!t.sharedClipKey&&!s&&e.clip(i.clipRect),o&&t.animate(),s||(o?t.animationTimeout=setTimeout(function(){t.afterAnimate()},o):t.afterAnimate()),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,i=this.group,n=this.xAxis,o=this.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:p(n&&n.left,e.plotLeft),translateY:p(o&&o.top,e.plotTop)})),this.translate(),this.setTooltipPoints&&this.setTooltipPoints(!0),this.render(),t&&Ke(this,"updatedData")}},F.prototype={destroy:function(){T(this,this.axis)},render:function(e){var t=this.options,i=t.format,i=i?_(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var i=this.axis,n=i.chart,o=n.inverted,r=this.isNegative,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=fe(a-i),s=n.xAxis[0].translate(this.x)+e,l=n.plotHeight,r={x:o?r?a:a-i:s,y:o?l-s-t:r?l-a-i:l-a,width:o?i:t,height:o?t:i};(o=this.label)&&(o.align(this.alignOptions,null,r),r=o.alignAttr,o[this.options.crop===!1||n.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}},L.prototype.buildStacks=function(){var e=this.series,t=p(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)e[t?i:e.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<e.length;i++)e[i].setPercentStacks()}},L.prototype.renderStackTotals=function(){var e,t,i=this.chart,n=i.renderer,o=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(i.plotLeft,i.plotTop);for(e in o)for(t in i=o[e])i[t].render(r)},bt.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,i,n,o,r,a=this.processedXData,s=this.processedYData,l=[],c=s.length,d=this.options,u=d.threshold,h=d.stack,d=d.stacking,p=this.stackKey,f="-"+p,m=this.negStacks,g=this.yAxis,v=g.stacks,y=g.oldStacks;for(n=0;c>n;n++)o=a[n],r=s[n],i=this.index+","+n,t=(e=m&&u>r)?f:p,v[t]||(v[t]={}),v[t][o]||(y[t]&&y[t][o]?(v[t][o]=y[t][o],v[t][o].total=null):v[t][o]=new F(g,g.options.stackLabels,e,o,h)),t=v[t][o],t.points[i]=[t.cum||0],"percent"===d?(e=e?p:f,m&&v[e]&&v[e][o]?(e=v[e][o],t.total=e.total=he(e.total,t.total)+fe(r)||0):t.total=A(t.total+(fe(r)||0))):t.total=A(t.total+(r||0)),t.cum=(t.cum||0)+(r||0),t.points[i].push(t.cum),l[n]=t.cum;"percent"===d&&(g.usePercentage=!0),this.stackedYData=l,g.oldStacks={}}},bt.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,i=e.yAxis.stacks,n=e.processedXData;Ye([t,"-"+t],function(t){for(var o,r,a,s=n.length;s--;)r=n[s],o=(a=i[t]&&i[t][r])&&a.points[e.index+","+s],(r=o)&&(a=a.total?100/a.total:0,r[0]=A(r[0]*a),r[1]=A(r[1]*a),e.stackedYData[s]=r[1])})},e($.prototype,{addSeries:function(e,t,i){var n,o=this;return e&&(t=p(t,!0),Ke(o,"addSeries",{options:e},function(){n=o.initSeries(e),o.isDirtyLegend=!0,o.linkSeries(),t&&o.redraw(i)})),n},addAxis:function(e,i,n,o){var r=i?"xAxis":"yAxis",a=this.options;new L(this,t(e,{index:this[r].length,isX:i})),a[r]=h(a[r]||{}),a[r].push(e),p(n,!0)&&this.redraw(o)},showLoading:function(t){var i=this,n=i.options,o=i.loadingDiv,r=n.loading,a=function(){o&&f(o,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};o||(i.loadingDiv=o=m(Fe,{className:"highcharts-loading"},e(r.style,{zIndex:10,display:Oe}),i.container),i.loadingSpan=m("span",null,r.labelStyle,o),Xe(i,"redraw",a)),i.loadingSpan.innerHTML=t||n.lang.loading,i.loadingShown||(f(o,{opacity:0,display:""}),Ze(o,{opacity:r.style.opacity},{duration:r.showDuration||0}),i.loadingShown=!0),a()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&Ze(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){f(t,{display:Oe})}}),this.loadingShown=!1}}),e(yt.prototype,{update:function(e,t,i){var n,r=this,a=r.series,s=r.graphic,l=a.data,c=a.chart,d=a.options,t=p(t,!0);r.firePointEvent("update",{options:e},function(){r.applyOptions(e),o(e)&&(a.getAttribs(),s&&(e&&e.marker&&e.marker.symbol?r.graphic=s.destroy():s.attr(r.pointAttr[r.state||""])),e&&e.dataLabels&&r.dataLabel&&(r.dataLabel=r.dataLabel.destroy())),n=We(r,l),a.updateParallelArrays(r,n),d.data[n]=r.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===d.legendType&&c.legend.destroyItem(r),t&&c.redraw(i)})},remove:function(e,t){var i,n=this,o=n.series,r=o.points,a=o.chart,s=o.data;P(t,a),e=p(e,!0),n.firePointEvent("remove",null,function(){i=We(n,s),s.length===r.length&&r.splice(i,1),s.splice(i,1),o.options.data.splice(i,1),o.updateParallelArrays(n,"splice",i,1),n.destroy(),o.isDirty=!0,o.isDirtyData=!0,e&&a.redraw()})}}),e(bt.prototype,{addPoint:function(e,t,i,n){var o,r=this.options,a=this.data,s=this.graph,l=this.area,c=this.chart,d=this.xAxis&&this.xAxis.names,u=s&&s.shift||0,h=r.data,f=this.xData;if(P(n,c),i&&Ye([s,l,this.graphNeg,this.areaNeg],function(e){e&&(e.shift=u+1)}),l&&(l.isArea=!0),t=p(t,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[e]),s=n.x,l=f.length,this.requireSorting&&s<f[l-1])for(o=!0;l&&f[l-1]>s;)l--;this.updateParallelArrays(n,"splice",l,0,0),this.updateParallelArrays(n,l),d&&(d[s]=n.name),h.splice(l,0,e),o&&(this.data.splice(l,0,null),this.processData()),"point"===r.legendType&&this.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),this.updateParallelArrays(n,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),c.redraw())},remove:function(e,t){var i=this,n=i.chart,e=p(e,!0);i.isRemoving||(i.isRemoving=!0,Ke(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),e&&n.redraw(t)})),i.isRemoving=!1},update:function(i,n){var o,r=this,a=this.chart,s=this.userOptions,l=this.type,c=je[l].prototype,d=["group","markerGroup","dataLabelsGroup"];Ye(d,function(e){d[e]=r[e],delete r[e]}),i=t(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i),this.remove(!1);for(o in c)c.hasOwnProperty(o)&&(this[o]=O);e(this,je[i.type||l].prototype),Ye(d,function(e){r[e]=d[e]}),this.init(a,i),a.linkSeries(),p(n,!0)&&a.redraw(!1)}}),e(L.prototype,{update:function(i,n){var o=this.chart,i=o.options[this.coll][this.options.index]=t(this.userOptions,i);this.destroy(!0),this._addedPlotLB=O,this.init(o,e(i,{events:O})),o.isDirtyBox=!0,p(n,!0)&&o.redraw()},remove:function(e){for(var t=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);c(t.axes,this),c(t[i],this),t.options[i].splice(this.options.index,1),Ye(t[i],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,p(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}}),lt=g(bt),je.line=lt,tt.area=t(He,{threshold:0});var _t=g(bt,{type:"area",getSegments:function(){var e,t,i,n,o=this,r=[],a=[],s=[],l=this.xAxis,c=this.yAxis,d=c.stacks[this.stackKey],u={},h=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)u[h[i].x]=h[i];for(n in d)null!==d[n].total&&s.push(+n);s.sort(function(e,t){return e-t}),Ye(s,function(n){var r,s=0;if(!p||u[n]&&null!==u[n].y)if(u[n])a.push(u[n]);else{for(i=o.index;i<=c.series.length;i++)if(r=d[n].points[i+","+n]){s=r[1];break}e=l.translate(n),t=c.toPixels(s,!0),a.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:Me})}}),a.length&&r.push(a)}else bt.prototype.getSegments.call(this),r=this.segments;this.segments=r},getSegmentPath:function(e){var t,i=bt.prototype.getSegmentPath.call(this,e),n=[].concat(i),o=this.options;t=i.length;var r,a=this.yAxis.getThreshold(o.threshold);if(3===t&&n.push("L",i[1],i[2]),o.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)r=p(e[t].yBottom,a),t<e.length-1&&o.step&&n.push(e[t+1].plotX,r),n.push(e[t].plotX,r);else this.closeSegment(n,e,a);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(e,t,i){e.push("L",t[t.length-1].plotX,i,"L",t[0].plotX,i)},drawGraph:function(){this.areaPath=[],bt.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,i=this.options,n=i.negativeColor,o=i.negativeFillColor,r=[["area",this.color,i.fillColor]];(n||o)&&r.push(["areaNeg",n,o]),Ye(r,function(n){var o=n[0],r=e[o];r?r.animate({d:t}):e[o]=e.chart.renderer.path(t).attr({fill:p(n[2],rt(n[1]).setOpacity(p(i.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:ze.drawRectangle});je.area=_t,tt.spline=t(He),lt=g(bt,{type:"spline",getPointSpline:function(e,t,i){var n,o,r,a,s=t.plotX,l=t.plotY,c=e[i-1],d=e[i+1];if(c&&d){e=c.plotY,r=d.plotX;var u,d=d.plotY;n=(1.5*s+c.plotX)/2.5,o=(1.5*l+e)/2.5,r=(1.5*s+r)/2.5,a=(1.5*l+d)/2.5,u=(a-o)*(r-s)/(r-n)+l-a,o+=u,a+=u,o>e&&o>l?(o=he(e,l),a=2*l-o):e>o&&l>o&&(o=pe(e,l),a=2*l-o),a>d&&a>l?(a=he(d,l),o=2*l-a):d>a&&l>a&&(a=pe(d,l),o=2*l-a),t.rightContX=r,t.rightContY=a}return i?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,n||s,o||l,s,l],c.rightContX=c.rightContY=null):t=["M",s,l],t}}),je.spline=lt,tt.areaspline=t(tt.area),_t=_t.prototype,lt=g(lt,{type:"areaspline",closedStacks:!0,getSegmentPath:_t.getSegmentPath,closeSegment:_t.closeSegment,drawGraph:_t.drawGraph,drawLegendSymbol:ze.drawRectangle}),je.areaspline=lt,tt.column=t(He,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),lt=g(bt,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){bt.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Ye(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,i=this,n=i.options,o=i.xAxis,r=i.yAxis,a=o.reversed,s={},l=0;n.grouping===!1?l=1:Ye(i.chart.series,function(n){var o=n.options,a=n.yAxis;n.type===i.type&&n.visible&&r.len===a.len&&r.pos===a.pos&&(o.stacking?(e=n.stackKey,s[e]===O&&(s[e]=l++),t=s[e]):o.grouping!==!1&&(t=l++),n.columnIndex=t)});var o=pe(fe(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||o.tickInterval||1),o.len),c=o*n.groupPadding,u=(o-2*c)/l,h=n.pointWidth,n=d(h)?(u-h)/2:u*n.pointPadding,h=p(h,u-2*n);return i.columnMetrics={width:h,offset:n+(c+((a?l-(i.columnIndex||0):i.columnIndex)||0)*u-o/2)*(a?-1:1)}},translate:function(){var e=this,t=e.chart,i=e.options,n=e.borderWidth=p(i.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),o=e.yAxis,r=e.translatedThreshold=o.getThreshold(i.threshold),a=p(i.minPointLength,5),s=e.getColumnMetrics(),l=s.width,c=e.barW=he(l,1+2*n),d=e.pointXOffset=s.offset,u=-(n%2?.5:0),h=n%2?.5:1;t.renderer.isVML&&t.inverted&&(h+=1),i.pointPadding&&(c=ue(c)),bt.prototype.translate.apply(e),Ye(e.points,function(i){var n,s=p(i.yBottom,r),f=pe(he(-999-s,i.plotY),o.len+999+s),m=i.plotX+d,g=c,v=pe(f,s);n=he(f,s)-v,fe(n)<a&&a&&(n=a,v=ce(fe(v-r)>a?s-a:r-(o.translate(i.y,0,1,0,1)<=r?a:0))),i.barX=m,i.pointWidth=l,i.tooltipPos=t.inverted?[o.len-f,e.xAxis.len-m-g/2]:[m+g/2,f],g=ce(m+g)+u,m=ce(m)+u,g-=m,s=fe(v)<.5,n=ce(v+n)+h,v=ce(v)+h,n-=v,s&&(v-=1,n+=1),i.shapeType="rect",i.shapeArgs={x:m,y:v,width:g,height:n}})},getSymbol:Me,drawLegendSymbol:ze.drawRectangle,drawGraph:Me,drawPoints:function(){var e,i,n=this,o=this.chart,r=n.options,a=o.renderer,s=r.animationLimit||250;Ye(n.points,function(l){var c=l.plotY,u=l.graphic;c===O||isNaN(c)||null===l.y?u&&(l.graphic=u.destroy()):(e=l.shapeArgs,c=d(n.borderWidth)?{"stroke-width":n.borderWidth}:{},i=l.pointAttr[l.selected?"select":""]||n.pointAttr[""],u?(et(u),u.attr(c)[o.pointCount<s?"animate":"attr"](t(e))):l.graphic=a[l.shapeType](e).attr(i).attr(c).add(n.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(e){var t=this.yAxis,i=this.options,n=this.chart.inverted,o={};De&&(e?(o.scaleY=.001,e=pe(t.pos+t.len,he(t.pos,t.toPixels(i.threshold))),n?o.translateX=e-t.len:o.translateY=e,this.group.attr(o)):(o.scaleY=1,o[n?"translateX":"translateY"]=t.pos,this.group.animate(o,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Ye(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),bt.prototype.remove.apply(e,arguments)}}),je.column=lt,tt.bar=t(tt.column),_t=g(lt,{type:"bar",inverted:!0}),je.bar=_t,tt.scatter=t(He,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1}),_t=g(bt,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&bt.prototype.drawGraph.call(this)}}),je.scatter=_t,tt.pie=t(He,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),He={type:"pie",isCartesian:!1,pointClass:g(yt,{init:function(){yt.prototype.init.apply(this,arguments);var t,i=this;return i.y<0&&(i.y=null),e(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),t=function(e){i.slice("select"===e.type)},Xe(i,"select",t),Xe(i,"unselect",t),i},setVisible:function(e){var t=this,i=t.series,n=i.chart;t.visible=t.options.visible=e=e===O?!t.visible:e,i.options.data[We(t,i.data)]=t.options,Ye(["graphic","dataLabel","connector","shadowGroup"],function(i){t[i]&&t[i][e?"show":"hide"](!0)}),t.legendItem&&n.legend.colorizeItem(t,e),!i.isDirty&&i.options.ignoreHiddenPoint&&(i.isDirty=!0,n.redraw())},slice:function(e,t,i){var n=this.series;P(i,n.chart),p(t,!0),this.sliced=this.options.sliced=e=d(e)?e:!this.sliced,n.options.data[We(this,n.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Me,animate:function(e){var t=this,i=t.points,n=t.startAngleRad;e||(Ye(i,function(e){var i=e.graphic,e=e.shapeArgs;i&&(i.attr({r:t.center[3]/2,start:n,end:n}),i.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null)},setData:function(e,t,i,n){bt.prototype.setData.call(this,e,!1,i,n),this.processData(),this.generatePoints(),p(t,!0)&&this.chart.redraw(i)},generatePoints:function(){var e,t,i,n,o=0,r=this.options.ignoreHiddenPoint;for(bt.prototype.generatePoints.call(this),t=this.points,i=t.length,e=0;i>e;e++)n=t[e],o+=r&&!n.visible?0:n.y;for(this.total=o,e=0;i>e;e++)n=t[e],n.percentage=o>0?n.y/o*100:0,n.total=o},translate:function(e){this.generatePoints();var t,i,n,o,r,a=0,s=this.options,l=s.slicedOffset,c=l+s.borderWidth,d=s.startAngle||0,u=this.startAngleRad=ve/180*(d-90),d=(this.endAngleRad=ve/180*(p(s.endAngle,d+360)-90))-u,h=this.points,f=s.dataLabels.distance,s=s.ignoreHiddenPoint,m=h.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,i){return n=le.asin(pe((t-e[1])/(e[2]/2+f),1)),e[0]+(i?-1:1)*me(n)*(e[2]/2+f)},o=0;m>o;o++)r=h[o],t=u+a*d,(!s||r.visible)&&(a+=r.percentage/100),i=u+a*d,r.shapeType="arc",r.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:ce(1e3*t)/1e3,end:ce(1e3*i)/1e3},n=(i+t)/2,n>1.5*ve?n-=2*ve:-ve/2>n&&(n+=2*ve),r.slicedTranslation={translateX:ce(me(n)*l),translateY:ce(ge(n)*l)},t=me(n)*e[2]/2,i=ge(n)*e[2]/2,r.tooltipPos=[e[0]+.7*t,e[1]+.7*i],r.half=-ve/2>n||n>ve/2?1:0,r.angle=n,c=pe(c,f/2),r.labelPos=[e[0]+t+me(n)*f,e[1]+i+ge(n)*f,e[0]+t+me(n)*c,e[1]+i+ge(n)*c,e[0]+t,e[1]+i,0>f?"center":r.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,i,n,o,r=this,a=r.chart.renderer,s=r.options.shadow;s&&!r.shadowGroup&&(r.shadowGroup=a.g("shadow").add(r.group)),Ye(r.points,function(l){i=l.graphic,o=l.shapeArgs,n=l.shadowGroup,s&&!n&&(n=l.shadowGroup=a.g("shadow").add(r.shadowGroup)),t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(t),i?i.animate(e(o,t)):l.graphic=i=a[l.shapeType](o).setRadialReference(r.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(t).add(r.group).shadow(s,n),void 0!==l.visible&&l.setVisible(l.visible)})},sortByAngle:function(e,t){e.sort(function(e,i){return void 0!==e.angle&&(i.angle-e.angle)*t})},drawLegendSymbol:ze.drawRectangle,getCenter:st.getCenter,getSymbol:Me},He=g(bt,He),je.pie=He,bt.prototype.drawDataLabels=function(){var i,n,o,r,a=this,s=a.options,l=s.cursor,c=s.dataLabels,u=a.points;(c.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(c),r=a.plotGroup("dataLabelsGroup","data-labels",c.defer?"hidden":"visible",c.zIndex||6),!a.hasRendered&&p(c.defer,!0)&&(r.attr({opacity:0}),Xe(a,"afterAnimate",function(){a.visible&&r.show(),r[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=c,Ye(u,function(s){var u,h,f,m=s.dataLabel,g=s.connector,v=!0;if(i=s.options&&s.options.dataLabels,u=p(i&&i.enabled,n.enabled),m&&!u)s.dataLabel=m.destroy();else if(u){if(c=t(n,i),u=c.rotation,h=s.getLabelConfig(),o=c.format?_(c.format,h):c.formatter.call(h,c),c.style.color=p(c.color,c.style.color,a.color,"black"),m)d(o)?(m.attr({text:o}),v=!1):(s.dataLabel=m=m.destroy(),g&&(s.connector=g.destroy()));else if(d(o)){m={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:u,padding:c.padding,zIndex:1};for(f in m)m[f]===O&&delete m[f];m=s.dataLabel=a.chart.renderer[u?"text":"label"](o,0,-999,null,null,null,c.useHTML).attr(m).css(e(c.style,l&&{cursor:l})).add(r).shadow(c.shadow)}m&&a.alignDataLabel(s,m,c,null,v)}}))},bt.prototype.alignDataLabel=function(t,i,n,o,r){var a=this.chart,s=a.inverted,l=p(t.plotX,-999),c=p(t.plotY,-999),d=i.getBBox();(t=this.visible&&(t.series.forceDL||a.isInsidePlot(l,ce(c),s)||o&&a.isInsidePlot(l,s?o.x+1:o.y+o.height-1,s)))&&(o=e({x:s?a.plotWidth-c:l,y:ce(s?a.plotHeight-l:c),width:0,height:0},o),e(n,{width:d.width,height:d.height}),n.rotation?i[r?"attr":"animate"]({x:o.x+n.x+o.width/2,y:o.y+n.y+o.height/2}).attr({align:n.align}):(i.align(n,null,o),s=i.alignAttr,"justify"===p(n.overflow,"justify")?this.justifyDataLabel(i,n,s,d,o,r):p(n.crop,!0)&&(t=a.isInsidePlot(s.x,s.y)&&a.isInsidePlot(s.x+d.width,s.y+d.height)))),t||(i.attr({y:-999}),i.placed=!1)},bt.prototype.justifyDataLabel=function(e,t,i,n,o,r){var a,s,l=this.chart,c=t.align,d=t.verticalAlign;a=i.x,0>a&&("right"===c?t.align="left":t.x=-a,s=!0),a=i.x+n.width,a>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-a,s=!0),a=i.y,0>a&&("bottom"===d?t.verticalAlign="top":t.y=-a,s=!0),a=i.y+n.height,a>l.plotHeight&&("top"===d?t.verticalAlign="bottom":t.y=l.plotHeight-a,s=!0),s&&(e.placed=!r,e.align(t,null,o))},je.pie&&(je.pie.prototype.drawDataLabels=function(){var e,t,i,n,o,r,a,s,l,c,d,u=this,h=u.data,f=u.chart,m=u.options.dataLabels,g=p(m.connectorPadding,10),v=p(m.connectorWidth,1),y=f.plotWidth,b=f.plotHeight,_=p(m.softConnector,!0),w=m.distance,x=u.center,C=x[2]/2,k=x[1],T=w>0,D=[[],[]],A=[0,0,0,0],P=function(e,t){return t.y-e.y};if(u.visible&&(m.enabled||u._hasPointLabels)){for(bt.prototype.drawDataLabels.apply(u),Ye(h,function(e){e.dataLabel&&e.visible&&D[e.half].push(e)}),c=2;c--;){var E,I=[],M=[],L=D[c],$=L.length;if($){for(u.sortByAngle(L,c-.5),d=h=0;!h&&L[d];)h=L[d]&&L[d].dataLabel&&(L[d].dataLabel.getBBox().height||21),d++;if(w>0){for(o=pe(k+C+w,f.plotHeight),d=he(0,k-C-w);o>=d;d+=h)I.push(d);if(o=I.length,$>o){for(e=[].concat(L),e.sort(P),d=$;d--;)e[d].rank=d;for(d=$;d--;)L[d].rank>=o&&L.splice(d,1);$=L.length}for(d=0;$>d;d++){e=L[d],r=e.labelPos,e=9999;var F,O;for(O=0;o>O;O++)F=fe(I[O]-r[1]),e>F&&(e=F,E=O);if(d>E&&null!==I[d])E=d;else for($-d+E>o&&null!==I[d]&&(E=o-$+d);null===I[E];)E++;M.push({i:E,y:I[E]}),I[E]=null}M.sort(P)}for(d=0;$>d;d++)e=L[d],r=e.labelPos,n=e.dataLabel,l=e.visible===!1?"hidden":"visible",e=r[1],w>0?(o=M.pop(),E=o.i,s=o.y,(e>s&&null!==I[E+1]||s>e&&null!==I[E-1])&&(s=pe(he(0,e),f.plotHeight))):s=e,a=m.justify?x[0]+(c?-1:1)*(C+w):u.getX(s===k-C-w||s===k+C+w?e:s,c),n._attr={visibility:l,align:r[6]},n._pos={x:a+m.x+({left:g,right:-g}[r[6]]||0),y:s+m.y-10},n.connX=a,n.connY=s,null===this.options.size&&(o=n.width,g>a-o?A[3]=he(ce(o-a+g),A[3]):a+o>y-g&&(A[1]=he(ce(a+o-y+g),A[1])),0>s-h/2?A[0]=he(ce(-s+h/2),A[0]):s+h/2>b&&(A[2]=he(ce(s+h/2-b),A[2])))}}(0===S(A)||this.verifyDataLabelOverflow(A))&&(this.placeDataLabels(),T&&v&&Ye(this.points,function(e){t=e.connector,r=e.labelPos,(n=e.dataLabel)&&n._pos?(l=n._attr.visibility,a=n.connX,s=n.connY,i=_?["M",a+("left"===r[6]?5:-5),s,"C",a,s,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],"L",r[4],r[5]]:["M",a+("left"===r[6]?5:-5),s,"L",r[2],r[3],"L",r[4],r[5]],t?(t.animate({d:i}),t.attr("visibility",l)):e.connector=t=u.chart.renderer.path(i).attr({"stroke-width":v,stroke:m.connectorColor||e.color||"#606060",visibility:l}).add(u.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},je.pie.prototype.placeDataLabels=function(){Ye(this.points,function(e){var t,e=e.dataLabel;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},je.pie.prototype.alignDataLabel=Me,je.pie.prototype.verifyDataLabelOverflow=function(e){var t,i=this.center,n=this.options,o=n.center,r=n=n.minSize||80;return null!==o[0]?r=he(i[2]-he(e[1],e[3]),n):(r=he(i[2]-e[1]-e[3],n),i[0]+=(e[3]-e[1])/2),null!==o[1]?r=he(pe(r,i[2]-he(e[0],e[2])),n):(r=he(pe(r,i[2]-e[0]-e[2]),n),i[1]+=(e[0]-e[2])/2),r<i[2]?(i[2]=r,this.translate(i),Ye(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),je.column&&(je.column.prototype.alignDataLabel=function(e,i,n,o,r){var a=this.chart,s=a.inverted,l=e.dlBox||e.shapeArgs,c=e.below||e.plotY>p(this.translatedThreshold,a.plotSizeY),d=p(n.inside,!!this.options.stacking);l&&(o=t(l),s&&(o={x:a.plotWidth-o.y-o.height,y:a.plotHeight-o.x-o.width,width:o.height,height:o.width}),!d)&&(s?(o.x+=c?0:o.width,o.width=0):(o.y+=c?o.height:0,o.height=0)),n.align=p(n.align,!s||d?"center":c?"right":"left"),n.verticalAlign=p(n.verticalAlign,s||d?"middle":c?"top":"bottom"),bt.prototype.alignDataLabel.call(this,e,i,n,o,r)}),He=re.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,i=t.pointer,n=e.options.cursor,o=n&&{cursor:n},r=function(i){var n,o=i.target;for(t.hoverSeries!==e&&e.onMouseOver();o&&!n;)n=o.point,o=o.parentNode;n!==O&&n!==t.hoverPoint&&n.onMouseOver(i)};Ye(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Ye(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(e){i.onTrackerMouseOut(e)}).css(o),R)&&e[t].on("touchstart",r)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t=this,i=t.options,n=i.trackByArea,o=[].concat(n?t.areaPath:t.graphPath),r=o.length,a=t.chart,s=a.pointer,l=a.renderer,c=a.options.tooltip.snap,d=t.tracker,u=i.cursor,h=u&&{cursor:u},u=t.singlePoints,p=function(){a.hoverSeries!==t&&t.onMouseOver()},f="rgba(192,192,192,"+(De?1e-4:.002)+")";if(r&&!n)for(e=r+1;e--;)"M"===o[e]&&o.splice(e+1,0,o[e+1]-c,o[e+2],"L"),(e&&"M"===o[e]||e===r)&&o.splice(e,0,"L",o[e-2]+c,o[e-1]);for(e=0;e<u.length;e++)r=u[e],o.push("M",r.plotX-c,r.plotY,"L",r.plotX+c,r.plotY);d?d.attr({d:o}):(t.tracker=l.path(o).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:f,fill:n?f:Oe,"stroke-width":i.lineWidth+(n?0:2*c),zIndex:2}).add(t.group),Ye([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){s.onTrackerMouseOut(e)}).css(h),R&&e.on("touchstart",p)}))}},je.column&&(lt.prototype.drawTracker=He.drawTrackerPoint),je.pie&&(je.pie.prototype.drawTracker=He.drawTrackerPoint),je.scatter&&(_t.prototype.drawTracker=He.drawTrackerPoint),e(vt.prototype,{setItemEvents:function(e,t,i,n,o){var r=this;(i?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(r.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?n:o),e.setState()}).on("click",function(t){var i=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,i):Ke(e,"legendItemClick",t,i)})},createCheckboxForItem:function(e){e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Xe(e.checkbox,"click",function(t){Ke(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})}}),H.legend.itemStyle.cursor="pointer",e($.prototype,{showResetZoom:function(){var e=this,t=H.lang,i=e.options.chart.resetZoomButton,n=i.theme,o=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:t.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var e=this;Ke(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,i,n=this.pointer,r=!1;!e||e.resetSelection?Ye(this.axes,function(e){t=e.zoom()}):Ye(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,o=i.isXAxis;(n[o?"zoomX":"zoomY"]||n[o?"pinchX":"pinchY"])&&(t=i.zoom(e.min,e.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&o(i)&&(this.resetZoomButton=i.destroy()),t&&this.redraw(p(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var i,n=this,o=n.hoverPoints;o&&Ye(o,function(e){e.setState()}),Ye("xy"===t?[1,0]:[1],function(t){var o=e[t?"chartX":"chartY"],r=n[t?"xAxis":"yAxis"][0],a=n[t?"mouseDownX":"mouseDownY"],s=(r.pointRange||0)/2,l=r.getExtremes(),c=r.toValue(a-o,!0)+s,a=r.toValue(a+n[t?"plotWidth":"plotHeight"]-o,!0)-s;r.series.length&&c>pe(l.dataMin,l.min)&&a<he(l.dataMax,l.max)&&(r.setExtremes(c,a,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),f(n.container,{cursor:"move"})}}),e(yt.prototype,{select:function(e,t){var i=this,n=i.series,o=n.chart,e=p(e,!i.selected);i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=i.options.selected=e,n.options.data[We(i,n.data)]=i.options,i.setState(e&&"select"),t||Ye(o.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=e.options.selected=!1,n.options.data[We(e,n.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,i=t.chart,n=i.tooltip,o=i.hoverPoint;o&&o!==this&&o.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||t.noSharedTooltip)&&n.refresh(this,e),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==We(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,i=t(this.series.options.point,this.options).events;this.events=i;for(e in i)Xe(this,e,i[e]);this.hasImportedEvents=!0}},setState:function(i,n){var o,r=this.plotX,a=this.plotY,s=this.series,l=s.options.states,c=tt[s.type].marker&&s.options.marker,d=c&&!c.enabled,u=c&&c.states[i],h=u&&u.enabled===!1,p=s.stateMarkerGraphic,f=this.marker||{},m=s.chart,g=s.halo,i=i||"";o=this.pointAttr[i]||s.pointAttr[i],i===this.state&&!n||this.selected&&"select"!==i||l[i]&&l[i].enabled===!1||i&&(h||d&&u.enabled===!1)||i&&f.states&&f.states[i]&&f.states[i].enabled===!1||(this.graphic?(c=c&&this.graphic.symbolName&&o.r,this.graphic.attr(t(o,c?{x:r-c,y:a-c,width:2*c,height:2*c}:{})),p&&p.hide()):(i&&u&&(c=u.radius,f=f.symbol||s.symbol,p&&p.currentSymbol!==f&&(p=p.destroy()),p?p[n?"animate":"attr"]({x:r-c,y:a-c}):f&&(s.stateMarkerGraphic=p=m.renderer.symbol(f,r-c,a-c,2*c,2*c).attr(o).add(s.markerGroup),p.currentSymbol=f)),p&&p[i&&m.isInsidePlot(r,a,m.inverted)?"show":"hide"]()),(r=l[i]&&l[i].halo)&&r.size?(g||(s.halo=g=m.renderer.path().add(s.seriesGroup)),g.attr(e({fill:rt(this.color||s.color).setOpacity(r.opacity).get()},r.attributes))[n?"animate":"attr"]({d:this.haloPath(r.size)})):g&&g.attr({d:[]}),this.state=i)},haloPath:function(e){var t=this.series,i=t.chart,n=t.getPlotBox(),o=i.inverted;return i.renderer.symbols.circle(n.translateX+(o?t.yAxis.len-this.plotY:this.plotX)-e,n.translateY+(o?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}}),e(bt.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Ke(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,n=t.hoverPoint;n&&n.onMouseOut(),this&&e.events.mouseOut&&Ke(this,"mouseOut"),i&&!e.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),t.hoverSeries=null},setState:function(e){var t=this.options,i=this.graph,n=this.graphNeg,o=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,o[e]&&o[e].enabled===!1||(e&&(t=o[e].lineWidth||t+(o[e].lineWidthPlus||0)),i&&!i.dashstyle&&(e={"stroke-width":t},i.attr(e),n&&n.attr(e))))},setVisible:function(e,t){var i,n=this,o=n.chart,r=n.legendItem,a=o.options.chart.ignoreHiddenSeries,s=n.visible;i=(n.visible=e=n.userOptions.visible=e===O?!s:e)?"show":"hide",Ye(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][i]()}),o.hoverSeries===n&&n.onMouseOut(),r&&o.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&Ye(o.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Ye(n.linkedSeries,function(t){t.setVisible(e,!1)}),a&&(o.isDirtyBox=!0),t!==!1&&o.redraw(),Ke(n,i)},setTooltipPoints:function(e){var t,i,n,o,r=[],a=this.xAxis,s=a&&a.getExtremes(),l=a?a.tooltipLen||a.len:this.chart.plotSizeX,c=[];if(this.options.enableMouseTracking!==!1&&!this.singularTooltips){for(e&&(this.tooltipPoints=null),Ye(this.segments||this.points,function(e){
r=r.concat(e)}),a&&a.reversed&&(r=r.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(r),e=r.length,o=0;e>o;o++)if(a=r[o],t=a.x,t>=s.min&&t<=s.max)for(n=r[o+1],t=i===O?0:i+1,i=r[o+1]?pe(he(0,de((a.clientX+(n?n.wrappedClientX||n.clientX:l))/2)),l):l;t>=0&&i>=t;)c[t++]=a;this.tooltipPoints=c}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===O?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Ke(this,e?"select":"unselect")},drawTracker:He.drawTrackerGraph}),e(re,{Axis:L,Chart:$,Color:rt,Point:yt,Tick:M,Renderer:N,Series:bt,SVGElement:I,SVGRenderer:at,arrayMin:k,arrayMax:S,charts:Le,dateFormat:z,format:_,pathAnim:q,getOptions:function(){return H},hasBidiBug:Ae,isTouchDevice:Se,numberFormat:v,seriesTypes:je,setOptions:function(e){return H=t(!0,H,e),E(),H},addEvent:Xe,removeEvent:Qe,createElement:m,discardElement:D,css:f,each:Ye,extend:e,map:Ge,merge:t,pick:p,splat:h,extendClass:g,pInt:i,wrap:b,svg:De,canvas:Pe,vml:!De&&!Pe,product:"Highcharts",version:"4.0.3"})}(),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e){var t={init:function(t){return this.options=e.extend({},e.noty.defaults,t),this.options.layout=this.options.custom?e.noty.layouts.inline:e.noty.layouts[this.options.layout],e.noty.themes[this.options.theme]?this.options.theme=e.noty.themes[this.options.theme]:t.themeClassName=this.options.theme,delete t.layout,delete t.theme,this.options=e.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this.options=e.extend({},this.options,t),this._build(),this},_build:function(){var t=e('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(t.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?e(this.options.layout.parent.object).css(this.options.layout.parent.css).append(t):t,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var i=e("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(i):this.$bar.append(i);var n=this;e.each(this.options.buttons,function(t,i){var o=e("<button/>").addClass(i.addClass?i.addClass:"gray").html(i.text).attr("id",i.id?i.id:"button-"+t).appendTo(n.$bar.find(".noty_buttons")).bind("click",function(){e.isFunction(i.onClick)&&i.onClick.call(o,n)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),e.noty.store[this.options.id]=this},show:function(){var t=this;return t.options.custom?t.options.custom.find(t.options.layout.container.selector).append(t.$bar):e(t.options.layout.container.selector).append(t.$bar),t.options.theme&&t.options.theme.style&&t.options.theme.style.apply(t),"function"===e.type(t.options.layout.css)?this.options.layout.css.apply(t.$bar):t.$bar.css(this.options.layout.css||{}),t.$bar.addClass(t.options.layout.addClass),t.options.layout.container.style.apply(e(t.options.layout.container.selector)),t.showing=!0,t.options.theme&&t.options.theme.style&&t.options.theme.callback.onShow.apply(this),e.inArray("click",t.options.closeWith)>-1&&t.$bar.css("cursor","pointer").one("click",function(e){t.stopPropagation(e),t.options.callback.onCloseClick&&t.options.callback.onCloseClick.apply(t),t.close()}),e.inArray("hover",t.options.closeWith)>-1&&t.$bar.one("mouseenter",function(){t.close()}),e.inArray("button",t.options.closeWith)>-1&&t.$closeButton.one("click",function(e){t.stopPropagation(e),t.close()}),-1==e.inArray("button",t.options.closeWith)&&t.$closeButton.remove(),t.options.callback.onShow&&t.options.callback.onShow.apply(t),t.$bar.animate(t.options.animation.open,t.options.animation.speed,t.options.animation.easing,function(){t.options.callback.afterShow&&t.options.callback.afterShow.apply(t),t.showing=!1,t.shown=!0}),t.options.timeout&&t.$bar.delay(t.options.timeout).promise().done(function(){t.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var t=this;if(this.showing)return void t.$bar.queue(function(){t.close.apply(t)});if(!this.shown&&!this.showing){var i=[];return e.each(e.noty.queue,function(e,n){n.options.id!=t.options.id&&i.push(n)}),void(e.noty.queue=i)}t.$bar.addClass("i-am-closing-now"),t.options.callback.onClose&&t.options.callback.onClose.apply(t),t.$bar.clearQueue().stop().animate(t.options.animation.close,t.options.animation.speed,t.options.animation.easing,function(){t.options.callback.afterClose&&t.options.callback.afterClose.apply(t)}).promise().done(function(){t.options.modal&&(e.notyRenderer.setModalCount(-1),0==e.notyRenderer.getModalCount()&&e(".noty_modal").fadeOut("fast",function(){e(this).remove()})),e.notyRenderer.setLayoutCountFor(t,-1),0==e.notyRenderer.getLayoutCountFor(t)&&e(t.options.layout.container.selector).remove(),"undefined"!=typeof t.$bar&&null!==t.$bar&&(t.$bar.remove(),t.$bar=null,t.closed=!0),delete e.noty.store[t.options.id],t.options.theme.callback&&t.options.theme.callback.onClose&&t.options.theme.callback.onClose.apply(t),t.options.dismissQueue||(e.noty.ontap=!0,e.notyRenderer.render()),t.options.maxVisible>0&&t.options.dismissQueue&&e.notyRenderer.render()})}},setText:function(e){return this.closed||(this.options.text=e,this.$bar.find(".noty_text").html(e)),this},setType:function(e){return this.closed||(this.options.type=e,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(e){if(!this.closed){var t=this;this.options.timeout=e,t.$bar.delay(t.options.timeout).promise().done(function(){t.close()})}return this},stopPropagation:function(e){e=e||window.event,"undefined"!=typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},closed:!1,showing:!1,shown:!1};e.notyRenderer={},e.notyRenderer.init=function(i){var n=Object.create(t).init(i);return n.options.killer&&e.noty.closeAll(),n.options.force?e.noty.queue.unshift(n):e.noty.queue.push(n),e.notyRenderer.render(),"object"==e.noty.returns?n:n.options.id},e.notyRenderer.render=function(){var t=e.noty.queue[0];"object"===e.type(t)?t.options.dismissQueue?t.options.maxVisible>0?e(t.options.layout.container.selector+" li").length<t.options.maxVisible&&e.notyRenderer.show(e.noty.queue.shift()):e.notyRenderer.show(e.noty.queue.shift()):e.noty.ontap&&(e.notyRenderer.show(e.noty.queue.shift()),e.noty.ontap=!1):e.noty.ontap=!0},e.notyRenderer.show=function(t){t.options.modal&&(e.notyRenderer.createModalFor(t),e.notyRenderer.setModalCount(1)),t.options.custom?0==t.options.custom.find(t.options.layout.container.selector).length?t.options.custom.append(e(t.options.layout.container.object).addClass("i-am-new")):t.options.custom.find(t.options.layout.container.selector).removeClass("i-am-new"):0==e(t.options.layout.container.selector).length?e("body").append(e(t.options.layout.container.object).addClass("i-am-new")):e(t.options.layout.container.selector).removeClass("i-am-new"),e.notyRenderer.setLayoutCountFor(t,1),t.show()},e.notyRenderer.createModalFor=function(t){if(0==e(".noty_modal").length){var i=e("<div/>").addClass("noty_modal").addClass(t.options.theme).data("noty_modal_count",0);t.options.theme.modal&&t.options.theme.modal.css&&i.css(t.options.theme.modal.css),i.prependTo(e("body")).fadeIn("fast")}},e.notyRenderer.getLayoutCountFor=function(t){return e(t.options.layout.container.selector).data("noty_layout_count")||0},e.notyRenderer.setLayoutCountFor=function(t,i){return e(t.options.layout.container.selector).data("noty_layout_count",e.notyRenderer.getLayoutCountFor(t)+i)},e.notyRenderer.getModalCount=function(){return e(".noty_modal").data("noty_modal_count")||0},e.notyRenderer.setModalCount=function(t){return e(".noty_modal").data("noty_modal_count",e.notyRenderer.getModalCount()+t)},e.fn.noty=function(t){return t.custom=e(this),e.notyRenderer.init(t)},e.noty={},e.noty.queue=[],e.noty.ontap=!0,e.noty.layouts={},e.noty.themes={},e.noty.returns="object",e.noty.store={},e.noty.get=function(t){return e.noty.store.hasOwnProperty(t)?e.noty.store[t]:!1},e.noty.close=function(t){return e.noty.get(t)?e.noty.get(t).close():!1},e.noty.setText=function(t,i){return e.noty.get(t)?e.noty.get(t).setText(i):!1},e.noty.setType=function(t,i){return e.noty.get(t)?e.noty.get(t).setType(i):!1},e.noty.clearQueue=function(){e.noty.queue=[]},e.noty.closeAll=function(){e.noty.clearQueue(),e.each(e.noty.store,function(e,t){t.close()})};var i=window.alert;e.noty.consumeAlert=function(t){window.alert=function(i){t?t.text=i:t={text:i},e.notyRenderer.init(t)}},e.noty.stopConsumeAlert=function(){window.alert=i},e.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},e(window).resize(function(){e.each(e.noty.layouts,function(t,i){i.container.style.apply(e(i.container.selector))})})}(jQuery),window.noty=function(e){return jQuery.notyRenderer.init(e)},function(e){e.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){e(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(e){e.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){e(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){e(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){e(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){e(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var i=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px",top:(e(window).height()-i)/2+"px"}):e(this).animate({left:(e(window).width()-e(this).outerWidth(!1))/2+"px",top:(e(window).height()-i)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){e(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var i=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({top:(e(window).height()-i)/2+"px"}):e(this).animate({top:(e(window).height()-i)/2+"px"},500),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){e(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var i=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({top:(e(window).height()-i)/2+"px"}):e(this).animate({top:(e(window).height()-i)/2+"px"},500),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){e(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(e){e.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){e(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(e){e.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){e(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){e(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){e(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var t=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),e(t).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZJREFUeNq81tsOgjAMANB2ov7/7ypaN7IlIwi9rGuT8QSc9EIDAsAznxvY4pXPKr05RUE5MEVB+TyWfCEl9LZApYopCmo9C4FKSMtYoI8Bwv79aQJU4l6hXXCZrQbokJEksxHo9KMOgc6w1atHXM8K9DVC7FQnJ0i8iK3QooGgbnyKgMDygBWyYFZoqx4qS27KqLZJjA1D0jK6QJcYEQEiWv9PGkTsbqxQ8oT+ZtZB6AkdsJnQDnMoHXHLGKOgDYuCWmYhEERCI5gaamW0bnHdA3k2ltlIN+2qKRyCND0bhqSYCyTB3CAOc4WusBEIpkeBuPgJMAAX8Hs1NfqHRgAAAABJRU5ErkJggg==') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.bind({mouseenter:function(){e(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){e(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){e.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){e.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}}}(jQuery),!function(e,t,i){"use strict";!function n(e,t,i){function o(a,s){if(!t[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(t){var i=e[a][1][t];return o(i?i:t)},d,d.exports,n,e,t,i)}return t[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(n){var o,r,a,s,l=function(e){return e&&e.__esModule?e:{"default":e}},c=n("./modules/handle-dom"),d=n("./modules/utils"),u=n("./modules/handle-swal-dom"),h=n("./modules/handle-click"),p=n("./modules/handle-key"),f=l(p),m=n("./modules/default-params"),g=l(m),v=n("./modules/set-params"),y=l(v);a=s=function(){function n(e){var t=a;return t[e]===i?g["default"][e]:t[e]}var a=arguments[0];if(c.addClass(t.body,"stop-scrolling"),u.resetInput(),a===i)return d.logStr("SweetAlert expects at least 1 attribute!"),!1;var l=d.extend({},g["default"]);switch(typeof a){case"string":l.title=a,l.text=arguments[1]||"",l.type=arguments[2]||"";break;case"object":if(a.title===i)return d.logStr('Missing "title" argument!'),!1;l.title=a.title;for(var p in g["default"])l[p]=n(p);l.confirmButtonText=l.showCancelButton?"Confirm":g["default"].confirmButtonText,l.confirmButtonText=n("confirmButtonText"),l.doneFunction=arguments[1]||null;break;default:return d.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof a),!1}y["default"](l),u.fixVerticalPosition(),u.openModal(arguments[1]);for(var m=u.getModal(),v=m.querySelectorAll("button"),b=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],_=function(e){return h.handleButton(e,l,m)},w=0;w<v.length;w++)for(var x=0;x<b.length;x++){var C=b[x];v[w][C]=_}u.getOverlay().onclick=_,o=e.onkeydown;var k=function(e){return f["default"](e,l,m)};e.onkeydown=k,e.onfocus=function(){setTimeout(function(){r!==i&&(r.focus(),r=i)},0)},s.enableButtons()},a.setDefaults=s.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");d.extend(g["default"],e)},a.close=s.close=function(){var n=u.getModal();c.fadeOut(u.getOverlay(),5),c.fadeOut(n,5),c.removeClass(n,"showSweetAlert"),c.addClass(n,"hideSweetAlert"),c.removeClass(n,"visible");var a=n.querySelector(".sa-icon.sa-success");c.removeClass(a,"animate"),c.removeClass(a.querySelector(".sa-tip"),"animateSuccessTip"),c.removeClass(a.querySelector(".sa-long"),"animateSuccessLong");var s=n.querySelector(".sa-icon.sa-error");c.removeClass(s,"animateErrorIcon"),c.removeClass(s.querySelector(".sa-x-mark"),"animateXMark");var l=n.querySelector(".sa-icon.sa-warning");return c.removeClass(l,"pulseWarning"),c.removeClass(l.querySelector(".sa-body"),"pulseWarningIns"),c.removeClass(l.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=n.getAttribute("data-custom-class");c.removeClass(n,e)},300),c.removeClass(t.body,"stop-scrolling"),e.onkeydown=o,e.previousActiveElement&&e.previousActiveElement.focus(),r=i,clearTimeout(n.timeout),!0},a.showInputError=s.showInputError=function(e){var t=u.getModal(),i=t.querySelector(".sa-input-error");c.addClass(i,"show");var n=t.querySelector(".sa-error-container");c.addClass(n,"show"),n.querySelector("p").innerHTML=e,setTimeout(function(){a.enableButtons()},1),t.querySelector("input").focus()},a.resetInputError=s.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=u.getModal(),i=t.querySelector(".sa-input-error");c.removeClass(i,"show");var n=t.querySelector(".sa-error-container");c.removeClass(n,"show")},a.disableButtons=s.disableButtons=function(){var e=u.getModal(),t=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");t.disabled=!0,i.disabled=!0},a.enableButtons=s.enableButtons=function(){var e=u.getModal(),t=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");t.disabled=!1,i.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=a:d.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};i["default"]=n,t.exports=i["default"]},{}],3:[function(t,i,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("./utils"),r=(t("./handle-swal-dom"),t("./handle-dom")),a=function(t,i,n){function a(e){f&&i.confirmButtonColor&&(p.style.backgroundColor=e)}var c,d,u,h=t||e.event,p=h.target||h.srcElement,f=-1!==p.className.indexOf("confirm"),m=-1!==p.className.indexOf("sweet-overlay"),g=r.hasClass(n,"visible"),v=i.doneFunction&&"true"===n.getAttribute("data-has-done-function");switch(f&&i.confirmButtonColor&&(c=i.confirmButtonColor,d=o.colorLuminance(c,-.04),u=o.colorLuminance(c,-.14)),h.type){case"mouseover":a(d);break;case"mouseout":a(c);break;case"mousedown":a(u);break;case"mouseup":a(d);break;case"focus":var y=n.querySelector("button.confirm"),b=n.querySelector("button.cancel");f?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var _=n===p,w=r.isDescendant(n,p);if(!_&&!w&&g&&!i.allowOutsideClick)break;f&&v&&g?s(n,i):v&&g||m?l(n,i):r.isDescendant(n,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},s=function(e,t){var i=!0;r.hasClass(e,"show-input")&&(i=e.querySelector("input").value,i||(i="")),t.doneFunction(i),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var i=String(t.doneFunction).replace(/\s/g,""),n="function("===i.substring(0,9)&&")"!==i.substring(9,10);n&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};n["default"]={handleButton:a,handleConfirm:s,handleCancel:l},i.exports=n["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(i,n,o){Object.defineProperty(o,"__esModule",{value:!0});var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},a=function(e,t){r(e,t)||(e.className+=" "+t)},s=function(e,t){var i=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}},l=function(e){var i=t.createElement("div");return i.appendChild(t.createTextNode(e)),i.innerHTML},c=function(e){e.style.opacity="",e.style.display="block"},d=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},u=function(e){e.style.opacity="",e.style.display="none"},h=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},p=function(e,t){for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1},f=function(e){e.style.left="-9999px",e.style.display="block";var t,i=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((i+t)/2)+"px"},m=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var i=+new Date,n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-i)/100,i=+new Date,+e.style.opacity<1&&setTimeout(n,t)});n()}e.style.display="block"},g=function(e,t){t=t||16,e.style.opacity=1;var i=+new Date,n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-i)/100,i=+new Date,+e.style.opacity>0?setTimeout(n,t):e.style.display="none"});n()},v=function(i){if("function"==typeof MouseEvent){var n=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}else if(t.createEvent){var o=t.createEvent("MouseEvents");
o.initEvent("click",!1,!1),i.dispatchEvent(o)}else t.createEventObject?i.fireEvent("onclick"):"function"==typeof i.onclick&&i.onclick()},y=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};o.hasClass=r,o.addClass=a,o.removeClass=s,o.escapeHtml=l,o._show=c,o.show=d,o._hide=u,o.hide=h,o.isDescendant=p,o.getTopMargin=f,o.fadeIn=m,o.fadeOut=g,o.fireClick=v,o.stopEventPropagation=y},{}],5:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var r=t("./handle-dom"),a=t("./handle-swal-dom"),s=function(t,n,o){var s=t||e.event,l=s.keyCode||s.which,c=o.querySelector("button.confirm"),d=o.querySelector("button.cancel"),u=o.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=s.target||s.srcElement,p=-1,f=0;f<u.length;f++)if(h===u[f]){p=f;break}9===l?(h=-1===p?c:p===u.length-1?u[0]:u[p+1],r.stopEventPropagation(s),h.focus(),n.confirmButtonColor&&a.setFocusStyle(h,n.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=c,c.focus()),h=-1===p?c:i):27===l&&n.allowEscapeKey===!0?(h=d,r.fireClick(h,s)):h=i}};o["default"]=s,n.exports=o["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(i,n,o){var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(o,"__esModule",{value:!0});var a=i("./utils"),s=i("./handle-dom"),l=i("./default-params"),c=r(l),d=i("./injected-html"),u=r(d),h=".sweet-alert",p=".sweet-overlay",f=function(){var e=t.createElement("div");for(e.innerHTML=u["default"];e.firstChild;)t.body.appendChild(e.firstChild)},m=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(h);return e||(f(),e=m()),e}),g=function(){var e=m();return e?e.querySelector("input"):void 0},v=function(){return t.querySelector(p)},y=function(e,t){var i=a.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+i+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(i){var n=m();s.fadeIn(v(),10),s.show(n),s.addClass(n,"showSweetAlert"),s.removeClass(n,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var o=n.querySelector("button.confirm");o.focus(),setTimeout(function(){s.addClass(n,"visible")},500);var r=n.getAttribute("data-timer");if("null"!==r&&""!==r){var a=i;n.timeout=setTimeout(function(){var e=(a||null)&&"true"===n.getAttribute("data-has-done-function");e?a(null):sweetAlert.close()},r)}},_=function(){var e=m(),t=g();s.removeClass(e,"show-input"),t.value=c["default"].inputValue,t.setAttribute("type",c["default"].inputType),t.setAttribute("placeholder",c["default"].inputPlaceholder),w()},w=function(e){if(e&&13===e.keyCode)return!1;var t=m(),i=t.querySelector(".sa-input-error");s.removeClass(i,"show");var n=t.querySelector(".sa-error-container");s.removeClass(n,"show")},x=function(){var e=m();e.style.marginTop=s.getTopMargin(m())};o.sweetAlertInitialize=f,o.getModal=m,o.getOverlay=v,o.getInput=g,o.setFocusStyle=y,o.openModal=b,o.resetInput=_,o.resetInputError=w,o.fixVerticalPosition=x},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';i["default"]=n,t.exports=i["default"]},{}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("./utils"),r=e("./handle-swal-dom"),a=e("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(e){var t=r.getModal(),n=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),d=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:a.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:a.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&a.show(l),e.customClass)a.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var u=t.getAttribute("data-custom-class");a.removeClass(t,u),t.setAttribute("data-custom-class","")}if(a.hide(t.querySelectorAll(".sa-icon")),e.type&&!o.isIE8()){var h=function(){for(var n=!1,o=0;o<s.length;o++)if(e.type===s[o]){n=!0;break}if(!n)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],c=i;-1!==l.indexOf(e.type)&&(c=t.querySelector(".sa-icon.sa-"+e.type),a.show(c));var d=r.getInput();switch(e.type){case"success":a.addClass(c,"animate"),a.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),a.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":a.addClass(c,"animateErrorIcon"),a.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":a.addClass(c,"pulseWarning"),a.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),a.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":d.setAttribute("type",e.inputType),d.value=e.inputValue,d.setAttribute("placeholder",e.inputPlaceholder),a.addClass(t,"show-input"),setTimeout(function(){d.focus(),d.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var p=t.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+e.imageUrl+")",a.show(p);var f=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],y=g[1];v&&y?(f=v,m=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+f+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":a.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?d.style.display="inline-block":a.hide(d),e.cancelButtonText&&(c.innerHTML=a.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(d.innerHTML=a.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(d.style.backgroundColor=e.confirmButtonColor,d.style.borderLeftColor=e.confirmLoadingButtonColor,d.style.borderRightColor=e.confirmLoadingButtonColor,r.setFocusStyle(d,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=e.doneFunction?!0:!1;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};n["default"]=l,t.exports=n["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,i,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},a=function(){return e.attachEvent&&!e.addEventListener},s=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var i,n,o="#";for(n=0;3>n;n++)i=parseInt(e.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),o+=("00"+i).substr(i.length);return o};n.extend=o,n.hexToRgb=r,n.isIE8=a,n.logStr=s,n.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document);var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,i){return i.contentWindow.postMessage?(e=JSON.stringify({method:e,value:t}),void i.contentWindow.postMessage(e,a)):!1}function i(e){var t,i;try{t=JSON.parse(e.data),i=t.event||t.method}catch(n){}if("ready"!=i||r||(r=!0),!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;"*"===a&&(a=e.origin),e=t.value;var s=t.data,l=""===l?null:t.player_id;return t=l?o[l][i]:o[i],i=[],t?(void 0!==e&&i.push(e),s&&i.push(s),l&&i.push(l),0<i.length?t.apply(null,i):t.call()):!1}function n(e,t,i){i?(o[i]||(o[i]={}),o[i][e]=t):o[e]=t}var o={},r=!1,a="*";return e.fn=e.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,this},api:function(e,i){if(!this.element||!e)return!1;var o=this.element,r=""!==o.id?o.id:null,a=i&&i.constructor&&i.call&&i.apply?null:i,s=i&&i.constructor&&i.call&&i.apply?i:null;return s&&n(e,s,r),t(e,a,o),this},addEvent:function(e,i){if(!this.element)return!1;var o=this.element,a=""!==o.id?o.id:null;return n(e,i,a),"ready"!=e?t("addEventListener",e,o):"ready"==e&&r&&i.call(null,a),this},removeEvent:function(e){if(!this.element)return!1;var i=this.element,n=""!==i.id?i.id:null;e:{if(n&&o[n]){if(!o[n][e]){n=!1;break e}o[n][e]=null}else{if(!o[e]){n=!1;break e}o[e]=null}n=!0}"ready"!=e&&n&&t("removeEventListener",e,i)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i),window.Froogaloop=window.$f=e}();!function(){function e(e,t){var a=e[0],s=e[1],l=e[2],c=e[3];a=i(a,s,l,c,t[0],7,-680876936),c=i(c,a,s,l,t[1],12,-389564586),l=i(l,c,a,s,t[2],17,606105819),s=i(s,l,c,a,t[3],22,-1044525330),a=i(a,s,l,c,t[4],7,-176418897),c=i(c,a,s,l,t[5],12,1200080426),l=i(l,c,a,s,t[6],17,-1473231341),s=i(s,l,c,a,t[7],22,-45705983),a=i(a,s,l,c,t[8],7,1770035416),c=i(c,a,s,l,t[9],12,-1958414417),l=i(l,c,a,s,t[10],17,-42063),s=i(s,l,c,a,t[11],22,-1990404162),a=i(a,s,l,c,t[12],7,1804603682),c=i(c,a,s,l,t[13],12,-40341101),l=i(l,c,a,s,t[14],17,-1502002290),s=i(s,l,c,a,t[15],22,1236535329),a=n(a,s,l,c,t[1],5,-165796510),c=n(c,a,s,l,t[6],9,-1069501632),l=n(l,c,a,s,t[11],14,643717713),s=n(s,l,c,a,t[0],20,-373897302),a=n(a,s,l,c,t[5],5,-701558691),c=n(c,a,s,l,t[10],9,38016083),l=n(l,c,a,s,t[15],14,-660478335),s=n(s,l,c,a,t[4],20,-405537848),a=n(a,s,l,c,t[9],5,568446438),c=n(c,a,s,l,t[14],9,-1019803690),l=n(l,c,a,s,t[3],14,-187363961),s=n(s,l,c,a,t[8],20,1163531501),a=n(a,s,l,c,t[13],5,-1444681467),c=n(c,a,s,l,t[2],9,-51403784),l=n(l,c,a,s,t[7],14,1735328473),s=n(s,l,c,a,t[12],20,-1926607734),a=o(a,s,l,c,t[5],4,-378558),c=o(c,a,s,l,t[8],11,-2022574463),l=o(l,c,a,s,t[11],16,1839030562),s=o(s,l,c,a,t[14],23,-35309556),a=o(a,s,l,c,t[1],4,-1530992060),c=o(c,a,s,l,t[4],11,1272893353),l=o(l,c,a,s,t[7],16,-155497632),s=o(s,l,c,a,t[10],23,-1094730640),a=o(a,s,l,c,t[13],4,681279174),c=o(c,a,s,l,t[0],11,-358537222),l=o(l,c,a,s,t[3],16,-722521979),s=o(s,l,c,a,t[6],23,76029189),a=o(a,s,l,c,t[9],4,-640364487),c=o(c,a,s,l,t[12],11,-421815835),l=o(l,c,a,s,t[15],16,530742520),s=o(s,l,c,a,t[2],23,-995338651),a=r(a,s,l,c,t[0],6,-198630844),c=r(c,a,s,l,t[7],10,1126891415),l=r(l,c,a,s,t[14],15,-1416354905),s=r(s,l,c,a,t[5],21,-57434055),a=r(a,s,l,c,t[12],6,1700485571),c=r(c,a,s,l,t[3],10,-1894986606),l=r(l,c,a,s,t[10],15,-1051523),s=r(s,l,c,a,t[1],21,-2054922799),a=r(a,s,l,c,t[8],6,1873313359),c=r(c,a,s,l,t[15],10,-30611744),l=r(l,c,a,s,t[6],15,-1560198380),s=r(s,l,c,a,t[13],21,1309151649),a=r(a,s,l,c,t[4],6,-145523070),c=r(c,a,s,l,t[11],10,-1120210379),l=r(l,c,a,s,t[2],15,718787259),s=r(s,l,c,a,t[9],21,-343485551),e[0]=d(a,e[0]),e[1]=d(s,e[1]),e[2]=d(l,e[2]),e[3]=d(c,e[3])}function t(e,t,i,n,o,r){return t=d(d(t,e),d(n,r)),d(t<<o|t>>>32-o,i)}function i(e,i,n,o,r,a,s){return t(i&n|~i&o,e,i,r,a,s)}function n(e,i,n,o,r,a,s){return t(i&o|n&~o,e,i,r,a,s)}function o(e,i,n,o,r,a,s){return t(i^n^o,e,i,r,a,s)}function r(e,i,n,o,r,a,s){return t(n^(i|~o),e,i,r,a,s)}function a(t){/[\x80-\xFF]/.test(t)&&(t=unescape(encodeURI(t))),txt="";var i,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=t.length;i+=64)e(o,s(t.substring(i-64,i)));t=t.substring(i-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)r[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(r[i>>2]|=128<<(i%4<<3),i>55)for(e(o,r),i=0;16>i;i++)r[i]=0;return r[14]=8*n,e(o,r),o}function s(e){var t,i=[];for(t=0;64>t;t+=4)i[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return i}function l(e){for(var t="",i=0;4>i;i++)t+=u[e>>8*i+4&15]+u[e>>8*i&15];return t}function c(e){for(var t=0;t<e.length;t++)e[t]=l(e[t]);return e.join("")}function d(e,t){return e+t&4294967295}function d(e,t){var i=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(i>>16);return n<<16|65535&i}var u="0123456789abcdef".split("");md5=function(e){return c(a(e))},"5d41402abc4b2a76b9719d911017c592"!=md5("hello")}(),function(){var e=this,t=e._,i=Array.prototype,n=Object.prototype,o=Function.prototype,r=i.push,a=i.slice,s=i.concat,l=n.toString,c=n.hasOwnProperty,d=Array.isArray,u=Object.keys,h=o.bind,p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):e._=p,p.VERSION="1.7.0";var f=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,r){return e.call(t,i,n,o,r)}}return function(){return e.apply(t,arguments)}};p.iteratee=function(e,t,i){return null==e?p.identity:p.isFunction(e)?f(e,t,i):p.isObject(e)?p.matches(e):p.property(e)},p.each=p.forEach=function(e,t,i){if(null==e)return e;t=f(t,i);var n,o=e.length;if(o===+o)for(n=0;o>n;n++)t(e[n],n,e);else{var r=p.keys(e);for(n=0,o=r.length;o>n;n++)t(e[r[n]],r[n],e)}return e},p.map=p.collect=function(e,t,i){if(null==e)return[];t=p.iteratee(t,i);for(var n,o=e.length!==+e.length&&p.keys(e),r=(o||e).length,a=Array(r),s=0;r>s;s++)n=o?o[s]:s,a[s]=t(e[n],n,e);return a};var m="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(e,t,i,n){null==e&&(e=[]),t=f(t,n,4);var o,r=e.length!==+e.length&&p.keys(e),a=(r||e).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(m);i=e[r?r[s++]:s++]}for(;a>s;s++)o=r?r[s]:s,i=t(i,e[o],o,e);return i},p.reduceRight=p.foldr=function(e,t,i,n){null==e&&(e=[]),t=f(t,n,4);var o,r=e.length!==+e.length&&p.keys(e),a=(r||e).length;if(arguments.length<3){if(!a)throw new TypeError(m);i=e[r?r[--a]:--a]}for(;a--;)o=r?r[a]:a,i=t(i,e[o],o,e);return i},p.find=p.detect=function(e,t,i){var n;return t=p.iteratee(t,i),p.some(e,function(e,i,o){return t(e,i,o)?(n=e,!0):void 0}),n},p.filter=p.select=function(e,t,i){var n=[];return null==e?n:(t=p.iteratee(t,i),p.each(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n)},p.reject=function(e,t,i){return p.filter(e,p.negate(p.iteratee(t)),i)},p.every=p.all=function(e,t,i){if(null==e)return!0;t=p.iteratee(t,i);var n,o,r=e.length!==+e.length&&p.keys(e),a=(r||e).length;for(n=0;a>n;n++)if(o=r?r[n]:n,!t(e[o],o,e))return!1;return!0},p.some=p.any=function(e,t,i){if(null==e)return!1;t=p.iteratee(t,i);var n,o,r=e.length!==+e.length&&p.keys(e),a=(r||e).length;for(n=0;a>n;n++)if(o=r?r[n]:n,t(e[o],o,e))return!0;return!1},p.contains=p.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=p.values(e)),p.indexOf(e,t)>=0)},p.invoke=function(e,t){var i=a.call(arguments,2),n=p.isFunction(t);return p.map(e,function(e){return(n?t:e[t]).apply(e,i)})},p.pluck=function(e,t){return p.map(e,p.property(t))},p.where=function(e,t){return p.filter(e,p.matches(t))},p.findWhere=function(e,t){return p.find(e,p.matches(t))},p.max=function(e,t,i){var n,o,r=-(1/0),a=-(1/0);if(null==t&&null!=e){e=e.length===+e.length?e:p.values(e);for(var s=0,l=e.length;l>s;s++)n=e[s],n>r&&(r=n)}else t=p.iteratee(t,i),p.each(e,function(e,i,n){o=t(e,i,n),(o>a||o===-(1/0)&&r===-(1/0))&&(r=e,a=o)});return r},p.min=function(e,t,i){var n,o,r=1/0,a=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:p.values(e);for(var s=0,l=e.length;l>s;s++)n=e[s],r>n&&(r=n)}else t=p.iteratee(t,i),p.each(e,function(e,i,n){o=t(e,i,n),(a>o||o===1/0&&r===1/0)&&(r=e,a=o)});return r},p.shuffle=function(e){for(var t,i=e&&e.length===+e.length?e:p.values(e),n=i.length,o=Array(n),r=0;n>r;r++)t=p.random(0,r),t!==r&&(o[r]=o[t]),o[t]=i[r];return o},p.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=p.values(e)),e[p.random(e.length-1)]):p.shuffle(e).slice(0,Math.max(0,t))},p.sortBy=function(e,t,i){return t=p.iteratee(t,i),p.pluck(p.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var g=function(e){return function(t,i,n){var o={};return i=p.iteratee(i,n),p.each(t,function(n,r){var a=i(n,r,t);e(o,n,a)}),o}};p.groupBy=g(function(e,t,i){p.has(e,i)?e[i].push(t):e[i]=[t]}),p.indexBy=g(function(e,t,i){e[i]=t}),p.countBy=g(function(e,t,i){p.has(e,i)?e[i]++:e[i]=1}),p.sortedIndex=function(e,t,i,n){i=p.iteratee(i,n,1);for(var o=i(t),r=0,a=e.length;a>r;){var s=r+a>>>1;i(e[s])<o?r=s+1:a=s}return r},p.toArray=function(e){return e?p.isArray(e)?a.call(e):e.length===+e.length?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:e.length===+e.length?e.length:p.keys(e).length},p.partition=function(e,t,i){t=p.iteratee(t,i);var n=[],o=[];return p.each(e,function(e,i,r){(t(e,i,r)?n:o).push(e)}),[n,o]},p.first=p.head=p.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:a.call(e,0,t)},p.initial=function(e,t,i){return a.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},p.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},p.rest=p.tail=p.drop=function(e,t,i){return a.call(e,null==t||i?1:t)},p.compact=function(e){return p.filter(e,p.identity)};var v=function(e,t,i,n){if(t&&p.every(e,p.isArray))return s.apply(n,e);for(var o=0,a=e.length;a>o;o++){var l=e[o];p.isArray(l)||p.isArguments(l)?t?r.apply(n,l):v(l,t,i,n):i||n.push(l)}return n};p.flatten=function(e,t){return v(e,t,!1,[])},p.without=function(e){return p.difference(e,a.call(arguments,1))},p.uniq=p.unique=function(e,t,i,n){if(null==e)return[];p.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=p.iteratee(i,n));for(var o=[],r=[],a=0,s=e.length;s>a;a++){var l=e[a];if(t)a&&r===l||o.push(l),r=l;else if(i){var c=i(l,a,e);p.indexOf(r,c)<0&&(r.push(c),o.push(l))}else p.indexOf(o,l)<0&&o.push(l)}return o},p.union=function(){return p.uniq(v(arguments,!0,!0,[]))},p.intersection=function(e){if(null==e)return[];for(var t=[],i=arguments.length,n=0,o=e.length;o>n;n++){var r=e[n];if(!p.contains(t,r)){for(var a=1;i>a&&p.contains(arguments[a],r);a++);a===i&&t.push(r)}}return t},p.difference=function(e){var t=v(a.call(arguments,1),!0,!0,[]);return p.filter(e,function(e){return!p.contains(t,e)})},p.zip=function(e){if(null==e)return[];for(var t=p.max(arguments,"length").length,i=Array(t),n=0;t>n;n++)i[n]=p.pluck(arguments,n);return i},p.object=function(e,t){if(null==e)return{};for(var i={},n=0,o=e.length;o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},p.indexOf=function(e,t,i){if(null==e)return-1;var n=0,o=e.length;if(i){if("number"!=typeof i)return n=p.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,o+i):i}for(;o>n;n++)if(e[n]===t)return n;return-1},p.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=e.length;for("number"==typeof i&&(n=0>i?n+i+1:Math.min(n,i+1));--n>=0;)if(e[n]===t)return n;return-1},p.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),r=0;n>r;r++,e+=i)o[r]=e;return o};var y=function(){};p.bind=function(e,t){var i,n;if(h&&e.bind===h)return h.apply(e,a.call(arguments,1));if(!p.isFunction(e))throw new TypeError("Bind must be called on a function");return i=a.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(a.call(arguments)));y.prototype=e.prototype;var o=new y;y.prototype=null;var r=e.apply(o,i.concat(a.call(arguments)));return p.isObject(r)?r:o}},p.partial=function(e){var t=a.call(arguments,1);return function(){for(var i=0,n=t.slice(),o=0,r=n.length;r>o;o++)n[o]===p&&(n[o]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},p.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=p.bind(e[i],e);return e},p.memoize=function(e,t){var i=function(n){var o=i.cache,r=t?t.apply(this,arguments):n;return p.has(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return i.cache={},i},p.delay=function(e,t){var i=a.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},p.defer=function(e){return p.delay.apply(p,[e,1].concat(a.call(arguments,1)))},p.throttle=function(e,t,i){var n,o,r,a=null,s=0;i||(i={});var l=function(){s=i.leading===!1?0:p.now(),a=null,r=e.apply(n,o),a||(n=o=null)};return function(){var c=p.now();s||i.leading!==!1||(s=c);var d=t-(c-s);return n=this,o=arguments,0>=d||d>t?(clearTimeout(a),a=null,s=c,r=e.apply(n,o),a||(n=o=null)):a||i.trailing===!1||(a=setTimeout(l,d)),r}},p.debounce=function(e,t,i){var n,o,r,a,s,l=function(){var c=p.now()-a;t>c&&c>0?n=setTimeout(l,t-c):(n=null,i||(s=e.apply(r,o),n||(r=o=null)))};return function(){r=this,o=arguments,a=p.now();var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(s=e.apply(r,o),r=o=null),s}},p.wrap=function(e,t){return p.partial(t,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},p.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},p.before=function(e,t){var i;return function(){return--e>0?i=t.apply(this,arguments):t=null,i}},p.once=p.partial(p.before,2),p.keys=function(e){if(!p.isObject(e))return[];if(u)return u(e);var t=[];for(var i in e)p.has(e,i)&&t.push(i);return t},p.values=function(e){for(var t=p.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},p.pairs=function(e){for(var t=p.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},p.invert=function(e){for(var t={},i=p.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},p.functions=p.methods=function(e){var t=[];for(var i in e)p.isFunction(e[i])&&t.push(i);return t.sort()},p.extend=function(e){if(!p.isObject(e))return e;for(var t,i,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(i in t)c.call(t,i)&&(e[i]=t[i])}return e},p.pick=function(e,t,i){var n,o={};if(null==e)return o;if(p.isFunction(t)){t=f(t,i);for(n in e){var r=e[n];t(r,n,e)&&(o[n]=r)}}else{var l=s.apply([],a.call(arguments,1));e=new Object(e);for(var c=0,d=l.length;d>c;c++)n=l[c],n in e&&(o[n]=e[n])}return o},p.omit=function(e,t,i){if(p.isFunction(t))t=p.negate(t);else{var n=p.map(s.apply([],a.call(arguments,1)),String);t=function(e,t){return!p.contains(n,t)}}return p.pick(e,t,i)},p.defaults=function(e){if(!p.isObject(e))return e;for(var t=1,i=arguments.length;i>t;t++){var n=arguments[t];for(var o in n)void 0===e[o]&&(e[o]=n[o])}return e},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,t){return t(e),e};var b=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof p&&(e=e._wrapped),t instanceof p&&(t=t._wrapped);var o=l.call(e);if(o!==l.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=i.length;r--;)if(i[r]===e)return n[r]===t;var a=e.constructor,s=t.constructor;if(a!==s&&"constructor"in e&&"constructor"in t&&!(p.isFunction(a)&&a instanceof a&&p.isFunction(s)&&s instanceof s))return!1;i.push(e),n.push(t);var c,d;if("[object Array]"===o){if(c=e.length,d=c===t.length)for(;c--&&(d=b(e[c],t[c],i,n)););}else{var u,h=p.keys(e);if(c=h.length,d=p.keys(t).length===c)for(;c--&&(u=h[c],d=p.has(t,u)&&b(e[u],t[u],i,n)););}return i.pop(),n.pop(),d};p.isEqual=function(e,t){return b(e,t,[],[])},p.isEmpty=function(e){if(null==e)return!0;if(p.isArray(e)||p.isString(e)||p.isArguments(e))return 0===e.length;for(var t in e)if(p.has(e,t))return!1;return!0},p.isElement=function(e){return!(!e||1!==e.nodeType)},p.isArray=d||function(e){return"[object Array]"===l.call(e)},p.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){p["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return p.has(e,"callee")}),"function"!=typeof/./&&(p.isFunction=function(e){return"function"==typeof e||!1}),p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&e!==+e},p.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){return null!=e&&c.call(e,t)},p.noConflict=function(){return e._=t,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(e){return function(t){return t[e]}},p.matches=function(e){var t=p.pairs(e),i=t.length;return function(e){if(null==e)return!i;e=new Object(e);for(var n=0;i>n;n++){var o=t[n],r=o[0];if(o[1]!==e[r]||!(r in e))return!1}return!0}},p.times=function(e,t,i){var n=Array(Math.max(0,e));t=f(t,i,1);for(var o=0;e>o;o++)n[o]=t(o);return n},p.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},p.now=Date.now||function(){return(new Date).getTime()};var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=p.invert(_),x=function(e){var t=function(t){return e[t]},i="(?:"+p.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}};p.escape=x(_),p.unescape=x(w),p.result=function(e,t){if(null==e)return void 0;var i=e[t];return p.isFunction(i)?e[t]():i};var C=0;p.uniqueId=function(e){var t=++C+"";return e?e+t:t},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},T=/\\|'|\r|\n|\u2028|\u2029/g,D=function(e){return"\\"+S[e]};p.template=function(e,t,i){!t&&i&&(t=i),t=p.defaults({},t,p.templateSettings);var n=RegExp([(t.escape||k).source,(t.interpolate||k).source,(t.evaluate||k).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(n,function(t,i,n,a,s){return r+=e.slice(o,s).replace(T,D),o=s+t.length,i?r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?r+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(t.variable||"obj","_",r)}catch(s){throw s.source=r,s}var l=function(e){return a.call(this,e,p)},c=t.variable||"obj";return l.source="function("+c+"){\n"+r+"}",l},p.chain=function(e){var t=p(e);return t._chain=!0,t};var A=function(e){return this._chain?p(e).chain():e};p.mixin=function(e){p.each(p.functions(e),function(t){var i=p[t]=e[t];p.prototype[t]=function(){var e=[this._wrapped];return r.apply(e,arguments),A.call(this,i.apply(p,e))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];p.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],A.call(this,i)}}),p.each(["concat","join","slice"],function(e){var t=i[e];p.prototype[e]=function(){return A.call(this,t.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,o){e.Backbone=t(e,o,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");t(e,exports,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,i,n){var o=e.Backbone,r=[],a=(r.push,r.slice);r.splice;t.VERSION="1.1.2",t.$=n,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,i){if(!c(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var o=this,r=i.once(function(){o.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var o,r,a,s,l,d,u,h;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(s=e?[e]:i.keys(this._events),l=0,d=s.length;d>l;l++)if(e=s[l],a=this._events[e]){if(this._events[e]=o=[],t||n)for(u=0,h=a.length;h>u;u++)r=a[u],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&o.push(r);o.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!c(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&d(i,t),n&&d(n,arguments),this},stopListening:function(e,t,n){var o=this._listeningTo;if(!o)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((o={})[e._listenId]=e);for(var a in o)e=o[a],e.off(t,n,this),(r||i.isEmpty(e._events))&&delete this._listeningTo[a];return this}},l=/\s+/,c=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var o in i)e[t].apply(e,[o,i[o]].concat(n));return!1}if(l.test(i)){for(var r=i.split(l),a=0,s=r.length;s>a;a++)e[t].apply(e,[r[a]].concat(n));return!1}return!0},d=function(e,t){var i,n=-1,o=e.length,r=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++n<o;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<o;)(i=e[n]).callback.call(i.ctx,r);return;case 2:for(;++n<o;)(i=e[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<o;)(i=e[n]).callback.call(i.ctx,r,a,s);return;default:for(;++n<o;)(i=e[n]).callback.apply(i.ctx,t);return}},u={listenTo:"on",listenToOnce:"once"};i.each(u,function(e,t){s[t]=function(t,n,o){var r=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=i.uniqueId("l"));return r[a]=t,o||"object"!=typeof n||(o=this),t[e](n,o,this),this}}),s.bind=s.on,s.unbind=s.off,i.extend(t,s);var h=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(h.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var o,r,a,s,l,c,d,u;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;a=n.unset,l=n.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=i.clone(this.attributes),this.changed={}),u=this.attributes,d=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(o in r)t=r[o],i.isEqual(u[o],t)||s.push(o),i.isEqual(d[o],t)?delete this.changed[o]:this.changed[o]=t,a?delete u[o]:u[o]=t;if(!l){s.length&&(this._pending=n);for(var h=0,p=s.length;p>h;h++)this.trigger("change:"+s[h],this,u[s[h]],n)}if(c)return this;if(!l)for(;this._pending;)n=this._pending,
this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?i.clone(this.changed):!1;var t,n=!1,o=this._changing?this._previousAttributes:this.attributes;for(var r in e)i.isEqual(o[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},N(this,e),this.sync("read",this,e)},save:function(e,t,n){var o,r,a,s=this.attributes;if(null==e||"object"==typeof e?(o=e,n=t):(o={})[e]=t,n=i.extend({validate:!0},n),o&&!n.wait){if(!this.set(o,n))return!1}else if(!this._validate(o,n))return!1;o&&n.wait&&(this.attributes=i.extend({},s,o)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=s;var t=l.parse(e,n);return n.wait&&(t=i.extend(o||{},t)),i.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),void l.trigger("sync",l,e,n))},N(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=o),a=this.sync(r,this,n),o&&n.wait&&(this.attributes=s),a},destroy:function(e){e=e?i.clone(e):{};var t=this,n=e.success,o=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&o(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;N(this,e);var r=this.sync("delete",this,e);return e.wait||o(),r},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||O();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];i.each(p,function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),i[e].apply(i,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};i.extend(f.prototype,s,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,g))},remove:function(e,t){var n=!i.isArray(e);e=n?[e]:i.clone(e),t||(t={});var o,r,a,s;for(o=0,r=e.length;r>o;o++)s=e[o]=this.get(e[o]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s,t));return n?e[0]:e},set:function(e,t){t=i.defaults({},t,m),t.parse&&(e=this.parse(e,t));var n=!i.isArray(e);e=n?e?[e]:[]:i.clone(e);var o,r,a,s,l,c,d,u=t.at,p=this.model,f=this.comparator&&null==u&&t.sort!==!1,g=i.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},_=t.add,w=t.merge,x=t.remove,C=!f&&_&&x?[]:!1;for(o=0,r=e.length;r>o;o++){if(l=e[o]||{},a=l instanceof h?s=l:l[p.prototype.idAttribute||"id"],c=this.get(a))x&&(b[c.cid]=!0),w&&(l=l===s?s.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!d&&c.hasChanged(g)&&(d=!0)),e[o]=c;else if(_){if(s=e[o]=this._prepareModel(l,t),!s)continue;v.push(s),this._addReference(s,t)}s=c||s,!C||!s.isNew()&&b[s.id]||C.push(s),b[s.id]=!0}if(x){for(o=0,r=this.length;r>o;++o)b[(s=this.models[o]).cid]||y.push(s);y.length&&this.remove(y,t)}if(v.length||C&&C.length)if(f&&(d=!0),this.length+=v.length,null!=u)for(o=0,r=v.length;r>o;o++)this.models.splice(u+o,0,v[o]);else{C&&(this.models.length=0);var k=C||v;for(o=0,r=k.length;r>o;o++)this.models.push(k[o])}if(d&&this.sort({silent:!0}),!t.silent){for(o=0,r=v.length;r>o;o++)(s=v[o]).trigger("add",s,this,t);(d||C&&C.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,o=this.models.length;o>n;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return i.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){e=e?i.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var o=e.reset?"reset":"set";n[o](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},N(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?i.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,o=t.success;return t.success=function(e,i){t.wait&&n.add(e,t),o&&o(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e;t=t?i.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(v,function(e){f.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),i[e].apply(i,t)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(e){f.prototype[e]=function(t,n){var o=i.isFunction(t)?t:function(e){return e.get(t)};return i[e](this.models,o,n)}});var b=t.View=function(e){this.cid=i.uniqueId("view"),e||(e={}),i.extend(this,i.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];i.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=i.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(i.isFunction(n)||(n=this[e[t]]),n){var o=t.match(_),r=o[1],a=o[2];n=i.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,n):this.$el.on(r,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e["class"]=i.result(this,"className"));var n=t.$("<"+i.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,o){var r=C[e];i.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:r,dataType:"json"};if(o.url||(a.url=i.result(n,"url")||O()),null!=o.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(o.attrs||n.toJSON(o))),o.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),o.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",o.emulateJSON&&(a.data._method=r);var s=o.beforeSend;o.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),s?s.apply(this,arguments):void 0}}"GET"===a.type||o.emulateJSON||(a.processData=!1),"PATCH"===a.type&&x&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=o.xhr=t.ajax(i.extend(a,o));return n.trigger("request",n,l,o),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var k=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,D=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(k.prototype,s,{initialize:function(){},route:function(e,n,o){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(o=n,n=""),o||(o=this[n]);var r=this;return t.history.route(e,function(i){var a=r._extractParameters(e,i);r.execute(o,a),r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),t.history.trigger("route",r,n,a)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(S,"(?:$1)?").replace(T,function(e,t){return t?e:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var P=t.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,M=/msie [\w.]+/,L=/\/$/,$=/#.*$/;P.started=!1,i.extend(P.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(L,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(E,"")},start:function(e){if(P.started)throw new Error("Backbone.history has already been started");P.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),o=document.documentMode,r=M.exec(navigator.userAgent.toLowerCase())&&(!o||7>=o);if(this.root=("/"+this.root+"/").replace(I,"/"),r&&this._wantsHashChange){var a=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),i.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!P.started)return!1;t&&t!==!0||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace($,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new P;var F=function(e,t){var n,o=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},i.extend(n,o,t);var r=function(){this.constructor=n};return r.prototype=o.prototype,n.prototype=new r,e&&i.extend(n.prototype,e),n.__super__=o.prototype,n};h.extend=f.extend=k.extend=b.extend=P.extend=F;var O=function(){throw new Error('A "url" property or function must be specified')},N=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}};return t}),function(e,t){"function"==typeof define&&define.amd?define(["exports","backbone","underscore"],t):"undefined"!=typeof exports?t(exports,require("backbone"),require("underscore")):t(e,e.Backbone,e._)}(this,function(e,t,i){"use strict";t.Relational={showWarnings:!0},t.Semaphore={_permitsAvailable:null,_permitsUsed:0,acquire:function(){if(this._permitsAvailable&&this._permitsUsed>=this._permitsAvailable)throw new Error("Max permits acquired");this._permitsUsed++},release:function(){if(0===this._permitsUsed)throw new Error("All permits released");this._permitsUsed--},isLocked:function(){return this._permitsUsed>0},setAvailablePermits:function(e){if(this._permitsUsed>e)throw new Error("Available permits cannot be less than used permits");this._permitsAvailable=e}},t.BlockingQueue=function(){this._queue=[]},i.extend(t.BlockingQueue.prototype,t.Semaphore,{_queue:null,add:function(e){this.isBlocked()?this._queue.push(e):e()},process:function(){var e=this._queue;for(this._queue=[];e&&e.length;)e.shift()()},block:function(){this.acquire()},unblock:function(){this.release(),this.isBlocked()||this.process()},isBlocked:function(){return this.isLocked()}}),t.Relational.eventQueue=new t.BlockingQueue,t.Store=function(){this._collections=[],this._reverseRelations=[],this._orphanRelations=[],this._subModels=[],this._modelScopes=[e]},i.extend(t.Store.prototype,t.Events,{initializeRelation:function(e,n,o){var r=i.isString(n.type)?t[n.type]||this.getObjectByName(n.type):n.type;if(r&&r.prototype instanceof t.Relation){new r(e,n,o)}else t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; missing or invalid relation type!",n)},addModelScope:function(e){this._modelScopes.push(e)},removeModelScope:function(e){this._modelScopes=i.without(this._modelScopes,e)},addSubModels:function(e,t){this._subModels.push({superModelType:t,subModels:e})},setupSuperModel:function(e){i.find(this._subModels,function(t){return i.filter(t.subModels||[],function(i,n){var o=this.getObjectByName(i);return e===o?(t.superModelType._subModels[n]=e,e._superModel=t.superModelType,e._subModelTypeValue=n,e._subModelTypeAttribute=t.superModelType.prototype.subModelTypeAttribute,!0):void 0},this).length},this)},addReverseRelation:function(e){var t=i.any(this._reverseRelations,function(t){return i.all(e||[],function(e,i){return e===t[i]})});!t&&e.model&&e.type&&(this._reverseRelations.push(e),this._addRelation(e.model,e),this.retroFitRelation(e))},addOrphanRelation:function(e){var t=i.any(this._orphanRelations,function(t){return i.all(e||[],function(e,i){return e===t[i]})});!t&&e.model&&e.type&&this._orphanRelations.push(e)},processOrphanRelations:function(){i.each(this._orphanRelations.slice(0),function(e){var n=t.Relational.store.getObjectByName(e.relatedModel);n&&(this.initializeRelation(null,e),this._orphanRelations=i.without(this._orphanRelations,e))},this)},_addRelation:function(e,t){e.prototype.relations||(e.prototype.relations=[]),e.prototype.relations.push(t),i.each(e._subModels||[],function(e){this._addRelation(e,t)},this)},retroFitRelation:function(e){var t=this.getCollection(e.model,!1);t&&t.each(function(t){if(t instanceof e.model){new e.type(t,e)}},this)},getCollection:function(e,n){e instanceof t.RelationalModel&&(e=e.constructor);for(var o=e;o._superModel;)o=o._superModel;var r=i.find(this._collections,function(e){return e.model===o});return r||n===!1||(r=this._createCollection(o)),r},getObjectByName:function(e){var t=e.split("."),n=null;return i.find(this._modelScopes,function(e){return n=i.reduce(t||[],function(e,t){return e?e[t]:void 0},e),n&&n!==e?!0:void 0},this),n},_createCollection:function(e){var i;return e instanceof t.RelationalModel&&(e=e.constructor),e.prototype instanceof t.RelationalModel&&(i=new t.Collection,i.model=e,this._collections.push(i)),i},resolveIdForItem:function(e,n){var o=i.isString(n)||i.isNumber(n)?n:null;return null===o&&(n instanceof t.RelationalModel?o=n.id:i.isObject(n)&&(o=n[e.prototype.idAttribute])),o||0===o||(o=null),o},find:function(e,t){var i=this.resolveIdForItem(e,t),n=this.getCollection(e);if(n){var o=n.get(i);if(o instanceof e)return o}return null},register:function(e){var t=this.getCollection(e);if(t){var i=e.collection;t.add(e),e.collection=i}},checkId:function(e,i){var n=this.getCollection(e),o=n&&n.get(i);if(o&&e!==o)throw t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Duplicate id! Old RelationalModel=%o, new RelationalModel=%o",o,e),new Error("Cannot instantiate more than one Backbone.RelationalModel with the same id per type!")},update:function(e){var t=this.getCollection(e);t.contains(e)||this.register(e),t._onModelEvent("change:"+e.idAttribute,e,t),e.trigger("relational:change:id",e,t)},unregister:function(e){var n,o;e instanceof t.Model?(n=this.getCollection(e),o=[e]):e instanceof t.Collection?(n=this.getCollection(e.model),o=i.clone(e.models)):(n=this.getCollection(e),o=i.clone(n.models)),i.each(o,function(e){this.stopListening(e),i.invoke(e.getRelations(),"stopListening")},this),i.contains(this._collections,e)?n.reset([]):i.each(o,function(e){n.get(e)?n.remove(e):n.trigger("relational:remove",e,n)},this)},reset:function(){this.stopListening(),i.each(this._collections,function(e){this.unregister(e)},this),this._collections=[],this._subModels=[],this._modelScopes=[e]}}),t.Relational.store=new t.Store,t.Relation=function(e,n,o){if(this.instance=e,n=i.isObject(n)?n:{},this.reverseRelation=i.defaults(n.reverseRelation||{},this.options.reverseRelation),this.options=i.defaults(n,this.options,t.Relation.prototype.options),this.reverseRelation.type=i.isString(this.reverseRelation.type)?t[this.reverseRelation.type]||t.Relational.store.getObjectByName(this.reverseRelation.type):this.reverseRelation.type,this.key=this.options.key,this.keySource=this.options.keySource||this.key,this.keyDestination=this.options.keyDestination||this.keySource||this.key,this.model=this.options.model||this.instance.constructor,this.relatedModel=this.options.relatedModel,i.isUndefined(this.relatedModel)&&(this.relatedModel=this.model),!i.isFunction(this.relatedModel)||this.relatedModel.prototype instanceof t.RelationalModel||(this.relatedModel=i.result(this,"relatedModel")),i.isString(this.relatedModel)&&(this.relatedModel=t.Relational.store.getObjectByName(this.relatedModel)),this.checkPreconditions()&&(!this.options.isAutoRelation&&this.reverseRelation.type&&this.reverseRelation.key&&t.Relational.store.addReverseRelation(i.defaults({isAutoRelation:!0,model:this.relatedModel,relatedModel:this.model,reverseRelation:this.options},this.reverseRelation)),e)){var r=this.keySource;r!==this.key&&i.isObject(this.instance.get(this.key))&&(r=this.key),this.setKeyContents(this.instance.get(r)),this.relatedCollection=t.Relational.store.getCollection(this.relatedModel),this.keySource!==this.key&&delete this.instance.attributes[this.keySource],this.instance._relations[this.key]=this,this.initialize(o),this.options.autoFetch&&this.instance.getAsync(this.key,i.isObject(this.options.autoFetch)?this.options.autoFetch:{}),this.listenTo(this.instance,"destroy",this.destroy).listenTo(this.relatedCollection,"relational:add relational:change:id",this.tryAddRelated).listenTo(this.relatedCollection,"relational:remove",this.removeRelated)}},t.Relation.extend=t.Model.extend,i.extend(t.Relation.prototype,t.Events,t.Semaphore,{options:{createModels:!0,includeInJSON:!0,isAutoRelation:!1,autoFetch:!1,parse:!1},instance:null,key:null,keyContents:null,relatedModel:null,relatedCollection:null,reverseRelation:null,related:null,checkPreconditions:function(){var e=this.instance,n=this.key,o=this.model,r=this.relatedModel,a=t.Relational.showWarnings&&"undefined"!=typeof console;if(!o||!n||!r)return a&&console.warn("Relation=%o: missing model, key or relatedModel (%o, %o, %o).",this,o,n,r),!1;if(!(o.prototype instanceof t.RelationalModel))return a&&console.warn("Relation=%o: model does not inherit from Backbone.RelationalModel (%o).",this,e),!1;if(!(r.prototype instanceof t.RelationalModel))return a&&console.warn("Relation=%o: relatedModel does not inherit from Backbone.RelationalModel (%o).",this,r),!1;if(this instanceof t.HasMany&&this.reverseRelation.type===t.HasMany)return a&&console.warn("Relation=%o: relation is a HasMany, and the reverseRelation is HasMany as well.",this),!1;if(e&&i.keys(e._relations).length){var s=i.find(e._relations,function(e){return e.key===n},this);if(s)return a&&console.warn("Cannot create relation=%o on %o for model=%o: already taken by relation=%o.",this,n,e,s),!1}return!0},setRelated:function(e){this.related=e,this.instance.attributes[this.key]=e},_isReverseRelation:function(e){return e.instance instanceof this.relatedModel&&this.reverseRelation.key===e.key&&this.key===e.reverseRelation.key},getReverseRelations:function(e){for(var t=[],n=i.isUndefined(e)?this.related&&(this.related.models||[this.related]):[e],o=null,r=null,a=0;a<(n||[]).length;a++){o=n[a].getRelations()||[];for(var s=0;s<o.length;s++)r=o[s],this._isReverseRelation(r)&&t.push(r)}return t},destroy:function(){this.stopListening(),this instanceof t.HasOne?this.setRelated(null):this instanceof t.HasMany&&this.setRelated(this._prepareCollection()),i.each(this.getReverseRelations(),function(e){e.removeRelated(this.instance)},this)}}),t.HasOne=t.Relation.extend({options:{reverseRelation:{type:"HasMany"}},initialize:function(e){this.listenTo(this.instance,"relational:change:"+this.key,this.onChange);var t=this.findRelated(e);this.setRelated(t),i.each(this.getReverseRelations(),function(t){t.addRelated(this.instance,e)},this)},findRelated:function(e){var t=null;if(e=i.defaults({parse:this.options.parse},e),this.keyContents instanceof this.relatedModel)t=this.keyContents;else if(this.keyContents||0===this.keyContents){var n=i.defaults({create:this.options.createModels},e);t=this.relatedModel.findOrCreate(this.keyContents,n)}return t&&(this.keyId=null),t},setKeyContents:function(e){this.keyContents=e,this.keyId=t.Relational.store.resolveIdForItem(this.relatedModel,this.keyContents)},onChange:function(e,n,o){if(!this.isLocked()){this.acquire(),o=o?i.clone(o):{};var r=i.isUndefined(o.__related),a=r?this.related:o.__related;if(r){this.setKeyContents(n);var s=this.findRelated(o);this.setRelated(s)}if(a&&this.related!==a&&i.each(this.getReverseRelations(a),function(e){e.removeRelated(this.instance,null,o)},this),i.each(this.getReverseRelations(),function(e){e.addRelated(this.instance,o)},this),!o.silent&&this.related!==a){var l=this;this.changed=!0,t.Relational.eventQueue.add(function(){l.instance.trigger("change:"+l.key,l.instance,l.related,o,!0),l.changed=!1})}this.release()}},tryAddRelated:function(e,t,i){!this.keyId&&0!==this.keyId||e.id!==this.keyId||(this.addRelated(e,i),this.keyId=null)},addRelated:function(e,t){var n=this;e.queue(function(){if(e!==n.related){var o=n.related||null;n.setRelated(e),n.onChange(n.instance,e,i.defaults({__related:o},t))}})},removeRelated:function(e,t,n){if(this.related&&e===this.related){var o=this.related||null;this.setRelated(null),this.onChange(this.instance,e,i.defaults({__related:o},n))}}}),t.HasMany=t.Relation.extend({collectionType:null,options:{reverseRelation:{type:"HasOne"},collectionType:t.Collection,collectionKey:!0,collectionOptions:{}},initialize:function(e){if(this.listenTo(this.instance,"relational:change:"+this.key,this.onChange),this.collectionType=this.options.collectionType,!i.isFunction(this.collectionType)||this.collectionType===t.Collection||this.collectionType.prototype instanceof t.Collection||(this.collectionType=i.result(this,"collectionType")),i.isString(this.collectionType)&&(this.collectionType=t.Relational.store.getObjectByName(this.collectionType)),this.collectionType!==t.Collection&&!(this.collectionType.prototype instanceof t.Collection))throw new Error("`collectionType` must inherit from Backbone.Collection");var n=this.findRelated(e);this.setRelated(n)},_prepareCollection:function(e){if(this.related&&this.stopListening(this.related),!(e&&e instanceof t.Collection)){var n=i.isFunction(this.options.collectionOptions)?this.options.collectionOptions(this.instance):this.options.collectionOptions;e=new this.collectionType(null,n)}if(e.model=this.relatedModel,this.options.collectionKey){var o=this.options.collectionKey===!0?this.options.reverseRelation.key:this.options.collectionKey;e[o]&&e[o]!==this.instance?t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; collectionKey=%s already exists on collection=%o",this,o,this.options.collectionKey):o&&(e[o]=this.instance)}return this.listenTo(e,"relational:add",this.handleAddition).listenTo(e,"relational:remove",this.handleRemoval).listenTo(e,"relational:reset",this.handleReset),e},findRelated:function(e){var n=null;if(e=i.defaults({parse:this.options.parse},e),this.keyContents instanceof t.Collection)this._prepareCollection(this.keyContents),n=this.keyContents;else{var o=[];i.each(this.keyContents,function(t){var n=null;n=t instanceof this.relatedModel?t:this.relatedModel.findOrCreate(t,i.extend({merge:!0},e,{create:this.options.createModels})),n&&o.push(n)},this),n=this.related instanceof t.Collection?this.related:this._prepareCollection(),n.set(o,i.defaults({merge:!1,parse:!1},e))}return this.keyIds=i.difference(this.keyIds,i.pluck(n.models,"id")),n},setKeyContents:function(e){this.keyContents=e instanceof t.Collection?e:null,this.keyIds=[],this.keyContents||!e&&0!==e||(this.keyContents=i.isArray(e)?e:[e],i.each(this.keyContents,function(e){var i=t.Relational.store.resolveIdForItem(this.relatedModel,e);(i||0===i)&&this.keyIds.push(i)},this))},onChange:function(e,n,o){o=o?i.clone(o):{},this.setKeyContents(n),this.changed=!1;var r=this.findRelated(o);if(this.setRelated(r),!o.silent){var a=this;t.Relational.eventQueue.add(function(){a.changed&&(a.instance.trigger("change:"+a.key,a.instance,a.related,o,!0),a.changed=!1)})}},handleAddition:function(e,n,o){o=o?i.clone(o):{},this.changed=!0,i.each(this.getReverseRelations(e),function(e){e.addRelated(this.instance,o)},this);var r=this;!o.silent&&t.Relational.eventQueue.add(function(){r.instance.trigger("add:"+r.key,e,r.related,o)})},handleRemoval:function(e,n,o){o=o?i.clone(o):{},this.changed=!0,i.each(this.getReverseRelations(e),function(e){e.removeRelated(this.instance,null,o)},this);var r=this;!o.silent&&t.Relational.eventQueue.add(function(){r.instance.trigger("remove:"+r.key,e,r.related,o)})},handleReset:function(e,n){var o=this;n=n?i.clone(n):{},!n.silent&&t.Relational.eventQueue.add(function(){o.instance.trigger("reset:"+o.key,o.related,n)})},tryAddRelated:function(e,t,n){var o=i.contains(this.keyIds,e.id);o&&(this.addRelated(e,n),this.keyIds=i.without(this.keyIds,e.id))},addRelated:function(e,t){var n=this;e.queue(function(){n.related&&!n.related.get(e)&&n.related.add(e,i.defaults({parse:!1},t))})},removeRelated:function(e,t,i){this.related.get(e)&&this.related.remove(e,i)}}),t.RelationalModel=t.Model.extend({relations:null,_relations:null,_isInitialized:!1,_deferProcessing:!1,_queue:null,_attributeChangeFired:!1,subModelTypeAttribute:"type",subModelTypes:null,constructor:function(e,n){if(n&&n.collection){var o=this,r=this.collection=n.collection;delete n.collection,this._deferProcessing=!0;var a=function(e){e===o&&(o._deferProcessing=!1,o.processQueue(),r.off("relational:add",a))};r.on("relational:add",a),i.defer(function(){a(o)})}t.Relational.store.processOrphanRelations(),t.Relational.store.listenTo(this,"relational:unregister",t.Relational.store.unregister),this._queue=new t.BlockingQueue,this._queue.block(),t.Relational.eventQueue.block();try{t.Model.apply(this,arguments)}finally{t.Relational.eventQueue.unblock()}},trigger:function(e){if(e.length>5&&0===e.indexOf("change")){var i=this,n=arguments;t.Relational.eventQueue.isLocked()?t.Relational.eventQueue.add(function(){var o=!0;if("change"===e)o=i.hasChanged()||i._attributeChangeFired,i._attributeChangeFired=!1;else{var r=e.slice(7),a=i.getRelation(r);a?(o=n[4]===!0,o?i.changed[r]=n[2]:a.changed||delete i.changed[r]):o&&(i._attributeChangeFired=!0)}o&&t.Model.prototype.trigger.apply(i,n)}):t.Model.prototype.trigger.apply(i,n)}else"destroy"===e?(t.Model.prototype.trigger.apply(this,arguments),t.Relational.store.unregister(this)):t.Model.prototype.trigger.apply(this,arguments);return this},initializeRelations:function(e){this.acquire(),this._relations={},i.each(this.relations||[],function(i){t.Relational.store.initializeRelation(this,i,e)},this),this._isInitialized=!0,this.release(),this.processQueue()},updateRelations:function(e,t){this._isInitialized&&!this.isLocked()&&i.each(this._relations,function(i){if(!e||i.keySource in e||i.key in e){var n=this.attributes[i.keySource]||this.attributes[i.key],o=e&&(e[i.keySource]||e[i.key]);(i.related!==n||null===n&&null===o)&&this.trigger("relational:change:"+i.key,this,n,t||{})}i.keySource!==i.key&&delete this.attributes[i.keySource]},this)},queue:function(e){this._queue.add(e)},processQueue:function(){this._isInitialized&&!this._deferProcessing&&this._queue.isBlocked()&&this._queue.unblock()},getRelation:function(e){return this._relations[e]},getRelations:function(){return i.values(this._relations)},getIdsToFetch:function(e,n){var o=e instanceof t.Relation?e:this.getRelation(e),r=o?o.keyIds&&o.keyIds.slice(0)||(o.keyId||0===o.keyId?[o.keyId]:[]):[];if(n){var a=o.related&&(o.related.models||[o.related]);
i.each(a,function(e){(e.id||0===e.id)&&r.push(e.id)})}return r},getAsync:function(e,n){n=i.extend({add:!0,remove:!1,refresh:!1},n);var o=this,r=[],a=this.getRelation(e),s=a&&this.getIdsToFetch(a,n.refresh),l=a.related instanceof t.Collection?a.related:a.relatedCollection;if(s&&s.length){var c,d=[],u=[],h=function(){d=i.map(s,function(e){var t=a.relatedModel.findModel(e);if(!t){var i={};i[a.relatedModel.prototype.idAttribute]=e,t=a.relatedModel.findOrCreate(i,n),u.push(t)}return t},this)};if(l instanceof t.Collection&&i.isFunction(l.url)){var p=l.url();c=l.url(s),c===p&&(h(),c=l.url(d),c===p&&(c=null))}if(c){var f=i.defaults({error:function(){i.each(u,function(e){e.trigger("destroy",e,e.collection,n)}),n.error&&n.error.apply(d,arguments)},url:c},n);r=[l.fetch(f)]}else d.length||h(),r=i.map(d,function(e){var t=i.defaults({error:function(){i.contains(u,e)&&e.trigger("destroy",e,e.collection,n),n.error&&n.error.apply(d,arguments)}},n);return e.fetch(t)},this)}return $.when.apply(null,r).then(function(){return t.Model.prototype.get.call(o,e)})},set:function(e,n,o){t.Relational.eventQueue.block();var r,a;i.isObject(e)||null==e?(r=e,o=n):(r={},r[e]=n);try{var s=this.id,l=r&&this.idAttribute in r&&r[this.idAttribute];t.Relational.store.checkId(this,l),a=t.Model.prototype.set.apply(this,arguments),this._isInitialized||this.isLocked()?l&&l!==s&&t.Relational.store.update(this):(this.constructor.initializeModelHierarchy(),(l||0===l)&&t.Relational.store.register(this),this.initializeRelations(o)),r&&this.updateRelations(r,o)}finally{t.Relational.eventQueue.unblock()}return a},clone:function(){var e=i.clone(this.attributes);return i.isUndefined(e[this.idAttribute])||(e[this.idAttribute]=null),i.each(this.getRelations(),function(t){delete e[t.key]}),new this.constructor(e)},toJSON:function(e){if(this.isLocked())return this.id;this.acquire();var n=t.Model.prototype.toJSON.call(this,e);return!this.constructor._superModel||this.constructor._subModelTypeAttribute in n||(n[this.constructor._subModelTypeAttribute]=this.constructor._subModelTypeValue),i.each(this._relations,function(o){var r=n[o.key],a=o.options.includeInJSON,s=null;a===!0?r&&i.isFunction(r.toJSON)&&(s=r.toJSON(e)):i.isString(a)?(r instanceof t.Collection?s=r.pluck(a):r instanceof t.Model&&(s=r.get(a)),a===o.relatedModel.prototype.idAttribute&&(o instanceof t.HasMany?s=s.concat(o.keyIds):o instanceof t.HasOne&&(s=s||o.keyId,s||i.isObject(o.keyContents)||(s=o.keyContents||null)))):i.isArray(a)?r instanceof t.Collection?(s=[],r.each(function(e){var t={};i.each(a,function(i){t[i]=e.get(i)}),s.push(t)})):r instanceof t.Model&&(s={},i.each(a,function(e){s[e]=r.get(e)})):delete n[o.key],null===s&&e&&e.wait&&(s=r),a&&(n[o.keyDestination]=s),o.keyDestination!==o.key&&delete n[o.key]}),this.release(),n}},{setup:function(e){return this.prototype.relations=(this.prototype.relations||[]).slice(0),this._subModels={},this._superModel=null,this.prototype.hasOwnProperty("subModelTypes")?t.Relational.store.addSubModels(this.prototype.subModelTypes,this):this.prototype.subModelTypes=null,i.each(this.prototype.relations||[],function(e){if(e.model||(e.model=this),e.reverseRelation&&e.model===this){var n=!0;if(i.isString(e.relatedModel)){var o=t.Relational.store.getObjectByName(e.relatedModel);n=o&&o.prototype instanceof t.RelationalModel}n?t.Relational.store.initializeRelation(null,e):i.isString(e.relatedModel)&&t.Relational.store.addOrphanRelation(e)}},this),this},build:function(e,t){this.initializeModelHierarchy();var i=this._findSubModelType(this,e)||this;return new i(e,t)},_findSubModelType:function(e,t){if(e._subModels&&e.prototype.subModelTypeAttribute in t){var i=t[e.prototype.subModelTypeAttribute],n=e._subModels[i];if(n)return n;for(i in e._subModels)if(n=this._findSubModelType(e._subModels[i],t))return n}return null},initializeModelHierarchy:function(){if(this.inheritRelations(),this.prototype.subModelTypes){var e=i.keys(this._subModels),n=i.omit(this.prototype.subModelTypes,e);i.each(n,function(e){var i=t.Relational.store.getObjectByName(e);i&&i.initializeModelHierarchy()})}},inheritRelations:function(){if(i.isUndefined(this._superModel)||i.isNull(this._superModel))if(t.Relational.store.setupSuperModel(this),this._superModel){if(this._superModel.inheritRelations(),this._superModel.prototype.relations){var e=i.filter(this._superModel.prototype.relations||[],function(e){return!i.any(this.prototype.relations||[],function(t){return e.relatedModel===t.relatedModel&&e.key===t.key},this)},this);this.prototype.relations=e.concat(this.prototype.relations)}}else this._superModel=!1},findOrCreate:function(e,t){t||(t={});var n=i.isObject(e)&&t.parse&&this.prototype.parse?this.prototype.parse(i.clone(e)):e,o=this.findModel(n);return i.isObject(e)&&(o&&t.merge!==!1?(delete t.collection,delete t.url,o.set(n,t)):o||t.create===!1||(o=this.build(n,i.defaults({parse:!1},t)))),o},find:function(e,t){return t||(t={}),t.create=!1,this.findOrCreate(e,t)},findModel:function(e){return t.Relational.store.find(this,e)}}),i.extend(t.RelationalModel.prototype,t.Semaphore),t.Collection.prototype.__prepareModel=t.Collection.prototype._prepareModel,t.Collection.prototype._prepareModel=function(e,n){var o;return e instanceof t.Model?(e.collection||(e.collection=this),o=e):(n=n?i.clone(n):{},n.collection=this,o="undefined"!=typeof this.model.findOrCreate?this.model.findOrCreate(e,n):new this.model(e,n),o&&o.validationError&&(this.trigger("invalid",this,e,n),o=!1)),o};var n=t.Collection.prototype.__set=t.Collection.prototype.set;t.Collection.prototype.set=function(e,o){if(!(this.model.prototype instanceof t.RelationalModel))return n.call(this,e,o);o&&o.parse&&(e=this.parse(e,o));var r=!i.isArray(e),a=[],s=[],l=null;e=r?e?[e]:[]:i.clone(e);for(var c=0;c<e.length;c++)l=e[c],l instanceof t.Model||(l=t.Collection.prototype._prepareModel.call(this,l,o)),l&&(s.push(l),this.get(l)||this.get(l.cid)?null!==l.id&&void 0!==l.id&&(this._byId[l.id]=l):a.push(l));s=r?s.length?s[0]:null:s;var d=n.call(this,s,i.defaults({merge:!1,parse:!1},o));for(c=0;c<a.length;c++)l=a[c],(this.get(l)||this.get(l.cid))&&this.trigger("relational:add",l,this,o);return d};var o=t.Collection.prototype.__remove=t.Collection.prototype.remove;t.Collection.prototype.remove=function(e,n){if(!(this.model.prototype instanceof t.RelationalModel))return o.call(this,e,n);var r=!i.isArray(e),a=[];e=r?e?[e]:[]:i.clone(e),n||(n={}),i.each(e,function(e){e=this.get(e)||e&&this.get(e.cid),e&&a.push(e)},this);var s=o.call(this,r?a.length?a[0]:null:a,n);return i.each(a,function(e){this.trigger("relational:remove",e,this,n)},this),s};var r=t.Collection.prototype.__reset=t.Collection.prototype.reset;t.Collection.prototype.reset=function(e,n){n=i.extend({merge:!0},n);var o=r.call(this,e,n);return this.model.prototype instanceof t.RelationalModel&&this.trigger("relational:reset",this,n),o};var a=t.Collection.prototype.__sort=t.Collection.prototype.sort;t.Collection.prototype.sort=function(e){var i=a.call(this,e);return this.model.prototype instanceof t.RelationalModel&&this.trigger("relational:reset",this,e),i};var s=t.Collection.prototype.__trigger=t.Collection.prototype.trigger;t.Collection.prototype.trigger=function(e){if(!(this.model.prototype instanceof t.RelationalModel))return s.apply(this,arguments);if("add"===e||"remove"===e||"reset"===e||"sort"===e){var n=this,o=arguments;i.isObject(o[3])&&(o=i.toArray(o),o[3]=i.clone(o[3])),t.Relational.eventQueue.add(function(){s.apply(n,o)})}else s.apply(this,arguments);return this},t.RelationalModel.extend=function(e,i){var n=t.Model.extend.call(this,e,i);return n.setup(this),n}}),window.Support={},Support.VERSION="0.4.0",function(){function e(e){console&&console.warn&&console.warn(e)}Support.Observer=function(){},_.extend(Support.Observer.prototype,{bindTo:function(t,i,n){e("Using #bindTo has been deprecated. Use #listenTo instead."),this.listenTo(t,i,n)},unbindFromAll:function(){e("Using #unbindFromAll has been deprecated. Use #stopListening instead."),this.stopListening()}})}(),Support.CompositeView=function(e){this.children=_([]),Backbone.View.apply(this,[e])},_.extend(Support.CompositeView.prototype,Backbone.View.prototype,Support.Observer.prototype,{leave:function(){this.trigger("leave"),this.unbind(),this.stopListening(),this.remove(),this._leaveChildren(),this._removeFromParent()},renderChild:function(e){e.parent=this,e.render(),this.children.push(e)},renderChildInto:function(e,t){this.renderChild(e),this.$(t).html(e.el)},appendChild:function(e){this.renderChild(e),this.$el.append(e.el)},appendChildTo:function(e,t){this.renderChild(e),this.$(t).append(e.el)},prependChild:function(e){this.renderChild(e),this.$el.prepend(e.el)},prependChildTo:function(e,t){this.renderChild(e),this.$(t).prepend(e.el)},swapped:function(){this.trigger("swapped")},_leaveChildren:function(){this.children.chain().clone().each(function(e){e.leave&&e.leave()})},_removeFromParent:function(){this.parent&&this.parent._removeChild(this)},_removeChild:function(e){var t=this.children.indexOf(e);this.children.splice(t,1)}}),Support.CompositeView.extend=Backbone.View.extend,Support.SwappingRouter=function(e){Backbone.Router.apply(this,[e])},_.extend(Support.SwappingRouter.prototype,Backbone.Router.prototype,{swap:function(e){this.currentView&&this.currentView.leave&&this.currentView.leave(),this.currentView=e,$(this.el).html(this.currentView.render().el),this.currentView&&this.currentView.swapped&&this.currentView.swapped()}}),Support.SwappingRouter.extend=Backbone.Router.extend;var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return s[e]||"&amp;"}function i(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function n(e){return e instanceof a?e.toString():e||0===e?(e=""+e,c.test(e)?e.replace(l,t):e):""}function o(e){return e||0===e?h(e)&&0===e.length?!0:!1:!0}var r={},a=e,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;r.extend=i;var d=Object.prototype.toString;r.toString=d;var u=function(e){return"function"==typeof e};u(/x/)&&(u=function(e){return"function"==typeof e&&"[object Function]"===d.call(e)});var u;r.isFunction=u;var h=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===d.call(e):!1};return r.isArray=h,r.escapeExpression=n,r.isEmpty=o,r}(e),i=function(){"use strict";function e(e,t){var n;t&&t.firstLine&&(n=t.firstLine,e+=" - "+n+":"+t.firstColumn);for(var o=Error.prototype.constructor.call(this,e),r=0;r<i.length;r++)this[i[r]]=o[i[r]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var t,i=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),n=function(e,t){"use strict";function i(e,t){this.helpers=e||{},this.partials=t||{},n(this)}function n(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new s("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,i){var n=i.inverse||function(){},o=i.fn;return h(t)&&(t=t.call(this)),t===!0?o(this):t===!1||null==t?n(this):u(t)?t.length>0?e.helpers.each(t,i):n(this):o(t)}),e.registerHelper("each",function(e,t){var i,n=t.fn,o=t.inverse,r=0,a="";if(h(e)&&(e=e.call(this)),t.data&&(i=g(t.data)),e&&"object"==typeof e)if(u(e))for(var s=e.length;s>r;r++)i&&(i.index=r,i.first=0===r,i.last=r===e.length-1),a+=n(e[r],{data:i});else for(var l in e)e.hasOwnProperty(l)&&(i&&(i.key=l,i.index=r,i.first=0===r),a+=n(e[l],{data:i}),r++);return 0===r&&(a=o(this)),a}),e.registerHelper("if",function(e,t){return h(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),e.registerHelper("with",function(e,t){return h(e)&&(e=e.call(this)),a.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;e.log(n,t)})}function o(e,t){m.log(e,t)}var r={},a=e,s=t,l="1.3.0";r.VERSION=l;var c=4;r.COMPILER_REVISION=c;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=d;var u=a.isArray,h=a.isFunction,p=a.toString,f="[object Object]";r.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:m,log:o,registerHelper:function(e,t,i){if(p.call(e)===f){if(i||t)throw new s("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else i&&(t.not=i),this.helpers[e]=t},registerPartial:function(e,t){p.call(e)===f?a.extend(this.partials,e):this.partials[e]=t}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(m.level<=e){var i=m.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,t)}}};r.logger=m,r.log=o;var g=function(e){var t={};return a.extend(t,e),t};return r.createFrame=g,r}(t,i),o=function(e,t,i){"use strict";function n(e){var t=e&&e[0]||1,i=h;if(t!==i){if(i>t){var n=p[i],o=p[t];throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){if(!t)throw new u("No environment passed to template");var i=function(e,i,n,o,r,a){var s=t.VM.invokePartial.apply(this,arguments);if(null!=s)return s;if(t.compile){var l={helpers:o,partials:r,data:a};return r[i]=t.compile(e,{data:void 0!==a},t),r[i](n,l)}throw new u("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:d.escapeExpression,invokePartial:i,programs:[],program:function(e,t,i){var n=this.programs[e];return i?n=a(e,t,i):n||(n=this.programs[e]=a(e,t)),n},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i={},d.extend(i,t),d.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,o){o=o||{};var r,a,s=o.partial?o:t;o.partial||(r=o.helpers,a=o.partials);var l=e.call(n,s,i,r,a,o.data);return o.partial||t.VM.checkRevision(n.compilerInfo),l}}function r(e,t,i){var n=Array.prototype.slice.call(arguments,3),o=function(e,o){return o=o||{},t.apply(this,[e,o.data||i].concat(n))};return o.program=e,o.depth=n.length,o}function a(e,t,i){var n=function(e,n){return n=n||{},t(e,n.data||i)};return n.program=e,n.depth=0,n}function s(e,t,i,n,o,r){var a={partial:!0,helpers:n,partials:o,data:r};if(void 0===e)throw new u("The partial "+t+" could not be found");return e instanceof Function?e(i,a):void 0}function l(){return""}var c={},d=e,u=t,h=i.COMPILER_REVISION,p=i.REVISION_CHANGES;return c.checkRevision=n,c.template=o,c.programWithDepth=r,c.program=a,c.invokePartial=s,c.noop=l,c}(t,i,n),r=function(e,t,i,n,o){"use strict";var r,a=e,s=t,l=i,c=n,d=o,u=function(){var e=new a.HandlebarsEnvironment;return c.extend(e,a),e.SafeString=s,e.Exception=l,e.Utils=c,e.VM=d,e.template=function(t){return d.template(t,e)},e},h=u();return h.create=u,r=h}(n,e,i,t,o),a=function(e){"use strict";function t(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var i,n=e,o={ProgramNode:function(e,i,n,r){var a,s;3===arguments.length?(r=n,n=null):2===arguments.length&&(r=i,i=null),t.call(this,r),this.type="program",this.statements=e,this.strip={},n?(s=n[0],s?(a={first_line:s.firstLine,last_line:s.lastLine,last_column:s.lastColumn,first_column:s.firstColumn},this.inverse=new o.ProgramNode(n,i,a)):this.inverse=new o.ProgramNode(n,i),this.strip.right=i.left):i&&(this.strip.left=i.right)},MustacheNode:function(e,i,n,r,a){if(t.call(this,a),this.type="mustache",this.strip=r,null!=n&&n.charAt){var s=n.charAt(3)||n.charAt(2);this.escaped="{"!==s&&"&"!==s}else this.escaped=!!n;e instanceof o.SexprNode?this.sexpr=e:this.sexpr=new o.SexprNode(e,i),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,i,n){t.call(this,n),this.type="sexpr",this.hash=i;var o=this.id=e[0],r=this.params=e.slice(1),a=this.eligibleHelper=o.isSimple;this.isHelper=a&&(r.length||i)},PartialNode:function(e,i,n,o){t.call(this,o),this.type="partial",this.partialName=e,this.context=i,this.strip=n},BlockNode:function(e,i,o,r,a){if(t.call(this,a),e.sexpr.id.original!==r.path.original)throw new n(e.sexpr.id.original+" doesn't match "+r.path.original,this);this.type="block",this.mustache=e,this.program=i,this.inverse=o,this.strip={left:e.strip.left,right:r.strip.right},(i||o).strip.left=e.strip.right,(o||i).strip.right=r.strip.left,o&&!i&&(this.isInverse=!0)},ContentNode:function(e,i){t.call(this,i),this.type="content",this.string=e},HashNode:function(e,i){t.call(this,i),this.type="hash",this.pairs=e},IdNode:function(e,i){t.call(this,i),this.type="ID";for(var o="",r=[],a=0,s=0,l=e.length;l>s;s++){var c=e[s].part;if(o+=(e[s].separator||"")+c,".."===c||"."===c||"this"===c){if(r.length>0)throw new n("Invalid path: "+o,this);".."===c?a++:this.isScoped=!0}else r.push(c)}this.original=o,this.parts=r,this.string=r.join("."),this.depth=a,this.isSimple=1===e.length&&!this.isScoped&&0===a,this.stringModeValue=this.string},PartialNameNode:function(e,i){t.call(this,i),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,i){t.call(this,i),this.type="DATA",this.id=e},StringNode:function(e,i){t.call(this,i),this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e,i){t.call(this,i),this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e,i){t.call(this,i),this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e,i){t.call(this,i),this.type="comment",this.comment=e}};return i=o}(i),s=function(){"use strict";var e,t=function(){function e(e,t){return{left:"~"===e.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}function t(){this.yy={}}var i={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,i,n,o,r,a,s){var l=a.length-1;switch(r){case 1:return new o.ProgramNode(a[l-1],this._$);case 2:return new o.ProgramNode([],this._$);case 3:this.$=new o.ProgramNode([],a[l-1],a[l],this._$);break;case 4:this.$=new o.ProgramNode(a[l-2],a[l-1],a[l],this._$);break;case 5:this.$=new o.ProgramNode(a[l-1],a[l],[],this._$);break;case 6:this.$=new o.ProgramNode(a[l],this._$);break;case 7:this.$=new o.ProgramNode([],this._$);break;case 8:this.$=new o.ProgramNode([],this._$);break;case 9:this.$=[a[l]];break;case 10:a[l-1].push(a[l]),this.$=a[l-1];break;case 11:this.$=new o.BlockNode(a[l-2],a[l-1].inverse,a[l-1],a[l],this._$);break;case 12:this.$=new o.BlockNode(a[l-2],a[l-1],a[l-1].inverse,a[l],this._$);break;case 13:this.$=a[l];break;case 14:this.$=a[l];break;case 15:this.$=new o.ContentNode(a[l],this._$);break;case 16:this.$=new o.CommentNode(a[l],this._$);break;case 17:this.$=new o.MustacheNode(a[l-1],null,a[l-2],e(a[l-2],a[l]),this._$);break;case 18:this.$=new o.MustacheNode(a[l-1],null,a[l-2],e(a[l-2],a[l]),this._$);break;case 19:this.$={path:a[l-1],strip:e(a[l-2],a[l])};break;case 20:this.$=new o.MustacheNode(a[l-1],null,a[l-2],e(a[l-2],a[l]),this._$);break;case 21:this.$=new o.MustacheNode(a[l-1],null,a[l-2],e(a[l-2],a[l]),this._$);break;case 22:this.$=new o.PartialNode(a[l-2],a[l-1],e(a[l-3],a[l]),this._$);break;case 23:this.$=e(a[l-1],a[l]);break;case 24:this.$=new o.SexprNode([a[l-2]].concat(a[l-1]),a[l],this._$);break;case 25:this.$=new o.SexprNode([a[l]],null,this._$);break;case 26:this.$=a[l];break;case 27:this.$=new o.StringNode(a[l],this._$);break;case 28:this.$=new o.IntegerNode(a[l],this._$);break;case 29:this.$=new o.BooleanNode(a[l],this._$);break;case 30:this.$=a[l];break;case 31:a[l-1].isHelper=!0,this.$=a[l-1];break;case 32:this.$=new o.HashNode(a[l],this._$);break;case 33:this.$=[a[l-2],a[l]];break;case 34:this.$=new o.PartialNameNode(a[l],this._$);break;case 35:this.$=new o.PartialNameNode(new o.StringNode(a[l],this._$),this._$);break;case 36:this.$=new o.PartialNameNode(new o.IntegerNode(a[l],this._$));break;case 37:this.$=new o.DataNode(a[l],this._$);break;case 38:this.$=new o.IdNode(a[l],this._$);break;case 39:a[l-2].push({part:a[l],separator:a[l-1]}),this.$=a[l-2];break;case 40:this.$=[{part:a[l]}];break;case 43:this.$=[];break;case 44:a[l-1].push(a[l]);break;case 47:this.$=[a[l]];break;case 48:a[l-1].push(a[l])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,n=[0],o=[null],r=[],a=this.table,s="",l=0,c=0,d=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,v,y,b,_,w,x={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=t()),g=a[m]&&a[m][p]),"undefined"==typeof g||!g.length||!g[0]){var C="";if(!d){w=[];for(y in a[m])this.terminals_[y]&&y>2&&w.push("'"+this.terminals_[y]+"'");C=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:n.push(p),o.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(g[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,d>0&&d--);break;case 2:if(b=this.productions_[g[1]][1],x.$=o[o.length-b],x._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},h&&(x._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call(x,s,c,l,this.yy,g[1],o,r),"undefined"!=typeof v)return v;b&&(n=n.slice(0,-1*b*2),o=o.slice(0,-1*b),r=r.slice(0,-1*b)),n.push(this.productions_[g[1]][0]),o.push(x.$),r.push(x._$),_=a[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n,o;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),a=0;a<r.length&&(i=this._input.match(this.rules[r[a]]),!i||t&&!(i[0].length>t[0].length)||(t=i,n=a,this.options.flex));a++);return t?(o=t[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,n){function o(e,i){return t.yytext=t.yytext.substr(e,t.yyleng-i)}switch(i){case 0:if("\\\\"===t.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return o(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;
case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return o(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return t.yytext=o(1,2).replace(/\\"/g,'"'),32;case 24:return t.yytext=o(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return t.yytext=o(1,2),40;case 31:return"INVALID";case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return i.lexer=n,t.prototype=i,i.Parser=t,new t}();return e=t}(),l=function(e,t){"use strict";function i(e){return e.constructor===r.ProgramNode?e:(o.yy=r,o.parse(e))}var n={},o=e,r=t;return n.parser=o,n.parse=i,n}(s,a),c=function(e){"use strict";function t(){}function i(e,t,i){if(null==e||"string"!=typeof e&&e.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var n=i.parse(e),o=(new i.Compiler).compile(n,t);return(new i.JavaScriptCompiler).compile(o,t)}function n(e,t,i){function n(){var n=i.parse(e),o=(new i.Compiler).compile(n,t),r=(new i.JavaScriptCompiler).compile(o,t,void 0,!0);return i.template(r)}if(null==e||"string"!=typeof e&&e.constructor!==i.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var o;return function(e,t){return o||(o=n()),o.call(this,e,t)}}var o={},r=e;return o.Compiler=t,t.prototype={compiler:t,disassemble:function(){for(var e,t,i,n=this.opcodes,o=[],r=0,a=n.length;a>r;r++)if(e=n[r],"DECLARE"===e.opcode)o.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var s=0;s<e.args.length;s++)i=e.args[s],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),t.push(i);o.push(e.opcode+" "+t.join(" "))}return o.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var i=0;t>i;i++){var n=this.opcodes[i],o=e.opcodes[i];if(n.opcode!==o.opcode||n.args.length!==o.args.length)return!1;for(var r=0;r<n.args.length;r++)if(n.args[r]!==o.args[r])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(i=0;t>i;i++)if(!this.children[i].equals(e.children[i]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.accept(e)},accept:function(e){var t,i=e.strip||{};return i.left&&this.opcode("strip"),t=this[e.type](e),i.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,i=0,n=t.length;n>i;i++)this.accept(t[i]);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,i=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var o=0,r=i.depths.list.length;r>o;o++)t=i.depths.list[o],2>t||this.addDepth(t-1);return n},block:function(e){var t=e.mustache,i=e.program,n=e.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var o=t.sexpr,r=this.classifySexpr(o);"helper"===r?this.helperSexpr(o,i,n):"simple"===r?(this.simpleSexpr(o),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(o,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,i,n=e.pairs;this.opcode("pushHash");for(var o=0,r=n.length;r>o;o++)t=n[o],i=t[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type),"sexpr"===i.type&&this.sexpr(i)):this.accept(i),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(e,t,i){var n=e.id,o=n.parts[0],r=null!=t||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",o,r)},simpleSexpr:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,i){var n=this.setupFullMustacheParams(e,t,i),o=e.id.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",n.length,o);else{if(this.options.knownHelpersOnly)throw new r("You specified knownHelpersOnly, but used the unknown helper "+o,e);this.opcode("invokeHelper",n.length,o,e.isRoot)}},sexpr:function(e){var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var i=1,n=e.parts.length;n>i;i++)this.opcode("lookup",e.parts[i])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new r("Scoped data references are not supported: "+e.original,e);this.opcode("lookupData");for(var t=e.id.parts,i=0,n=t.length;n>i;i++)this.opcode("lookup",t[i])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifySexpr:function(e){var t=e.isHelper,i=e.eligibleHelper,n=this.options;if(i&&!t){var o=e.id.parts[0];n.knownHelpers[o]?t=!0:n.knownHelpersOnly&&(i=!1)}return t?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t,i=e.length;i--;)t=e[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this[t.type](t)},setupFullMustacheParams:function(e,t,i){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.hash(e.hash):this.opcode("emptyHash"),n}},o.precompile=i,o.compile=n,o}(i),d=function(e,t){"use strict";function i(e){this.value=e}function n(){}var o,r=e.COMPILER_REVISION,a=e.REVISION_CHANGES,s=e.log,l=t;n.prototype={nameLookup:function(e,t){var i,o;return 0===e.indexOf("depth")&&(i=!0),o=/^[0-9]+$/.test(t)?e+"["+t+"]":n.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",i?"("+e+" && "+o+")":o},compilerInfo:function(){var e=r,t=a[e];return"this.compilerInfo = ["+e+",'"+t+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,i,n){this.environment=e,this.options=t||{},s("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var o,r=e.opcodes;this.i=0;for(var a=r.length;this.i<a;this.i++)o=r[this.i],"DECLARE"===o.opcode?this[o.name]=o.value:this[o.opcode].apply(this,o.args),o.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(n)},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,i="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(i=i+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(i+=" data = data || {};"),e.push(i)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],o=0,r=this.environment.depths.list.length;r>o;o++)n.push("depth"+this.environment.depths.list[o]);var a=this.mergeSource();if(this.isChild||(a=this.compilerInfo()+a),e)return n.push(a),Function.apply(this,n);var l="function "+(this.name||"")+"("+n.join(",")+") {\n  "+a+"}";return s("debug",l+"\n\n"),l},mergeSource:function(){for(var e,t="",i=0,n=this.source.length;n>i;i++){var o=this.source[i];o.appendToBuffer?e=e?e+"\n    + "+o.content:o.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=o+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"sexpr"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t,i){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var n=this.lastHelper=this.setupHelper(e,t,!0),o=this.nameLookup("depth"+this.lastContext,t,"context"),r="helper = "+n.name+" || "+o;n.paramsInit&&(r+=","+n.paramsInit),this.push("("+r+",helper ? helper.call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+"))"),i||this.flushInline()},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var i=this.setupHelper(0,e,t),n=this.lastHelper=this.nameLookup("helpers",e,"helper"),o=this.nameLookup("depth"+this.lastContext,e,"context"),r=this.nextStack();i.paramsInit&&this.pushSource(i.paramsInit),this.pushSource("if (helper = "+n+") { "+r+" = helper.call("+i.callParams+"); }"),this.pushSource("else { helper = "+o+"; "+r+" = typeof helper === functionType ? helper.call("+i.callParams+") : helper; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),t=this.popStack());var o=this.hash;t&&o.contexts.push("'"+e+"': "+t),i&&o.types.push("'"+e+"': "+i),o.values.push("'"+e+"': ("+n+")")},compiler:n,compileChildren:function(e,t){for(var i,n,o=e.children,r=0,a=o.length;a>r;r++){i=o[r],n=new this.compiler;var s=this.matchExistingProgram(i);null==s?(this.context.programs.push(""),s=this.context.programs.length,i.index=s,i.name="program"+s,this.context.programs[s]=n.compile(i,t,this.context),this.context.environments[s]=i):(i.index=s,i.name="program"+s)}},matchExistingProgram:function(e){for(var t=0,i=this.context.environments.length;i>t;t++){var n=this.context.environments[t];if(n&&n.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,i=this.environment.children[e],n=i.depths.list,o=[i.index,i.name,"data"],r=0,a=n.length;a>r;r++)t=n[r],1===t?o.push("depth0"):o.push("depth"+(t-1));return(0===n.length?"self.program(":"self.programWithDepth(")+o.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n,o,r="",a=this.isInline();if(a){var s=this.popStack(!0);if(s instanceof i)t=s.value,o=!0;else{n=!this.stackSlot;var l=n?this.incrStack():this.topStackName();r="("+this.push(l)+" = "+s+"),",t=this.topStack()}}else t=this.topStack();var c=e.call(this,t);return a?(o||this.popStack(),n&&this.stackSlot--,this.push("("+r+c+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+r+c+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var o=e[t];o instanceof i?this.compileStack.push(o):this.pushStack(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return n},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof i?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,i){var n=[],o=this.setupParams(e,n,i),r=this.nameLookup("helpers",t,"helper");return{params:n,paramsInit:o,name:r,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(t)].concat(n).join(", ")}},setupOptions:function(e,t){var i,n,o,r=[],a=[],s=[];r.push("hash:"+this.popStack()),this.options.stringParams&&(r.push("hashTypes:"+this.popStack()),r.push("hashContexts:"+this.popStack())),n=this.popStack(),o=this.popStack(),(o||n)&&(o||(this.context.aliases.self="this",o="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),r.push("inverse:"+n),r.push("fn:"+o));for(var l=0;e>l;l++)i=this.popStack(),t.push(i),this.options.stringParams&&(s.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+a.join(",")+"]"),r.push("types:["+s.join(",")+"]")),this.options.data&&r.push("data:data"),r},setupParams:function(e,t,i){var n="{"+this.setupOptions(e,t).join(",")+"}";return i?(this.useRegister("options"),t.push("options"),"options="+n):(t.push(n),"")}};for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),d=n.RESERVED_WORDS={},u=0,h=c.length;h>u;u++)d[c[u]]=!0;return n.isValidJavaScriptVariableName=function(e){return!n.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)?!0:!1},o=n}(n,i),u=function(e,t,i,n,o){"use strict";var r,a=e,s=t,l=i.parser,c=i.parse,d=n.Compiler,u=n.compile,h=n.precompile,p=o,f=a.create,m=function(){var e=f();return e.compile=function(t,i){return u(t,i,e)},e.precompile=function(t,i){return h(t,i,e)},e.AST=s,e.Compiler=d,e.JavaScriptCompiler=p,e.Parser=l,e.parse=c,e};return a=m(),a.create=m,r=a}(r,a,l,c,d);return u}();(function(){!function(e){return e.fn.interactiveForm=function(t){var i,n,o,r,a;return null==t&&(t={}),a=function(i,n){var o,r;return r=i.serialize(),o=t.method||i.attr("method"),e.ajax({type:o,url:i.attr("action"),data:r,dataType:"json",success:function(e){return t.onSuccess(n,e)},error:function(e){return t.onError(n,e)}})},i=function(t){var i;return i=e(t.target),i.data("skip-interactive-form")?void 0:a(e(this),i)},r=null,o=function(t){return null!=r&&clearTimeout(r),r=setTimeout(function(i){return function(){return a(e(i),e(t.target))}}(this),1e3)},n=t.changeEvents||[],this.on("change "+n.join(" "),i).on("keyup",o),this}}(jQuery)}).call(this),function(){$(function(){return $('form[data-interactive="true"]').interactiveForm({changeEvents:["ifToggled"],method:"put",onSuccess:function(e,t){var i;return i=e.closest(".form-group").find("em.feedback").first(),i.html(I18n.t("saved")).removeClass("error").addClass("success").hide().fadeIn(200)},onError:function(e,t){var i,n;return n=Util.getAjaxErrorMessages(t),i=e.closest(".form-group").find("em.feedback").first(),i.html(n.join(", ")).removeClass("success").addClass("error").hide().fadeIn(200)}})})}.call(this),function(e){jQuery.fn.extend({elastic:function(){var t=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){function i(){var e=Math.floor(parseInt(r.width(),10));a.width()!==e&&(a.css({width:e+"px"}),o(!0))}function n(e,t){var i=Math.floor(parseInt(e,10));r.height()!==i&&r.css({height:i+"px",overflow:t})}function o(e){var t=r.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),i=a.html().replace(/<br>/gi,"<br />");if((e||t+"&nbsp;"!==i)&&(a.html(t+"&nbsp;"),Math.abs(a.height()+s-r.height())>3)){var o=a.height()+s;o>=c?n(c,"auto"):l>=o?n(l,"hidden"):n(o,"hidden")}}if("textarea"!==this.type)return!1;var r=jQuery(this),a=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),s=parseInt(r.css("line-height"),10)||parseInt(r.css("font-size"),"10"),l=parseInt(r.css("height"),10)||3*s,c=parseInt(r.css("max-height"),10)||Number.MAX_VALUE;0>c&&(c=Number.MAX_VALUE),a.appendTo(r.parent());for(var d=t.length;d--;)a.css(t[d].toString(),r.css(t[d].toString()));r.css({overflow:"hidden"}),r.bind("keyup change cut paste",function(){o()}),e(window).bind("resize",i),r.bind("resize",i),r.bind("update",o),r.bind("blur",function(){a.height()<c&&(a.height()>l?r.height(a.height()):r.height(l))}),r.bind("input paste",function(e){setTimeout(o,250)}),o()})}})}(jQuery),function(e,t,i){var n={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},o={triggerChar:"@",onDataRequest:e.noop,minChars:2,allowRepeat:!1,showAvatars:!0,elastic:!0,onCaret:!1,classes:{autoCompleteItemActive:"active"},templates:{wrapper:t.template('<div class="mentions-input-box"></div>'),autocompleteList:t.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:t.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:t.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:t.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:t.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:t.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:t.template("<strong><span><%= value %></span></strong>")}},r={htmlEncode:function(e){return t.escape(e)},regexpEncode:function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},highlightTerm:function(e,t){return t||t.length?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):e},setCaratPosition:function(e,t){if(e.createTextRange){var i=e.createTextRange();i.move("character",t),i.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},rtrim:function(e){return e.replace(/\s+$/,"")}},a=function(i){function a(){P=e(A),"true"!==P.attr("data-mentions-input")&&(E=P.parent(),M=e(i.templates.wrapper()),P.wrapAll(M),M=E.find("> div.mentions-input-box"),P.attr("data-mentions-input","true"),P.bind("keydown",w),P.bind("keypress",_),P.bind("click",v),P.bind("blur",y),navigator.userAgent.indexOf("MSIE 8")>-1?P.bind("propertychange",b):P.bind("input",b),i.elastic&&P.elastic())}function s(){I=e(i.templates.autocompleteList()),I.appendTo(M),I.delegate("li","mousedown",g)}function l(){L=e(i.templates.mentionsOverlay()),L.prependTo(M)}function c(){var e=p();t.each(F,function(t){var n=i.templates.mentionItemSyntax(t);e=e.replace(new RegExp(r.regexpEncode(t.value),"g"),n)});var n=r.htmlEncode(e);t.each(F,function(e){var o=t.extend({},e,{value:r.htmlEncode(e.value)}),a=i.templates.mentionItemSyntax(o),s=i.templates.mentionItemHighlight(o);n=n.replace(new RegExp(r.regexpEncode(a),"g"),s)}),n=n.replace(/\n/g,"<br />"),n=n.replace(/ {2}/g,"&nbsp; "),P.data("messageText",e),P.trigger("updated"),L.find("div").html(n)}function d(){N=[]}function u(){var e=p();F=t.reject(F,function(t,i){return!t.value||-1==e.indexOf(t.value)}),F=t.compact(F)}function h(e){var n=p(),o=new RegExp("\\"+i.triggerChar+R,"gi");o.exec(n);var a=o.lastIndex-R.length-1,s=o.lastIndex,l=n.substr(0,a),u=n.substr(s,n.length),h=(l+e.value).length+1;t.find(F,function(t){return t.id==e.id})||F.push(e),d(),R="",x();var f=l+e.value+" "+u;P.val(f),P.trigger("mention"),c(),P.focus(),r.setCaratPosition(P[0],h)}function p(){return e.trim(P.val())}function f(t){var i,n,o,r,a,s,l,c,d,u,h;if((d=t[0])&&e(d).is("textarea")&&null!=d.selectionEnd){for(l={position:"absolute",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word",boxSizing:"content-box",top:0,left:-9999},c=["boxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","textDecoration","textIndent","textTransform","width","word-spacing"],u=0,h=c.length;h>u;u++)a=c[u],l[a]=e(d).css(a);return o=document.createElement("div"),e(o).css(l),e(d).after(o),n=document.createTextNode(d.value.substring(0,d.selectionEnd)),i=document.createTextNode(d.value.substring(d.selectionEnd)),r=document.createElement("span"),r.innerHTML="&nbsp;",o.appendChild(n),o.appendChild(r),o.appendChild(i),o.scrollTop=d.scrollTop,s=e(r).position(),e(o).remove(),s}}function m(){var t=e(P).offset().top,i=e("body").offset().top,n=e(window).scrollTop();n>t&&e(window).scrollTop(t-i)}function g(t){var i=e(this),n=O[i.attr("data-uid")];return h(n),m(),!1}function v(e){d()}function y(e){x()}function b(e){c(),u();var n=t.lastIndexOf(N,i.triggerChar);n>-1&&(R=N.slice(n+1).join(""),R=r.rtrim(R),t.defer(t.bind(S,this,R)))}function _(e){if(e.keyCode!==n.BACKSPACE){var t=String.fromCharCode(e.which||e.keyCode);N.push(t)}}function w(i){if(i.keyCode===n.LEFT||i.keyCode===n.RIGHT||i.keyCode===n.HOME||i.keyCode===n.END)return t.defer(d),void(navigator.userAgent.indexOf("MSIE 9")>-1&&t.defer(c));if(i.keyCode===n.BACKSPACE)return void(N=N.slice(0,-1+N.length));if(!I.is(":visible"))return!0;switch(i.keyCode){case n.UP:case n.DOWN:var o=null;return o=i.keyCode===n.DOWN?$&&$.length?$.next():I.find("li").first():e($).prev(),o.length&&C(o),!1;case n.RETURN:case n.TAB:if($&&$.length)return $.trigger("mousedown"),!1}return!0}function x(){$=null,I.empty().hide()}function C(e){e.addClass(i.classes.autoCompleteItemActive),e.siblings().removeClass(i.classes.autoCompleteItemActive),$=e}function k(n,o){if(I.show(),!i.allowRepeat){var a=t.pluck(F,"value");o=t.reject(o,function(e){return t.include(a,e.name)})}if(!o.length)return void x();I.empty();var s=e("<ul>").appendTo(I).hide();t.each(o,function(o,a){var l=t.uniqueId("mention_");O[l]=t.extend({},o,{value:o.name});var c=e(i.templates.autocompleteListItem({id:r.htmlEncode(o.id),display:r.htmlEncode(o.name),type:r.htmlEncode(o.type),content:r.highlightTerm(r.htmlEncode(o.display?o.display:o.name),n)})).attr("data-uid",l);if(0===a&&C(c),i.showAvatars){var d;d=e(o.avatar?i.templates.autocompleteListItemAvatar({avatar:o.avatar}):i.templates.autocompleteListItemIcon({icon:o.icon})),d.prependTo(c)}c=c.appendTo(s)}),I.show(),i.onCaret&&T(I,P),s.show()}function S(e){e&&e.length&&e.length>=i.minChars?i.onDataRequest.call(this,"search",e,function(t){k(e,t)}):x()}function T(e,t){var i=f(t),n=parseInt(t.css("line-height"),10)||18;e.css("width","15em"),e.css("left",i.left),e.css("top",n+i.top)}function D(){P.val(""),F=[],c()}var A,P,E,I,M,L,$,F=[],O={},N=[],R="";return i=e.extend(!0,{},o,i),{init:function(e){A=e,a(),s(),l(),D(),i.prefillMention&&h(i.prefillMention)},val:function(e){t.isFunction(e)&&e.call(this,F.length?P.data("messageText"):p())},reset:function(){D()},getMentions:function(e){t.isFunction(e)&&e.call(this,F)}}};e.fn.mentionsInput=function(i,n){var o=arguments;return"object"!=typeof i&&i||(n=i),this.each(function(){var r=e.data(this,"mentionsInput")||e.data(this,"mentionsInput",new a(n));return t.isFunction(r[i])?r[i].apply(this,Array.prototype.slice.call(o,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist"):r.init.call(this,this)})}}(jQuery,_),function(){$.fn.mention=function(e){return null==e&&(e={}),this.each(function(t,i){var n,o,r,a,s;n=$(i),s=n.val();try{return a=e.users||null,o={minChars:0,allowRepeat:!0,templates:{mentionItemSyntax:_.template("<%= value %>")},onDataRequest:function(e,t,i){var n;return n=function(e){return function(e){return _.inject(e,function(e,i){return i.username.toLowerCase().indexOf(t.toLowerCase())>-1&&e.push({id:i.id,name:"@"+i.username,avatar:i.avatar,type:"user"}),e},[])}}(this),null!==a?i.call(this,n(a)):$.ajax({url:"/users",data:{current_organization:!0,accepted_or_not_invited:!0},dataType:"json",success:function(e){return function(t){return a=t,i.call(e,n(t))}}(this)})}},r=$.extend({},o,e),n.mentionsInput(r)}finally{n.val(s)}})}}.call(this),function(){Handlebars.registerHelper("breaklines",function(e){return e=Handlebars.Utils.escapeExpression(e),e=e.replace(/(\r\n|\n|\r)/g,"<br />"),new Handlebars.SafeString(e)}),Handlebars.registerHelper("truncate",function(e,t){return new Handlebars.SafeString(Util.truncate(e,t))}),Handlebars.registerHelper("gravatar",function(e,t){var i,n;return i=e.toLowerCase(),n=null!=t.hash.size?t.hash.size:32,Util.gravatar(i,n)}),Handlebars.registerHelper("formatDatetime",function(e){return moment(e).format("MMM D [at] H:mm a")}),Handlebars.registerHelper("truncateMiddle",function(e,t){return new Handlebars.SafeString(Util.truncateMiddle(e,t))}),Handlebars.registerHelper("highlightMentions",function(e){return new Handlebars.SafeString(Util.highlightMentions(e))}),Handlebars.registerHelper("t",function(e){return new Handlebars.SafeString(I18n.t(e))})}.call(this),function(e){function t(e,t,o){var r=e[0],a=/er/.test(o)?g:/bl/.test(o)?f:h,s=o==v?{checked:r[h],disabled:r[f],indeterminate:"true"==e.attr(g)||"false"==e.attr(m)}:r[a];if(/^(ch|di|in)/.test(o)&&!s)i(e,a);else if(/^(un|en|de)/.test(o)&&s)n(e,a);else if(o==v)for(var l in s)s[l]?i(e,l,!0):n(e,l,!0);else t&&"toggle"!=o||(t||e[C]("ifClicked"),s?r[y]!==u&&n(e,a):i(e,a))}function i(t,i,o){var d=t[0],v=t.parent(),b=i==h,_=i==g,C=i==f,k=_?m:b?p:"enabled",T=r(t,k+a(d[y])),D=r(t,i+a(d[y]));if(d[i]!==!0){if(!o&&i==h&&d[y]==u&&d.name){var A=t.closest("form"),P='input[name="'+d.name+'"]';P=A.length?A.find(P):e(P),P.each(function(){this!==d&&e(this).data(l)&&n(e(this),i)})}_?(d[i]=!0,d[h]&&n(t,h,"force")):(o||(d[i]=!0),b&&d[g]&&n(t,g,!1)),s(t,b,i,o)}d[f]&&r(t,S,!0)&&v.find("."+c).css(S,"default"),v[w](D||r(t,i)||""),v.attr("role")&&!_&&v.attr("aria-"+(C?f:h),"true"),v[x](T||r(t,k)||"")}function n(e,t,i){var n=e[0],o=e.parent(),l=t==h,d=t==g,u=t==f,v=d?m:l?p:"enabled",b=r(e,v+a(n[y])),_=r(e,t+a(n[y]));n[t]!==!1&&((d||!i||"force"==i)&&(n[t]=!1),s(e,l,v,i)),!n[f]&&r(e,S,!0)&&o.find("."+c).css(S,"pointer"),o[x](_||r(e,t)||""),o.attr("role")&&!d&&o.attr("aria-"+(u?f:h),"false"),o[w](b||r(e,v)||"")}function o(t,i){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),i&&t[C](i),t.off(".i").unwrap(),e(k+'[for="'+t[0].id+'"]').add(t.closest(k)).off(".i"))}function r(e,t,i){return e.data(l)?e.data(l).o[t+(i?"":"Class")]:void 0}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,i,n){n||(t&&e[C]("ifToggled"),e[C]("ifChanged")[C]("if"+a(i)))}var l="iCheck",c=l+"-helper",d="checkbox",u="radio",h="checked",p="un"+h,f="disabled",m="determinate",g="in"+m,v="update",y="type",b="click",_="touchbegin.i touchend.i",w="addClass",x="removeClass",C="trigger",k="label",S="cursor",T=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(r,a){var s='input[type="'+d+'"], input[type="'+u+'"]',p=e(),m=function(t){
t.each(function(){var t=e(this);p=t.is(s)?p.add(t):p.add(t.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),m(this),p.each(function(){var i=e(this);"destroy"==r?o(i,"ifDestroyed"):t(i,!0,r),e.isFunction(a)&&a()});if("object"!=typeof r&&r)return this;var S=e.extend({checkedClass:h,disabledClass:f,indeterminateClass:g,labelHover:!0},r),D=S.handle,A=S.hoverClass||"hover",P=S.focusClass||"focus",E=S.activeClass||"active",I=!!S.labelHover,M=S.labelHoverClass||"hover",L=0|(""+S.increaseArea).replace("%","");return(D==d||D==u)&&(s='input[type="'+D+'"]'),-50>L&&(L=-50),m(this),p.each(function(){var r=e(this);o(r);var a,s=this,p=s.id,m=-L+"%",g=100+2*L+"%",D={position:"absolute",top:m,left:m,display:"block",width:g,height:g,margin:0,padding:0,background:"#fff",border:0,opacity:0},$=T?{position:"absolute",visibility:"hidden"}:L?D:{position:"absolute",opacity:0},F=s[y]==d?S.checkboxClass||"i"+d:S.radioClass||"i"+u,O=e(k+'[for="'+p+'"]').add(r.closest(k)),N=!!S.aria,R=l+"-"+Math.random().toString(36).substr(2,6),j='<div class="'+F+'" '+(N?'role="'+s[y]+'" ':"");N&&O.each(function(){j+='aria-labelledby="',this.id?j+=this.id:(this.id=R,j+=R),j+='"'}),j=r.wrap(j+"/>")[C]("ifCreated").parent().append(S.insert),a=e('<ins class="'+c+'"/>').css(D).appendTo(j),r.data(l,{o:S,s:r.attr("style")}).css($),!!S.inheritClass&&j[w](s.className||""),!!S.inheritID&&p&&j.attr("id",l+"-"+p),"static"==j.css("position")&&j.css("position","relative"),t(r,!0,v),O.length&&O.on(b+".i mouseover.i mouseout.i "+_,function(i){var n=i[y],o=e(this);if(!s[f]){if(n==b){if(e(i.target).is("a"))return;t(r,!1,!0)}else I&&(/ut|nd/.test(n)?(j[x](A),o[x](M)):(j[w](A),o[w](M)));if(!T)return!1;i.stopPropagation()}}),r.on(b+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[y],o=e.keyCode;return t==b?!1:"keydown"==t&&32==o?(s[y]==u&&s[h]||(s[h]?n(r,h):i(r,h)),!1):void("keyup"==t&&s[y]==u?!s[h]&&i(r,h):/us|ur/.test(t)&&j["blur"==t?x:w](P))}),a.on(b+" mousedown mouseup mouseover mouseout "+_,function(e){var i=e[y],n=/wn|up/.test(i)?E:A;if(!s[f]){if(i==b?t(r,!1,!0):(/wn|er|in/.test(i)?j[w](n):j[x](n+" "+E),O.length&&I&&n==A&&O[/ut|nd/.test(i)?x:w](M)),!T)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(e){"use strict";function t(e){var t={};if(void 0===e.selectionStart){e.focus();var i=document.selection.createRange();t.length=i.text.length,i.moveStart("character",-e.value.length),t.end=i.text.length,t.start=t.end-t.length}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start;return t}function i(e,t,i){if(void 0===e.selectionStart){e.focus();var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()}else e.selectionStart=t,e.selectionEnd=i}function n(t,i){e.each(i,function(e,n){"function"==typeof n?i[e]=n(t,i,e):"function"==typeof t.autoNumeric[n]&&(i[e]=t.autoNumeric[n](t,i,e))})}function o(e,t){"string"==typeof e[t]&&(e[t]*=1)}function r(e,t){n(e,t),t.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var i=t.vMax.toString().split("."),r=t.vMin||0===t.vMin?t.vMin.toString().split("."):[];if(o(t,"vMax"),o(t,"vMin"),o(t,"mDec"),t.mDec="CHF"===t.mRound?"2":t.mDec,t.allowLeading=!0,t.aNeg=t.vMin<0?"-":"",i[0]=i[0].replace("-",""),r[0]=r[0].replace("-",""),t.mInt=Math.max(i[0].length,r[0].length,1),null===t.mDec){var a=0,s=0;i[1]&&(a=i[1].length),r[1]&&(s=r[1].length),t.mDec=Math.max(a,s)}null===t.altDec&&t.mDec>0&&("."===t.aDec&&","!==t.aSep?t.altDec=",":","===t.aDec&&"."!==t.aSep&&(t.altDec="."));var l=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=l,t.skipFirstAutoStrip=new RegExp(l+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var c="-"+t.aNum+"\\"+t.aDec;return t.allowedAutoStrip=new RegExp("[^"+c+"]","gi"),t.numRegAutoStrip=new RegExp(l+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function a(e,t,i){if(t.aSign)for(;e.indexOf(t.aSign)>-1;)e=e.replace(t.aSign,"");e=e.replace(t.skipFirstAutoStrip,"$1$2"),e=e.replace(t.skipLastAutoStrip,"$1"),e=e.replace(t.allowedAutoStrip,""),t.altDec&&(e=e.replace(t.altDec,t.aDec));var n=e.match(t.numRegAutoStrip);if(e=n?[n[1],n[2],n[3]].join(""):"",("allow"===t.lZero||"keep"===t.lZero)&&"strip"!==i){var o=[],r="";o=e.split(t.aDec),-1!==o[0].indexOf("-")&&(r="-",o[0]=o[0].replace("-","")),o[0].length>t.mInt&&"0"===o[0].charAt(0)&&(o[0]=o[0].slice(1)),e=r+o.join(t.aDec)}if(i&&"deny"===t.lZero||i&&"allow"===t.lZero&&t.allowLeading===!1){var a="^"+t.aNegRegAutoStrip+"0*(\\d"+("leading"===i?")":"|$)");a=new RegExp(a),e=e.replace(a,"$1$2")}return e}function s(e,t){if("p"===t.pSign){var i=t.nBracket.split(",");t.hasFocus||t.removeBrackets?(t.hasFocus&&e.charAt(0)===i[0]||t.removeBrackets&&e.charAt(0)===i[0])&&(e=e.replace(i[0],t.aNeg),e=e.replace(i[1],"")):(e=e.replace(t.aNeg,""),e=i[0]+e+i[1])}return e}function l(e,t){if(e){var i=+e;if(1e-6>i&&i>-1)e=+e,1e-6>e&&e>0&&(e=(e+10).toString(),e=e.substring(1)),0>e&&e>-1&&(e=(e-10).toString(),e="-"+e.substring(2)),e=e.toString();else{var n=e.split(".");void 0!==n[1]&&(0===+n[1]?e=n[0]:(n[1]=n[1].replace(/0*$/,""),e=n.join(".")))}}return"keep"===t.lZero?e:e.replace(/^0*(\d)/,"$1")}function c(e,t,i){return t&&"."!==t&&(e=e.replace(t,".")),i&&"-"!==i&&(e=e.replace(i,"-")),e.match(/\d/)||(e+="0"),e}function d(e,t,i){return i&&"-"!==i&&(e=e.replace("-",i)),t&&"."!==t&&(e=e.replace(".",t)),e}function u(e,t,i){return""===e||e===t.aNeg?"zero"===t.wEmpty?e+"0":"sign"===t.wEmpty||i?e+t.aSign:e:null}function h(e,t){e=a(e,t);var i=e.replace(",","."),n=u(e,t,!0);if(null!==n)return n;var o="";o=2===t.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===t.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var r=e.split(t.aDec);t.altDec&&1===r.length&&(r=e.split(t.altDec));var l=r[0];if(t.aSep)for(;o.test(l);)l=l.replace(o,"$1"+t.aSep+"$2");if(0!==t.mDec&&r.length>1?(r[1].length>t.mDec&&(r[1]=r[1].substring(0,t.mDec)),e=l+t.aDec+r[1]):e=l,t.aSign){var c=-1!==e.indexOf(t.aNeg);e=e.replace(t.aNeg,""),e="p"===t.pSign?t.aSign+e:e+t.aSign,c&&(e=t.aNeg+e)}return 0>i&&null!==t.nBracket&&(e=s(e,t)),e}function p(e,t){e=""===e?"0":e.toString(),o(t,"mDec"),"CHF"===t.mRound&&(e=(Math.round(20*e)/20).toString());var i="",n=0,r="",a="boolean"==typeof t.aPad||null===t.aPad?t.aPad?t.mDec:0:+t.aPad,s=function(e){var t=0===a?/(\.(?:\d*[1-9])?)0*$/:1===a?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+a+"}(?:\\d*[1-9])?)0*$");return e=e.replace(t,"$1"),0===a&&(e=e.replace(/\.$/,"")),e};"-"===e.charAt(0)&&(r="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),"-"===r&&0===+e&&(r=""),(+e>0&&"keep"!==t.lZero||e.length>0&&"allow"===t.lZero)&&(e=e.replace(/^0*(\d)/,"$1"));var l=e.lastIndexOf("."),c=-1===l?e.length-1:l,d=e.length-1-c;if(d<=t.mDec){if(i=e,a>d){-1===l&&(i+=t.aDec);for(var u="000000";a>d;)u=u.substring(0,a-d),i+=u,d+=u.length}else d>a?i=s(i):0===d&&0===a&&(i=i.replace(/\.$/,""));if("CHF"!==t.mRound)return 0===+i?i:r+i;"CHF"===t.mRound&&(l=i.lastIndexOf("."),e=i)}var h=l+t.mDec,p=+e.charAt(h+1),f=e.substring(0,h+1).split(""),m="."===e.charAt(h)?e.charAt(h-1)%2:e.charAt(h)%2,g=!0;if(1!==m&&(m=0===m&&e.substring(h+2,e.length)>0?1:0),p>4&&"S"===t.mRound||p>4&&"A"===t.mRound&&""===r||p>5&&"A"===t.mRound&&"-"===r||p>5&&"s"===t.mRound||p>5&&"a"===t.mRound&&""===r||p>4&&"a"===t.mRound&&"-"===r||p>5&&"B"===t.mRound||5===p&&"B"===t.mRound&&1===m||p>0&&"C"===t.mRound&&""===r||p>0&&"F"===t.mRound&&"-"===r||p>0&&"U"===t.mRound||"CHF"===t.mRound)for(n=f.length-1;n>=0;n-=1)if("."!==f[n]){if("CHF"===t.mRound&&f[n]<=2&&g){f[n]=0,g=!1;break}if("CHF"===t.mRound&&f[n]<=7&&g){f[n]=5,g=!1;break}if("CHF"===t.mRound&&g?(f[n]=10,g=!1):f[n]=+f[n]+1,f[n]<10)break;n>0&&(f[n]="0")}return f=f.slice(0,h+1),i=s(f.join("")),0===+i?i:r+i}function f(e,t,i){var n=t.aDec,o=t.mDec;if(e="paste"===i?p(e,t):e,n&&o){var r=e.split(n);r[1]&&r[1].length>o&&(o>0?(r[1]=r[1].substring(0,o),e=r.join(n)):e=r[0])}return e}function m(e,t){e=a(e,t),e=f(e,t),e=c(e,t.aDec,t.aNeg);var i=+e;return i>=t.vMin&&i<=t.vMax}function g(t,i){this.settings=i,this.that=t,this.$that=e(t),this.formatted=!1,this.settingsClone=r(this.$that,this.settings),this.value=t.value}function v(t){return"string"==typeof t&&(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),e(t)}function y(e,t,i){var n=e.data("autoNumeric");n||(n={},e.data("autoNumeric",n));var o=n.holder;return(void 0===o&&t||i)&&(o=new g(e.get(0),t),n.holder=o),o}g.prototype={init:function(e){this.value=this.that.value,this.settingsClone=r(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=t(this.that),("keydown"===e.type||"keyup"===e.type)&&(this.kdCode=e.keyCode),this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,t,n){e=Math.max(e,0),t=Math.min(t,this.that.value.length),this.selection={start:e,end:t,length:t-e},(void 0===n||n)&&i(this.that,e,t)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value,t=e.substring(0,this.selection.start),i=e.substring(this.selection.end,e.length);return[t,i]},getBeforeAfterStriped:function(){var e=this.getBeforeAfter();return e[0]=a(e[0],this.settingsClone),e[1]=a(e[1],this.settingsClone),e},normalizeParts:function(e,t){var i=this.settingsClone;t=a(t,i);var n=t.match(/^\d/)?!0:"leading";e=a(e,i,n),""!==e&&e!==i.aNeg||"deny"!==i.lZero||t>""&&(t=t.replace(/^0*(\d)/,"$1"));var o=e+t;if(i.aDec){var r=o.match(new RegExp("^"+i.aNegRegAutoStrip+"\\"+i.aDec));r&&(e=e.replace(r[1],r[1]+"0"),o=e+t)}return"zero"!==i.wEmpty||o!==i.aNeg&&""!==o||(e+="0"),[e,t]},setValueParts:function(e,t,i){var n=this.settingsClone,o=this.normalizeParts(e,t),r=o.join(""),a=o[0].length;return m(r,n)?(r=f(r,n,i),a>r.length&&(a=r.length),this.value=r,this.setPosition(a,!1),!0):!1},signPosition:function(){var e=this.settingsClone,t=e.aSign,i=this.that;if(t){var n=t.length;if("p"===e.pSign){var o=e.aNeg&&i.value&&i.value.charAt(0)===e.aNeg;return o?[1,n+1]:[0,n]}var r=i.value.length;return[r-n,r]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),i=this.selection;i.start<t[1]&&i.end>t[0]&&((i.start<t[0]||i.end>t[1])&&this.value.substring(Math.max(i.start,t[0]),Math.min(i.end,t[1])).match(/^\s*$/)?i.start<t[0]?this.setSelection(i.start,t[0],e):this.setSelection(t[1],i.end,e):this.setSelection(Math.min(i.start,t[0]),Math.max(i.end,t[1]),e))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,e[0]=e[0].substr(0,t[0].length)+a(e[0].substr(t[0].length),this.settingsClone),this.setValueParts(e[0],e[1],"paste")||(this.value=t.join(""),this.setPosition(t[0].length,!1))}},skipAllways:function(e){var t=this.kdCode,i=this.which,n=this.ctrlKey,o=this.cmdKey,r=this.shiftKey;if((n||o)&&"keyup"===e.type&&void 0!==this.valuePartsBeforePaste||r&&45===t)return this.checkPaste(),!1;if(t>=112&&123>=t||t>=91&&93>=t||t>=9&&31>=t||8>t&&(0===i||i===t)||144===t||145===t||45===t||224===t)return!0;if((n||o)&&65===t)return!0;if((n||o)&&(67===t||86===t||88===t))return"keydown"===e.type&&this.expandSelectionOnSign(),(86===t||45===t)&&("keydown"===e.type||"keypress"===e.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===e.type||"keypress"===e.type||67===t;if(n||o)return!0;if(37===t||39===t){var a=this.settingsClone.aSep,s=this.selection.start,l=this.that.value;return"keydown"===e.type&&a&&!this.shiftKey&&(37===t&&l.charAt(s-2)===a?this.setPosition(s-1):39===t&&l.charAt(s+1)===a&&this.setPosition(s+1)),!0}return t>=34&&40>=t?!0:!1},processAllways:function(){var e;return 8===this.kdCode||46===this.kdCode?(this.selection.length?(this.expandSelectionOnSign(!1),e=this.getBeforeAfterStriped(),this.setValueParts(e[0],e[1])):(e=this.getBeforeAfterStriped(),8===this.kdCode?e[0]=e[0].substring(0,e[0].length-1):e[1]=e[1].substring(1,e[1].length),this.setValueParts(e[0],e[1])),!0):!1},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),i=this.getBeforeAfterStriped(),n=i[0],o=i[1];return t===e.aDec||e.altDec&&t===e.altDec||("."===t||","===t)&&110===this.kdCode?e.mDec&&e.aDec?e.aNeg&&o.indexOf(e.aNeg)>-1?!0:n.indexOf(e.aDec)>-1?!0:o.indexOf(e.aDec)>0?!0:(0===o.indexOf(e.aDec)&&(o=o.substr(1)),this.setValueParts(n+e.aDec,o),!0):!0:"-"===t||"+"===t?e.aNeg?(""===n&&o.indexOf(e.aNeg)>-1&&(n=e.aNeg,o=o.substring(1,o.length)),n=n.charAt(0)===e.aNeg?n.substring(1,n.length):"-"===t?e.aNeg+n:n,this.setValueParts(n,o),!0):!0:t>="0"&&"9">=t?(e.aNeg&&""===n&&o.indexOf(e.aNeg)>-1&&(n=e.aNeg,o=o.substring(1,o.length)),e.vMax<=0&&e.vMin<e.vMax&&-1===this.value.indexOf(e.aNeg)&&"0"!==t&&(n=e.aNeg+n),this.setValueParts(n+t,o),!0):!0},formatQuick:function(){var e=this.settingsClone,t=this.getBeforeAfterStriped(),i=this.value;if((""===e.aSep||""!==e.aSep&&-1===i.indexOf(e.aSep))&&(""===e.aSign||""!==e.aSign&&-1===i.indexOf(e.aSign))){var n=[],o="";n=i.split(e.aDec),n[0].indexOf("-")>-1&&(o="-",n[0]=n[0].replace("-",""),t[0]=t[0].replace("-","")),n[0].length>e.mInt&&"0"===t[0].charAt(0)&&(t[0]=t[0].slice(1)),t[0]=o+t[0]}var r=h(this.value,this.settingsClone),a=r.length;if(r){var s=t[0].split(""),l=0;for(l;l<s.length;l+=1)s[l].match("\\d")||(s[l]="\\"+s[l]);var c=new RegExp("^.*?"+s.join(".*?")),d=r.match(c);d?(a=d[0].length,(0===a&&r.charAt(0)!==e.aNeg||1===a&&r.charAt(0)===e.aNeg)&&e.aSign&&"p"===e.pSign&&(a=this.settingsClone.aSign.length+("-"===r.charAt(0)?1:0))):e.aSign&&"s"===e.pSign&&(a-=e.aSign.length)}this.that.value=r,this.setPosition(a),this.formatted=!0}};var b={init:function(t){return this.each(function(){var n=e(this),o=n.data("autoNumeric"),r=n.data(),l=n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");if("object"==typeof o)return this;o=e.extend({},e.fn.autoNumeric.defaults,r,t,{aNum:"0123456789",hasFocus:!1,removeBrackets:!1,runOnce:!1,tagList:["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"]}),o.aDec===o.aSep&&e.error("autoNumeric will not function properly when the decimal character aDec: '"+o.aDec+"' and thousand separator aSep: '"+o.aSep+"' are the same character"),n.data("autoNumeric",o);var f=y(n,o);if(l||"input"!==n.prop("tagName").toLowerCase()||e.error('The input type "'+n.prop("type")+'" is not supported by autoNumeric()'),-1===e.inArray(n.prop("tagName").toLowerCase(),o.tagList)&&"input"!==n.prop("tagName").toLowerCase()&&e.error("The <"+n.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),o.runOnce===!1&&o.aForm){if(l){var g=!0;""===n[0].value&&"empty"===o.wEmpty&&(n[0].value="",g=!1),""===n[0].value&&"sign"===o.wEmpty&&(n[0].value=o.aSign,g=!1),g&&""!==n.val()&&(null===o.anDefault&&n[0].value===n.prop("defaultValue")||null!==o.anDefault&&o.anDefault.toString()===n.val())&&n.autoNumeric("set",n.val())}-1!==e.inArray(n.prop("tagName").toLowerCase(),o.tagList)&&""!==n.text()&&n.autoNumeric("set",n.text())}o.runOnce=!0,n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(n.on("keydown.autoNumeric",function(t){return f=y(n),f.settings.aDec===f.settings.aSep&&e.error("autoNumeric will not function properly when the decimal character aDec: '"+f.settings.aDec+"' and thousand separator aSep: '"+f.settings.aSep+"' are the same character"),f.that.readOnly?(f.processed=!0,!0):(f.init(t),f.skipAllways(t)?(f.processed=!0,!0):f.processAllways()?(f.processed=!0,f.formatQuick(),t.preventDefault(),!1):(f.formatted=!1,!0))}),n.on("keypress.autoNumeric",function(e){f=y(n);var t=f.processed;return f.init(e),f.skipAllways(e)?!0:t?(e.preventDefault(),!1):f.processAllways()||f.processKeypress()?(f.formatQuick(),e.preventDefault(),!1):void(f.formatted=!1)}),n.on("keyup.autoNumeric",function(e){f=y(n),f.init(e);var t=f.skipAllways(e);return f.kdCode=0,delete f.valuePartsBeforePaste,n[0].value===f.settings.aSign&&("s"===f.settings.pSign?i(this,0,0):i(this,f.settings.aSign.length,f.settings.aSign.length)),t?!0:""===this.value?!0:void(f.formatted||f.formatQuick())}),n.on("focusin.autoNumeric",function(){f=y(n);var e=f.settingsClone;if(e.hasFocus=!0,null!==e.nBracket){var t=n.val();n.val(s(t,e))}f.inVal=n.val();var i=u(f.inVal,e,!0);null!==i&&""!==i&&n.val(i)}),n.on("focusout.autoNumeric",function(){f=y(n);var e=f.settingsClone,t=n.val(),i=t;e.hasFocus=!1;var o="";"allow"===e.lZero&&(e.allowLeading=!1,o="leading"),""!==t&&(t=a(t,e,o),null===u(t,e)&&m(t,e,n[0])?(t=c(t,e.aDec,e.aNeg),t=p(t,e),t=d(t,e.aDec,e.aNeg)):t="");var r=u(t,e,!1);null===r&&(r=h(t,e)),(r!==f.inVal||r!==i)&&(n.val(r),n.change(),delete f.inVal)}))})},destroy:function(){return e(this).each(function(){var t=e(this);t.off(".autoNumeric"),t.removeData("autoNumeric")})},update:function(t){return e(this).each(function(){var i=v(e(this)),n=i.data("autoNumeric");"object"!=typeof n&&e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");var o=i.autoNumeric("get");return n=e.extend(n,t),y(i,n,!0),n.aDec===n.aSep&&e.error("autoNumeric will not function properly when the decimal character aDec: '"+n.aDec+"' and thousand separator aSep: '"+n.aSep+"' are the same character"),i.data("autoNumeric",n),""!==i.val()||""!==i.text()?i.autoNumeric("set",o):void 0})},set:function(t){return null!==t?e(this).each(function(){var i=v(e(this)),n=i.data("autoNumeric"),o=t.toString(),r=t.toString(),a=i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");return"object"!=typeof n&&e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),r!==i.attr("value")&&r!==i.text()||n.runOnce!==!1||(o=o.replace(",",".")),e.isNumeric(+o)||e.error("The value ("+o+") being 'set' is not numeric and has caused a error to be thrown"),o=l(o,n),n.setEvent=!0,o.toString(),""!==o&&(o=p(o,n)),o=d(o,n.aDec,n.aNeg),m(o,n)||(o=p("",n)),o=h(o,n),a?i.val(o):-1!==e.inArray(i.prop("tagName").toLowerCase(),n.tagList)?i.text(o):!1}):void 0},get:function(){var t=v(e(this)),i=t.data("autoNumeric");"object"!=typeof i&&e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");var n="";return t.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?n=t.eq(0).val():-1!==e.inArray(t.prop("tagName").toLowerCase(),i.tagList)?n=t.eq(0).text():e.error("The <"+t.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),""===n&&"empty"===i.wEmpty||n===i.aSign&&("sign"===i.wEmpty||"empty"===i.wEmpty)?"":(""!==n&&null!==i.nBracket&&(i.removeBrackets=!0,n=s(n,i),i.removeBrackets=!1),(i.runOnce||i.aForm===!1)&&(n=a(n,i)),n=c(n,i.aDec,i.aNeg),0===+n&&"keep"!==i.lZero&&(n="0"),"keep"===i.lZero?n:n=l(n,i))},getString:function(){var t=!1,i=v(e(this)),n=i.serialize(),o=n.split("&"),r=e("form").index(i),a=e("form:eq("+r+")"),s=[],l=[],c=/^(?:submit|button|image|reset|file)$/i,d=/^(?:input|select|textarea|keygen)/i,u=/^(?:checkbox|radio)$/i,h=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,p=0;return e.each(a[0],function(e,t){""===t.name||!d.test(t.localName)||c.test(t.type)||t.disabled||!t.checked&&u.test(t.type)?l.push(-1):(l.push(p),p+=1)}),p=0,e.each(a[0],function(e,t){"input"!==t.localName||""!==t.type&&"text"!==t.type&&"hidden"!==t.type&&"tel"!==t.type?(s.push(-1),"input"===t.localName&&h.test(t.type)&&(p+=1)):(s.push(p),p+=1)}),e.each(o,function(i,n){n=o[i].split("=");var a=e.inArray(i,l);if(a>-1&&s[a]>-1){var c=e("form:eq("+r+") input:eq("+s[a]+")"),d=c.data("autoNumeric");"object"==typeof d&&null!==n[1]&&(n[1]=e("form:eq("+r+") input:eq("+s[a]+")").autoNumeric("get").toString(),o[i]=n.join("="),t=!0)}}),t||e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),o.join("&")},getArray:function(){var t=!1,i=v(e(this)),n=i.serializeArray(),o=e("form").index(i),r=e("form:eq("+o+")"),a=[],s=[],l=/^(?:submit|button|image|reset|file)$/i,c=/^(?:input|select|textarea|keygen)/i,d=/^(?:checkbox|radio)$/i,u=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,h=0;return e.each(r[0],function(e,t){""===t.name||!c.test(t.localName)||l.test(t.type)||t.disabled||!t.checked&&d.test(t.type)?s.push(-1):(s.push(h),h+=1)}),h=0,e.each(r[0],function(e,t){"input"!==t.localName||""!==t.type&&"text"!==t.type&&"hidden"!==t.type&&"tel"!==t.type?(a.push(-1),"input"===t.localName&&u.test(t.type)&&(h+=1)):(a.push(h),h+=1)}),e.each(n,function(i,n){var r=e.inArray(i,s);if(r>-1&&a[r]>-1){var l=e("form:eq("+o+") input:eq("+a[r]+")"),c=l.data("autoNumeric");"object"==typeof c&&(n.value=e("form:eq("+o+") input:eq("+a[r]+")").autoNumeric("get").toString(),t=!0)}}),t||e.error("None of the successful form inputs are initialized by autoNumeric."),n},getSettings:function(){var t=v(e(this));return t.eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(t){return b[t]?b[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Method "'+t+'" is not supported by autoNumeric()'):b.init.apply(this,arguments)},e.fn.autoNumeric.defaults={aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",sNumber:!0,aForm:!0,anDefault:null}}(jQuery);var AutonumericRails;window.AutonumericRails=AutonumericRails=function(){function e(e){this.field=e,this.field.data("autonumeric-initialized",!0),this.create_hidden_field(),this.init_autonumeric(),this.sanitize_value(),this.field.on("keyup blur",$.proxy(function(){this.sanitize_value()},this))}return e.create_autonumeric_object=function(e){return e.data("autonumeric-initialized")?void 0:new this(e)},e.delete_autonumeric_object=function(e){e.data("autonumeric-initialized")&&(e.removeData("autonumeric-initialized").removeData("autonumeric").removeAttr("data-autonumeric").off("keyup blur").autoNumeric("destroy"),$("input#"+e.attr("id")+'_val[type="hidden"][name="'+e.attr("name")+'"]').remove())},e.prototype.create_hidden_field=function(){this.hidden=$("<input>").attr("type","hidden").attr("id",this.field.attr("id")+"_val").attr("name",this.field.attr("name")),this.hidden.insertAfter(this.field)},e.prototype.init_autonumeric=function(){this.field.autoNumeric("init",$.parseJSON(this.field.attr("data-autonumeric")))},e.prototype.sanitize_value=function(){this.hidden.val(this.field.autoNumeric("get"))},e}(),window.refresh_autonumeric=function(){$("input[data-autonumeric]").each(function(){AutonumericRails.create_autonumeric_object($(this))})},jQuery(function(){window.refresh_autonumeric(),$(document).on("refresh_autonumeric",function(){window.refresh_autonumeric()}),$(document).on("ajaxComplete",function(){window.refresh_autonumeric()})}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var i=this.toString();(void 0===t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return-1!==n&&n===t}}),$.inputformat={defaultOptions:{thousandSep:",",decimalSep:".",allowDecimals:!0,allowNegative:!0,allowLeadingZero:!1,maxDecimalDigits:"unlimited"},getOptions:function(e){return JSON.parse($(e).attr("input-format"))},getThousandSep:function(e){return this.getOptions(e).thousandSep},getDecimalSep:function(e){return this.getOptions(e).decimalSep},getMaxDecimalDigits:function(e){return this.getOptions(e).maxDecimalDigits},isAllowDecimals:function(e){return this.getOptions(e).allowDecimals},isAllowNegative:function(e){return this.getOptions(e).allowNegative},isAllowLeadingZero:function(e){return this.getOptions(e).allowLeadingZero},getSelectionText:function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},setCaretPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}},getCaretPosition:function(e){var t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},replaceAll:function(e,t,i){return i.replace(new RegExp(e,"g"),t)},unformat:function(e,t){var i="",n="",o="",r=$.inputformat.getThousandSep(e),a=$.inputformat.getDecimalSep(e),s=$.inputformat.isAllowLeadingZero(e);if("0"==t)return"0";var l=t.indexOf(a);if(-1==l?i=t:(i=t.substring(0,l),n=l<t.length-1?t.substring(l+1):""),i=$.inputformat.replaceAll(r,"",i.toString()),o=""!==n?i+a+n:i,!s)for(;"0"==o.charAt(0);)o=o.substring(1);return o},format:function(e,t){var i="0"==t?0:$.inputformat.unformat(e,t),n="",o="",r=$.inputformat.getThousandSep(e),a=$.inputformat.getDecimalSep(e),s=i.indexOf(a);-1==s?n=i:(n=i.substring(0,s),o=s<=i.length-1?i.substring(s+1):"");var l=n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r);return-1!=s&&""!==o&&(l=l+a+o),l}},$.fn.inputNumber=function(e){if(void 0!==e){if(void 0===e.thousandSep&&(e.thousandSep=$.inputformat.defaultOptions.thousandSep),void 0===e.decimalSep&&(e.decimalSep=$.inputformat.defaultOptions.decimalSep),void 0!==e.maxDecimalDigits){if("unlimited"!=e.maxDecimalDigits&&isNaN(e.maxDecimalDigits))throw"maxDecimalDigits must a number or 'unlimited'"}else e.maxDecimalDigits=$.inputformat.defaultOptions.maxDecimalDigits;if(void 0!==e.allowDecimals){if(e.allowDecimals!==!0&&e.allowDecimals!==!1)throw"allowDecimals must boolean"}else e.allowDecimals=$.inputformat.defaultOptions.allowDecimals;if(void 0!==e.allowNegative){if(e.allowNegative!==!0&&e.allowNegative!==!1)throw"allowNegative must boolean"}else e.allowNegative=$.inputformat.defaultOptions.allowNegative;if(void 0!==e.allowLeadingZero){if(e.allowLeadingZero!==!0&&e.allowLeadingZero!==!1)throw"allowNegative must boolean"}else e.allowLeadingZero=$.inputformat.defaultOptions.allowLeadingZero;if(void 0!==e.numericOnly){if(e.numericOnly!==!0&&e.numericOnly!==!1)throw"numericOnly must boolean";e.numericOnly===!0&&(e.allowDecimals=!1,e.allowNegative=!1,e.thousandSep="")}}else e=$.inputformat.defaultOptions;$(this).attr("input-format",JSON.stringify(e)),$(this).on("paste",function(){var e=this;setTimeout(function(){var t=$.inputformat.unformat(e,e.value);isNaN(t)?$(e).val($.inputformat.oldValue):$(e).val($.inputformat.format(e,t))},0)}),$(this).keyup(function(e){var t=$.inputformat.getCaretPosition(this),i=this,n=$(i).val();if(e.ctrlKey)switch(e.keyCode){case 65:case 67:case 88:case 86:return}switch(e.keyCode){case 16:case 17:case 36:case 35:case 37:case 39:break;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 8:case 46:case 189:setTimeout(function(){var e=$.inputformat.format(i,n),o=e.length-n.length;$(i).val(e),$.inputformat.setCaretPosition(i,t+o)},0)}}),$(this).keydown(function(e){var t=$.inputformat.getCaretPosition(this),i=$(this).val(),n=$.inputformat.getThousandSep(this),o=$.inputformat.getDecimalSep(this),r=$.inputformat.getMaxDecimalDigits(this),a=$.inputformat.isAllowLeadingZero(this);if($.inputformat.oldValue=i,e.ctrlKey)switch(e.keyCode){case 65:case 67:break;case 88:e.preventDefault();break;case 86:e.preventDefault();break;default:e.preventDefault()}else switch(e.keyCode){case 96:case 48:if(a||$.inputformat.getSelectionText()==i||(0===t&&""!==i?e.preventDefault():1==t&&"0"===i&&e.preventDefault()),"unlimited"==r)break;var s=i.lastIndexOf(o);-1!=s&&t>s&&i.length-s==r+1&&e.preventDefault();break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(0===t&&0===i.indexOf("-")&&e.preventDefault(),a||1==t&&"0"===i&&e.preventDefault(),"unlimited"==r)break;var l=i.lastIndexOf(o);-1!=l&&t>l&&i.length-l==r+1&&e.preventDefault();break;case 36:case 9:case 8:i.substr(t-1,1)==n&&(i=i.substr(0,t)+i.substr(t),$(this).val(i));break;case 46:case 35:case 37:case 39:break;case 110:case 190:$.inputformat.isAllowDecimals(this)!==!0&&e.preventDefault(),-1!=i.indexOf(o)&&e.preventDefault(),t<i.length&&e.preventDefault();break;case 109:case 189:$.inputformat.isAllowNegative(this)!==!0&&e.preventDefault(),t>0?e.preventDefault():0===i.indexOf("-")&&e.preventDefault();break;default:e.preventDefault()}})},function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var i,n=t()+".mask",o=navigator.userAgent,r=/iphone/i.test(o),a=/android/i.test(o);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,o){var s,l,c,d,u,h;return!t&&this.length>0?(s=e(this[0]),s.data(e.mask.dataName)()):(o=e.extend({placeholder:e.mask.placeholder,completed:null},o),l=e.mask.definitions,c=[],d=h=t.length,u=null,e.each(t.split(""),function(e,t){"?"==t?(h--,d=e):l[t]?(c.push(new RegExp(l[t])),null===u&&(u=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function s(e){for(;++e<h&&!c[e];);return e}function p(e){for(;--e>=0&&!c[e];);return e}function f(e,t){var i,n;if(!(0>e)){for(i=e,n=s(t);h>i;i++)if(c[i]){if(!(h>n&&c[i].test(x[n])))break;x[i]=x[n],x[n]=o.placeholder,n=s(n)}b(),w.caret(Math.max(u,e))}}function m(e){var t,i,n,r;for(t=e,i=o.placeholder;h>t;t++)if(c[t]){if(n=s(t),r=x[t],x[t]=i,!(h>n&&c[n].test(r)))break;i=r}}function g(e){var t,i,n,o=e.which;8===o||46===o||r&&127===o?(t=w.caret(),i=t.begin,n=t.end,n-i===0&&(i=46!==o?p(i):n=s(i-1),n=46===o?s(n):n),y(i,n),f(i,n-1),e.preventDefault()):27==o&&(w.val(C),w.caret(0,_()),e.preventDefault())}function v(t){var i,n,r,l=t.which,d=w.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(d.end-d.begin!==0&&(y(d.begin,d.end),f(d.begin,d.end-1)),i=s(d.begin-1),h>i&&(n=String.fromCharCode(l),c[i].test(n)&&(m(i),x[i]=n,b(),r=s(i),a?setTimeout(e.proxy(e.fn.caret,w,r),0):w.caret(r),o.completed&&r>=h&&o.completed.call(w))),t.preventDefault())}function y(e,t){var i;for(i=e;t>i&&h>i;i++)c[i]&&(x[i]=o.placeholder)}function b(){w.val(x.join(""))}function _(e){var t,i,n=w.val(),r=-1;for(t=0,pos=0;h>t;t++)if(c[t]){for(x[t]=o.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),c[t].test(i)){x[t]=i,r=t;break}if(pos>n.length)break}else x[t]===n.charAt(pos)&&t!==d&&(pos++,r=t);return e?b():d>r+1?(w.val(""),y(0,h)):(b(),w.val(w.val().substring(0,r+1))),d?t:u}var w=e(this),x=e.map(t.split(""),function(e,t){return"?"!=e?l[e]?o.placeholder:e:void 0}),C=w.val();w.data(e.mask.dataName,function(){return e.map(x,function(e,t){return c[t]&&e!=o.placeholder?e:null}).join("")}),w.attr("readonly")||w.one("unmask",function(){w.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(i);var e;C=w.val(),e=_(),i=setTimeout(function(){b(),e==t.length?w.caret(0,e):w.caret(e)},10)}).bind("blur.mask",function(){_(),w.val()!=C&&w.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(n,function(){setTimeout(function(){var e=_(!0);w.caret(e),o.completed&&e==w.val().length&&o.completed.call(w)},0)}),_()}))}})}(jQuery),function(e){"use strict";e.browser||(e.browser={},e.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),e.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),e.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),e.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()));var t={destroy:function(){return e(this).unbind(".maskMoney"),e.browser.msie&&(this.onpaste=null),
this},mask:function(t){return this.each(function(){var i,n=e(this);return"number"==typeof t&&(n.trigger("mask"),i=e(n.val().split(/\D/)).last()[0].length,t=t.toFixed(i),n.val(t)),n.trigger("mask")})},unmasked:function(){return this.map(function(){var t,i=e(this).val()||"0",n=-1!==i.indexOf("-");return e(i.split(/\D/).reverse()).each(function(e,i){return i?(t=i,!1):void 0}),i=i.replace(/\D/g,""),i=i.replace(new RegExp(t+"$"),"."+t),n&&(i="-"+i),parseFloat(i)})},init:function(t){return t=e.extend({prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1},t),this.each(function(){function i(){var e,t,i,n,o,r=b.get(0),a=0,s=0;return"number"==typeof r.selectionStart&&"number"==typeof r.selectionEnd?(a=r.selectionStart,s=r.selectionEnd):(t=document.selection.createRange(),t&&t.parentElement()===r&&(n=r.value.length,e=r.value.replace(/\r\n/g,"\n"),i=r.createTextRange(),i.moveToBookmark(t.getBookmark()),o=r.createTextRange(),o.collapse(!1),i.compareEndPoints("StartToEnd",o)>-1?a=s=n:(a=-i.moveStart("character",-n),a+=e.slice(0,a).split("\n").length-1,i.compareEndPoints("EndToEnd",o)>-1?s=n:(s=-i.moveEnd("character",-n),s+=e.slice(0,s).split("\n").length-1)))),{start:a,end:s}}function n(){var e=!(b.val().length>=b.attr("maxlength")&&b.attr("maxlength")>=0),t=i(),n=t.start,o=t.end,r=t.start!==t.end&&b.val().substring(n,o).match(/\d/)?!0:!1,a="0"===b.val().substring(0,1);return e||r||a}function o(e){b.each(function(t,i){if(i.setSelectionRange)i.focus(),i.setSelectionRange(e,e);else if(i.createTextRange){var n=i.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})}function r(e){var i="";return e.indexOf("-")>-1&&(e=e.replace("-",""),i="-"),i+t.prefix+e+t.suffix}function a(e){var i,n,o,a=e.indexOf("-")>-1&&t.allowNegative?"-":"",s=e.replace(/[^0-9]/g,""),l=s.slice(0,s.length-t.precision);return l=l.replace(/^0*/g,""),l=l.replace(/\B(?=(\d{3})+(?!\d))/g,t.thousands),""===l&&(l="0"),i=a+l,t.precision>0&&(n=s.slice(s.length-t.precision),o=new Array(t.precision+1-n.length).join(0),i+=t.decimal+o+n),r(i)}function s(e){var t,i=b.val().length;b.val(a(b.val())),t=b.val().length,e-=i-t,o(e)}function l(){var e=b.val();b.val(a(e))}function c(){var e=b.val();return t.allowNegative?""!==e&&"-"===e.charAt(0)?e.replace("-",""):"-"+e:e}function d(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function u(t){t=t||window.event;var o,r,a,l,u,h=t.which||t.charCode||t.keyCode;return void 0===h?!1:48>h||h>57?45===h?(b.val(c()),!1):43===h?(b.val(b.val().replace("-","")),!1):13===h||9===h?!0:!e.browser.mozilla||37!==h&&39!==h||0!==t.charCode?(d(t),!0):!0:n()?(d(t),o=String.fromCharCode(h),r=i(),a=r.start,l=r.end,u=b.val(),b.val(u.substring(0,a)+o+u.substring(l,u.length)),s(a+1),!1):!1}function h(e){e=e||window.event;var n,o,r,a,l,c=e.which||e.charCode||e.keyCode;return void 0===c?!1:(n=i(),o=n.start,r=n.end,8===c||46===c||63272===c?(d(e),a=b.val(),o===r&&(8===c?""===t.suffix?o-=1:(l=a.split("").reverse().join("").search(/\d/),o=a.length-l-1,r=o+1):r+=1),b.val(a.substring(0,o)+a.substring(r,a.length)),s(o),!1):9===c?!0:!0)}function p(){y=b.val(),l();var e,t=b.get(0);t.createTextRange&&(e=t.createTextRange(),e.collapse(!1),e.select())}function f(){setTimeout(function(){l()},0)}function m(){var e=parseFloat("0")/Math.pow(10,t.precision);return e.toFixed(t.precision).replace(new RegExp("\\.","g"),t.decimal)}function g(i){if(e.browser.msie&&u(i),""===b.val()||b.val()===r(m()))t.allowZero?t.affixesStay?b.val(r(m())):b.val(m()):b.val("");else if(!t.affixesStay){var n=b.val().replace(t.prefix,"").replace(t.suffix,"");b.val(n)}b.val()!==y&&b.change()}function v(){var e,t=b.get(0);t.setSelectionRange?(e=b.val().length,t.setSelectionRange(e,e)):b.val(b.val())}var y,b=e(this);t=e.extend(t,b.data()),b.unbind(".maskMoney"),b.bind("keypress.maskMoney",u),b.bind("keydown.maskMoney",h),b.bind("blur.maskMoney",g),b.bind("focus.maskMoney",p),b.bind("click.maskMoney",v),b.bind("cut.maskMoney",f),b.bind("paste.maskMoney",f),b.bind("mask.maskMoney",l)})}};e.fn.maskMoney=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.maskMoney"):t.init.apply(this,arguments)}}(window.jQuery||window.Zepto),!function(e){var t,i,n="0.4.2",o="hasOwnProperty",r=/[\.\/]/,a="*",s=function(){},l=function(e,t){return e-t},c={n:{}},d=function(e,n){e=String(e);var o,r=i,a=Array.prototype.slice.call(arguments,2),s=d.listeners(e),c=0,u=[],h={},p=[],f=t;t=e,i=0;for(var m=0,g=s.length;g>m;m++)"zIndex"in s[m]&&(u.push(s[m].zIndex),s[m].zIndex<0&&(h[s[m].zIndex]=s[m]));for(u.sort(l);u[c]<0;)if(o=h[u[c++]],p.push(o.apply(n,a)),i)return i=r,p;for(m=0;g>m;m++)if(o=s[m],"zIndex"in o)if(o.zIndex==u[c]){if(p.push(o.apply(n,a)),i)break;do if(c++,o=h[u[c]],o&&p.push(o.apply(n,a)),i)break;while(o)}else h[o.zIndex]=o;else if(p.push(o.apply(n,a)),i)break;return i=r,t=f,p.length?p:null};d._events=c,d.listeners=function(e){var t,i,n,o,s,l,d,u,h=e.split(r),p=c,f=[p],m=[];for(o=0,s=h.length;s>o;o++){for(u=[],l=0,d=f.length;d>l;l++)for(p=f[l].n,i=[p[h[o]],p[a]],n=2;n--;)t=i[n],t&&(u.push(t),m=m.concat(t.f||[]));f=u}return m},d.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var i=e.split(r),n=c,o=0,a=i.length;a>o;o++)n=n.n,n=n.hasOwnProperty(i[o])&&n[i[o]]||(n[i[o]]={n:{}});for(n.f=n.f||[],o=0,a=n.f.length;a>o;o++)if(n.f[o]==t)return s;return n.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},d.f=function(e){var t=[].slice.call(arguments,1);return function(){d.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},d.stop=function(){i=1},d.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},d.nts=function(){return t.split(r)},d.off=d.unbind=function(e,t){if(!e)return void(d._events=c={n:{}});var i,n,s,l,u,h,p,f=e.split(r),m=[c];for(l=0,u=f.length;u>l;l++)for(h=0;h<m.length;h+=s.length-2){if(s=[h,1],i=m[h].n,f[l]!=a)i[f[l]]&&s.push(i[f[l]]);else for(n in i)i[o](n)&&s.push(i[n]);m.splice.apply(m,s)}for(l=0,u=m.length;u>l;l++)for(i=m[l];i.n;){if(t){if(i.f){for(h=0,p=i.f.length;p>h;h++)if(i.f[h]==t){i.f.splice(h,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[o](n)&&i.n[n].f){var g=i.n[n].f;for(h=0,p=g.length;p>h;h++)if(g[h]==t){g.splice(h,1);break}!g.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[o](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},d.once=function(e,t){var i=function(){return d.unbind(e,i),t.apply(this,arguments)};return d.on(e,i)},d.version=n,d.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=d:"undefined"!=typeof define?define("eve",[],function(){return d}):e.eve=d}(this),function(e,t){"function"==typeof define&&define.amd?define(["eve"],function(i){return t(e,i)}):t(e,e.eve)}(this,function(e,t){function i(e){if(i.is(e,"function"))return _?e():t.on("raphael.DOMload",e);if(i.is(e,V))return i._engine.create[P](i,e.splice(0,3+i.is(e[0],Y))).add(e);var n=Array.prototype.slice.call(arguments,0);if(i.is(n[n.length-1],"function")){var o=n.pop();return _?o.call(i._engine.create[P](i,n)):t.on("raphael.DOMload",function(){o.call(i._engine.create[P](i,n))})}return i._engine.create[P](i,arguments)}function n(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var i in e)e[S](i)&&(t[i]=n(e[i]));return t}function o(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return e.push(e.splice(i,1)[0])}function r(e,t,i){function n(){var r=Array.prototype.slice.call(arguments,0),a=r.join("\u2400"),s=n.cache=n.cache||{},l=n.count=n.count||[];return s[S](a)?(o(l,a),i?i(s[a]):s[a]):(l.length>=1e3&&delete s[l.shift()],l.push(a),s[a]=e[P](t,r),i?i(s[a]):s[a])}return n}function a(){return this.hex}function s(e,t){for(var i=[],n=0,o=e.length;o-2*!t>n;n+=2){var r=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?o-4==n?r[3]={x:+e[0],y:+e[1]}:o-2==n&&(r[2]={x:+e[0],y:+e[1]},r[3]={x:+e[2],y:+e[3]}):r[0]={x:+e[o-2],y:+e[o-1]}:o-4==n?r[3]=r[2]:n||(r[0]={x:+e[n],y:+e[n+1]}),i.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i}function l(e,t,i,n,o){var r=-3*t+9*i-9*n+3*o,a=e*r+6*t-12*i+6*n;return e*a-3*t+3*i}function c(e,t,i,n,o,r,a,s,c){null==c&&(c=1),c=c>1?1:0>c?0:c;for(var d=c/2,u=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;u>m;m++){var g=d*h[m]+d,v=l(g,e,i,o,a),y=l(g,t,n,r,s),b=v*v+y*y;f+=p[m]*j.sqrt(b)}return d*f}function d(e,t,i,n,o,r,a,s,l){if(!(0>l||c(e,t,i,n,o,r,a,s)<l)){var d,u=1,h=u/2,p=u-h,f=.01;for(d=c(e,t,i,n,o,r,a,s,p);B(d-l)>f;)h/=2,p+=(l>d?1:-1)*h,d=c(e,t,i,n,o,r,a,s,p);return p}}function u(e,t,i,n,o,r,a,s){if(!(H(e,i)<z(o,a)||z(e,i)>H(o,a)||H(t,n)<z(r,s)||z(t,n)>H(r,s))){var l=(e*n-t*i)*(o-a)-(e-i)*(o*s-r*a),c=(e*n-t*i)*(r-s)-(t-n)*(o*s-r*a),d=(e-i)*(r-s)-(t-n)*(o-a);if(d){var u=l/d,h=c/d,p=+u.toFixed(2),f=+h.toFixed(2);if(!(p<+z(e,i).toFixed(2)||p>+H(e,i).toFixed(2)||p<+z(o,a).toFixed(2)||p>+H(o,a).toFixed(2)||f<+z(t,n).toFixed(2)||f>+H(t,n).toFixed(2)||f<+z(r,s).toFixed(2)||f>+H(r,s).toFixed(2)))return{x:u,y:h}}}}function h(e,t,n){var o=i.bezierBBox(e),r=i.bezierBBox(t);if(!i.isBBoxIntersect(o,r))return n?0:[];for(var a=c.apply(0,e),s=c.apply(0,t),l=H(~~(a/5),1),d=H(~~(s/5),1),h=[],p=[],f={},m=n?0:[],g=0;l+1>g;g++){var v=i.findDotsAtSegment.apply(i,e.concat(g/l));h.push({x:v.x,y:v.y,t:g/l})}for(g=0;d+1>g;g++)v=i.findDotsAtSegment.apply(i,t.concat(g/d)),p.push({x:v.x,y:v.y,t:g/d});for(g=0;l>g;g++)for(var y=0;d>y;y++){var b=h[g],_=h[g+1],w=p[y],x=p[y+1],C=B(_.x-b.x)<.001?"y":"x",k=B(x.x-w.x)<.001?"y":"x",S=u(b.x,b.y,_.x,_.y,w.x,w.y,x.x,x.y);if(S){if(f[S.x.toFixed(4)]==S.y.toFixed(4))continue;f[S.x.toFixed(4)]=S.y.toFixed(4);var T=b.t+B((S[C]-b[C])/(_[C]-b[C]))*(_.t-b.t),D=w.t+B((S[k]-w[k])/(x[k]-w[k]))*(x.t-w.t);T>=0&&1.001>=T&&D>=0&&1.001>=D&&(n?m++:m.push({x:S.x,y:S.y,t1:z(T,1),t2:z(D,1)}))}}return m}function p(e,t,n){e=i._path2curve(e),t=i._path2curve(t);for(var o,r,a,s,l,c,d,u,p,f,m=n?0:[],g=0,v=e.length;v>g;g++){var y=e[g];if("M"==y[0])o=l=y[1],r=c=y[2];else{"C"==y[0]?(p=[o,r].concat(y.slice(1)),o=p[6],r=p[7]):(p=[o,r,o,r,l,c,l,c],o=l,r=c);for(var b=0,_=t.length;_>b;b++){var w=t[b];if("M"==w[0])a=d=w[1],s=u=w[2];else{"C"==w[0]?(f=[a,s].concat(w.slice(1)),a=f[6],s=f[7]):(f=[a,s,a,s,d,u,d,u],a=d,s=u);var x=h(p,f,n);if(n)m+=x;else{for(var C=0,k=x.length;k>C;C++)x[C].segment1=g,x[C].segment2=b,x[C].bez1=p,x[C].bez2=f;m=m.concat(x)}}}}}return m}function f(e,t,i,n,o,r){null!=e?(this.a=+e,this.b=+t,this.c=+i,this.d=+n,this.e=+o,this.f=+r):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function m(){return this.x+L+this.y+L+this.width+" \xd7 "+this.height}function g(e,t,i,n,o,r){function a(e){return((u*e+d)*e+c)*e}function s(e,t){var i=l(e,t);return((f*i+p)*i+h)*i}function l(e,t){var i,n,o,r,s,l;for(o=e,l=0;8>l;l++){if(r=a(o)-e,B(r)<t)return o;if(s=(3*u*o+2*d)*o+c,B(s)<1e-6)break;o-=r/s}if(i=0,n=1,o=e,i>o)return i;if(o>n)return n;for(;n>i;){if(r=a(o),B(r-e)<t)return o;e>r?i=o:n=o,o=(n-i)/2+i}return o}var c=3*t,d=3*(n-t)-c,u=1-c-d,h=3*i,p=3*(o-i)-h,f=1-h-p;return s(e,1/(200*r))}function v(e,t){var i=[],n={};if(this.ms=t,this.times=1,e){for(var o in e)e[S](o)&&(n[Z(o)]=e[o],i.push(Z(o)));i.sort(ue)}this.anim=n,this.top=i[i.length-1],this.percents=i}function y(e,n,o,r,a,s){o=Z(o);var l,c,d,u,h,p,m=e.ms,v={},y={},b={};if(r)for(w=0,C=lt.length;C>w;w++){var _=lt[w];if(_.el.id==n.id&&_.anim==e){_.percent!=o?(lt.splice(w,1),d=1):c=_,n.attr(_.totalOrigin);break}}else r=+y;for(var w=0,C=e.percents.length;C>w;w++){if(e.percents[w]==o||e.percents[w]>r*e.top){o=e.percents[w],h=e.percents[w-1]||0,m=m/e.top*(o-h),u=e.percents[w+1],l=e.anim[o];break}r&&n.attr(e.anim[e.percents[w]])}if(l){if(c)c.initstatus=r,c.start=new Date-c.ms*r;else{for(var k in l)if(l[S](k)&&(ne[S](k)||n.paper.customAttributes[S](k)))switch(v[k]=n.attr(k),null==v[k]&&(v[k]=ie[k]),y[k]=l[k],ne[k]){case Y:b[k]=(y[k]-v[k])/m;break;case"colour":v[k]=i.getRGB(v[k]);var T=i.getRGB(y[k]);b[k]={r:(T.r-v[k].r)/m,g:(T.g-v[k].g)/m,b:(T.b-v[k].b)/m};break;case"path":var D=Oe(v[k],y[k]),A=D[1];for(v[k]=D[0],b[k]=[],w=0,C=v[k].length;C>w;w++){b[k][w]=[0];for(var P=1,I=v[k][w].length;I>P;P++)b[k][w][P]=(A[w][P]-v[k][w][P])/m}break;case"transform":var M=n._,L=ze(M[k],y[k]);if(L)for(v[k]=L.from,y[k]=L.to,b[k]=[],b[k].real=!0,w=0,C=v[k].length;C>w;w++)for(b[k][w]=[v[k][w][0]],P=1,I=v[k][w].length;I>P;P++)b[k][w][P]=(y[k][w][P]-v[k][w][P])/m;else{var O=n.matrix||new f,N={_:{transform:M.transform},getBBox:function(){return n.getBBox(1)}};v[k]=[O.a,O.b,O.c,O.d,O.e,O.f],je(N,y[k]),y[k]=N._.transform,b[k]=[(N.matrix.a-O.a)/m,(N.matrix.b-O.b)/m,(N.matrix.c-O.c)/m,(N.matrix.d-O.d)/m,(N.matrix.e-O.e)/m,(N.matrix.f-O.f)/m]}break;case"csv":var R=$(l[k])[F](x),j=$(v[k])[F](x);if("clip-rect"==k)for(v[k]=j,b[k]=[],w=j.length;w--;)b[k][w]=(R[w]-v[k][w])/m;y[k]=R;break;default:for(R=[][E](l[k]),j=[][E](v[k]),b[k]=[],w=n.paper.customAttributes[k].length;w--;)b[k][w]=((R[w]||0)-(j[w]||0))/m}var H=l.easing,z=i.easing_formulas[H];if(!z)if(z=$(H).match(K),z&&5==z.length){var B=z;z=function(e){return g(e,+B[1],+B[2],+B[3],+B[4],m)}}else z=pe;if(p=l.start||e.start||+new Date,_={anim:e,percent:o,timestamp:p,start:p+(e.del||0),status:0,initstatus:r||0,stop:!1,ms:m,easing:z,from:v,diff:b,to:y,el:n,callback:l.callback,prev:h,next:u,repeat:s||e.times,origin:n.attr(),totalOrigin:a},lt.push(_),r&&!c&&!d&&(_.stop=!0,_.start=new Date-m*r,1==lt.length))return dt();d&&(_.start=new Date-_.ms*r),1==lt.length&&ct(dt)}t("raphael.anim.start."+n.id,n,e)}}function b(e){for(var t=0;t<lt.length;t++)lt[t].el.paper==e&&lt.splice(t--,1)}i.version="2.1.2",i.eve=t;var _,w,x=/[, ]+/,C={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,S="hasOwnProperty",T={doc:document,win:e},D={was:Object.prototype[S].call(T.win,"Raphael"),is:T.win.Raphael},A=function(){this.ca=this.customAttributes={}},P="apply",E="concat",I="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,M="",L=" ",$=String,F="split",O="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[F](L),N={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},R=$.prototype.toLowerCase,j=Math,H=j.max,z=j.min,B=j.abs,q=j.pow,W=j.PI,Y="number",U="string",V="array",G=Object.prototype.toString,X=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Q={NaN:1,Infinity:1,"-Infinity":1},K=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,J=j.round,Z=parseFloat,ee=parseInt,te=$.prototype.toUpperCase,ie=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ne=i._availableAnimAttrs={blur:Y,"clip-rect":"csv",cx:Y,cy:Y,fill:"colour","fill-opacity":Y,"font-size":Y,height:Y,opacity:Y,path:"path",r:Y,rx:Y,ry:Y,stroke:"colour","stroke-opacity":Y,"stroke-width":Y,transform:"transform",width:Y,x:Y,y:Y},oe=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,re={hs:1,rg:1},ae=/,?([achlmqrstvxz]),?/gi,se=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,le=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ce=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,de=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ue=function(e,t){return Z(e)-Z(t)},he=function(){},pe=function(e){return e},fe=i._rectPath=function(e,t,i,n,o){return o?[["M",e+o,t],["l",i-2*o,0],["a",o,o,0,0,1,o,o],["l",0,n-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-i,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-n],["a",o,o,0,0,1,o,-o],["z"]]:[["M",e,t],["l",i,0],["l",0,n],["l",-i,0],["z"]]},me=function(e,t,i,n){return null==n&&(n=i),[["M",e,t],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},ge=i._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return me(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return me(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return fe(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return fe(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return fe(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return fe(t.x,t.y,t.width,t.height)}},ve=i.mapPath=function(e,t){if(!t)return e;var i,n,o,r,a,s,l;for(e=Oe(e),o=0,a=e.length;a>o;o++)for(l=e[o],r=1,s=l.length;s>r;r+=2)i=t.x(l[r],l[r+1]),n=t.y(l[r],l[r+1]),l[r]=i,l[r+1]=n;return e};if(i._g=T,i.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var ye,be=T.doc.createElement("div");if(be.innerHTML='<v:shape adj="1"/>',ye=be.firstChild,ye.style.behavior="url(#default#VML)",!ye||"object"!=typeof ye.adj)return i.type=M;be=null}i.svg=!(i.vml="VML"==i.type),i._Paper=A,i.fn=w=A.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(e,t){return t=R.call(t),"finite"==t?!Q[S](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||G.call(e).slice(8,-1).toLowerCase()==t},i.angle=function(e,t,n,o,r,a){if(null==r){var s=e-n,l=t-o;return s||l?(180+180*j.atan2(-l,-s)/W+360)%360:0}return i.angle(e,t,r,a)-i.angle(n,o,r,a)},i.rad=function(e){return e%360*W/180},i.deg=function(e){return 180*e/W%360},i.snapTo=function(e,t,n){if(n=i.is(n,"finite")?n:10,i.is(e,V)){for(var o=e.length;o--;)if(B(e[o]-t)<=n)return e[o]}else{e=+e;var r=t%e;if(n>r)return t-r;if(r>e-n)return t-r+e}return t},i.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=0|16*j.random(),i="x"==e?t:8|3&t;return i.toString(16)}),i.setWindow=function(e){t("raphael.setWindow",i,T.win,e),T.win=e,T.doc=T.win.document,i._engine.initWin&&i._engine.initWin(T.win)};var _e=function(e){if(i.vml){var t,n=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),t=o.body}catch(a){t=createPopup().document.body}var s=t.createTextRange();_e=r(function(e){try{t.style.color=$(e).replace(n,M);var i=s.queryCommandValue("ForeColor");return i=(255&i)<<16|65280&i|(16711680&i)>>>16,"#"+("000000"+i.toString(16)).slice(-6)}catch(o){return"none"}})}else{var l=T.doc.createElement("i");l.title="Rapha\xebl Colour Picker",l.style.display="none",T.doc.body.appendChild(l),_e=r(function(e){return l.style.color=e,T.doc.defaultView.getComputedStyle(l,M).getPropertyValue("color")})}return _e(e)},we=function(){return"hsb("+[this.h,this.s,this.b]+")"},xe=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ce=function(){return this.hex},ke=function(e,t,n){if(null==t&&i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r),null==t&&i.is(e,U)){var o=i.getRGB(e);e=o.r,t=o.g,n=o.b}return(e>1||t>1||n>1)&&(e/=255,t/=255,n/=255),[e,t,n]},Se=function(e,t,n,o){e*=255,t*=255,n*=255;var r={r:e,g:t,b:n,hex:i.rgb(e,t,n),toString:Ce};return i.is(o,"finite")&&(r.opacity=o),r};i.color=function(e){var t;return i.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=i.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):i.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=i.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(i.is(e,"string")&&(e=i.getRGB(e)),i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=i.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=i.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=Ce,e},i.hsb2rgb=function(e,t,i,n){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,t=e.s,e=e.h,n=e.o),e*=360;var o,r,a,s,l;return e=e%360/60,l=i*t,s=l*(1-B(e%2-1)),o=r=a=i-l,e=~~e,o+=[l,s,0,0,s,l][e],r+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],Se(o,r,a,n)},i.hsl2rgb=function(e,t,i,n){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(i=e.l,t=e.s,e=e.h),(e>1||t>1||i>1)&&(e/=360,t/=100,i/=100),e*=360;var o,r,a,s,l;return e=e%360/60,l=2*t*(.5>i?i:1-i),s=l*(1-B(e%2-1)),o=r=a=i-l/2,e=~~e,o+=[l,s,0,0,s,l][e],r+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],Se(o,r,a,n)},i.rgb2hsb=function(e,t,i){i=ke(e,t,i),e=i[0],t=i[1],i=i[2];var n,o,r,a;return r=H(e,t,i),a=r-z(e,t,i),n=0==a?null:r==e?(t-i)/a:r==t?(i-e)/a+2:(e-t)/a+4,n=60*((n+360)%6)/360,o=0==a?0:a/r,{h:n,s:o,b:r,toString:we}},i.rgb2hsl=function(e,t,i){i=ke(e,t,i),e=i[0],t=i[1],i=i[2];var n,o,r,a,s,l;return a=H(e,t,i),s=z(e,t,i),l=a-s,n=0==l?null:a==e?(t-i)/l:a==t?(i-e)/l+2:(e-t)/l+4,n=60*((n+360)%6)/360,r=(a+s)/2,o=0==l?0:.5>r?l/(2*r):l/(2-2*r),{h:n,s:o,l:r,toString:xe}},i._path2string=function(){return this.join(",").replace(ae,"$1")},i._preload=function(e,t){var i=T.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){t.call(this),this.onload=null,T.doc.body.removeChild(this)},i.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(i),i.src=e},i.getRGB=r(function(e){if(!e||(e=$(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(re[S](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=_e(e));var t,n,o,r,s,l,c=e.match(X);return c?(c[2]&&(o=ee(c[2].substring(5),16),n=ee(c[2].substring(3,5),16),t=ee(c[2].substring(1,3),16)),c[3]&&(o=ee((s=c[3].charAt(3))+s,16),n=ee((s=c[3].charAt(2))+s,16),t=ee((s=c[3].charAt(1))+s,16)),c[4]&&(l=c[4][F](oe),t=Z(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=Z(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(r=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(r/=100)),c[5]?(l=c[5][F](oe),t=Z(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=Z(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(t/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(r=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(r/=100),i.hsb2rgb(t,n,o,r)):c[6]?(l=c[6][F](oe),t=Z(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=Z(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(t/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(r=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(r/=100),i.hsl2rgb(t,n,o,r)):(c={r:t,g:n,b:o,toString:a},c.hex="#"+(16777216|o|n<<8|t<<16).toString(16).slice(1),i.is(r,"finite")&&(c.opacity=r),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},i),i.hsb=r(function(e,t,n){return i.hsb2rgb(e,t,n).hex}),i.hsl=r(function(e,t,n){return i.hsl2rgb(e,t,n).hex}),i.rgb=r(function(e,t,i){return"#"+(16777216|i|t<<8|e<<16).toString(16).slice(1)}),i.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(e){if(!e)return null;var t=Te(e);if(t.arr)return Ae(t.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[];return i.is(e,V)&&i.is(e[0],V)&&(o=Ae(e)),o.length||$(e).replace(se,function(e,t,i){var r=[],a=t.toLowerCase();if(i.replace(ce,function(e,t){t&&r.push(+t)}),"m"==a&&r.length>2&&(o.push([t][E](r.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)o.push([t][E](r));else for(;r.length>=n[a]&&(o.push([t][E](r.splice(0,n[a]))),n[a]););}),o.toString=i._path2string,t.arr=Ae(o),o},i.parseTransformString=r(function(e){if(!e)return null;var t=[];return i.is(e,V)&&i.is(e[0],V)&&(t=Ae(e)),t.length||$(e).replace(le,function(e,i,n){var o=[];R.call(i),n.replace(ce,function(e,t){t&&o.push(+t)}),t.push([i][E](o))}),t.toString=i._path2string,t});var Te=function(e){var t=Te.ps=Te.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var i in t)t[S](i)&&i!=e&&(t[i].sleep--,!t[i].sleep&&delete t[i])}),t[e]};i.findDotsAtSegment=function(e,t,i,n,o,r,a,s,l){var c=1-l,d=q(c,3),u=q(c,2),h=l*l,p=h*l,f=d*e+3*u*l*i+3*c*l*l*o+p*a,m=d*t+3*u*l*n+3*c*l*l*r+p*s,g=e+2*l*(i-e)+h*(o-2*i+e),v=t+2*l*(n-t)+h*(r-2*n+t),y=i+2*l*(o-i)+h*(a-2*o+i),b=n+2*l*(r-n)+h*(s-2*r+n),_=c*e+l*i,w=c*t+l*n,x=c*o+l*a,C=c*r+l*s,k=90-180*j.atan2(g-y,v-b)/W;return(g>y||b>v)&&(k+=180),{x:f,y:m,m:{x:g,y:v},n:{x:y,y:b},start:{x:_,y:w},end:{x:x,y:C},alpha:k}},i.bezierBBox=function(e,t,n,o,r,a,s,l){i.is(e,"array")||(e=[e,t,n,o,r,a,s,l]);var c=Fe.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},i.isPointInsideBBox=function(e,t,i){return t>=e.x&&t<=e.x2&&i>=e.y&&i<=e.y2},i.isBBoxIntersect=function(e,t){var n=i.isPointInsideBBox;return n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},i.pathIntersection=function(e,t){return p(e,t)},i.pathIntersectionNumber=function(e,t){return p(e,t,1)},i.isPointInsidePath=function(e,t,n){var o=i.pathBBox(e);return i.isPointInsideBBox(o,t,n)&&1==p(e,[["M",t,n],["H",o.x2+10]],1)%2},i._removedFactory=function(e){return function(){t("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+e+"\u201d of removed object",e)}};var De=i.pathBBox=function(e){var t=Te(e);if(t.bbox)return n(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=Oe(e);for(var i,o=0,r=0,a=[],s=[],l=0,c=e.length;c>l;l++)if(i=e[l],"M"==i[0])o=i[1],r=i[2],a.push(o),s.push(r);else{var d=Fe(o,r,i[1],i[2],i[3],i[4],i[5],i[6]);a=a[E](d.min.x,d.max.x),s=s[E](d.min.y,d.max.y),o=i[5],r=i[6]}var u=z[P](0,a),h=z[P](0,s),p=H[P](0,a),f=H[P](0,s),m=p-u,g=f-h,v={x:u,y:h,x2:p,y2:f,width:m,height:g,cx:u+m/2,cy:h+g/2};return t.bbox=n(v),v},Ae=function(e){var t=n(e);return t.toString=i._path2string,t},Pe=i._pathToRelative=function(e){var t=Te(e);if(t.rel)return Ae(t.rel);i.is(e,V)&&i.is(e&&e[0],V)||(e=i.parsePathString(e));var n=[],o=0,r=0,a=0,s=0,l=0;"M"==e[0][0]&&(o=e[0][1],r=e[0][2],a=o,s=r,l++,n.push(["M",o,r]));for(var c=l,d=e.length;d>c;c++){var u=n[c]=[],h=e[c];if(h[0]!=R.call(h[0]))switch(u[0]=R.call(h[0]),u[0]){case"a":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+(h[6]-o).toFixed(3),u[7]=+(h[7]-r).toFixed(3);break;case"v":u[1]=+(h[1]-r).toFixed(3);break;case"m":a=h[1],s=h[2];default:for(var p=1,f=h.length;f>p;p++)u[p]=+(h[p]-(p%2?o:r)).toFixed(3)}else{u=n[c]=[],"m"==h[0]&&(a=h[1]+o,s=h[2]+r);for(var m=0,g=h.length;g>m;m++)n[c][m]=h[m]}var v=n[c].length;switch(n[c][0]){case"z":o=a,r=s;break;case"h":o+=+n[c][v-1];break;case"v":r+=+n[c][v-1];break;default:o+=+n[c][v-2],r+=+n[c][v-1]}}return n.toString=i._path2string,t.rel=Ae(n),n},Ee=i._pathToAbsolute=function(e){var t=Te(e);if(t.abs)return Ae(t.abs);if(i.is(e,V)&&i.is(e&&e[0],V)||(e=i.parsePathString(e)),!e||!e.length)return[["M",0,0]];var n=[],o=0,r=0,a=0,l=0,c=0;"M"==e[0][0]&&(o=+e[0][1],r=+e[0][2],a=o,l=r,c++,n[0]=["M",o,r]);for(var d,u,h=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),p=c,f=e.length;f>p;p++){if(n.push(d=[]),u=e[p],u[0]!=te.call(u[0]))switch(d[0]=te.call(u[0]),d[0]){case"A":d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=+(u[6]+o),d[7]=+(u[7]+r);break;case"V":d[1]=+u[1]+r;break;case"H":d[1]=+u[1]+o;break;case"R":for(var m=[o,r][E](u.slice(1)),g=2,v=m.length;v>g;g++)m[g]=+m[g]+o,m[++g]=+m[g]+r;n.pop(),n=n[E](s(m,h));break;case"M":a=+u[1]+o,l=+u[2]+r;default:for(g=1,v=u.length;v>g;g++)d[g]=+u[g]+(g%2?o:r)}else if("R"==u[0])m=[o,r][E](u.slice(1)),n.pop(),n=n[E](s(m,h)),d=["R"][E](u.slice(-2));else for(var y=0,b=u.length;b>y;y++)d[y]=u[y];switch(d[0]){case"Z":o=a,r=l;break;case"H":o=d[1];break;case"V":r=d[1];break;case"M":a=d[d.length-2],l=d[d.length-1];default:o=d[d.length-2],r=d[d.length-1]}}return n.toString=i._path2string,t.abs=Ae(n),n},Ie=function(e,t,i,n){return[e,t,i,n,i,n]},Me=function(e,t,i,n,o,r){var a=1/3,s=2/3;return[a*e+s*i,a*t+s*n,a*o+s*i,a*r+s*n,o,r]},Le=function(e,t,i,n,o,a,s,l,c,d){var u,h=120*W/180,p=W/180*(+o||0),f=[],m=r(function(e,t,i){var n=e*j.cos(i)-t*j.sin(i),o=e*j.sin(i)+t*j.cos(i);return{x:n,y:o}});if(d)k=d[0],S=d[1],x=d[2],C=d[3];else{u=m(e,t,-p),e=u.x,t=u.y,u=m(l,c,-p),l=u.x,c=u.y;var g=(j.cos(W/180*o),j.sin(W/180*o),(e-l)/2),v=(t-c)/2,y=g*g/(i*i)+v*v/(n*n);y>1&&(y=j.sqrt(y),i=y*i,n=y*n);var b=i*i,_=n*n,w=(a==s?-1:1)*j.sqrt(B((b*_-b*v*v-_*g*g)/(b*v*v+_*g*g))),x=w*i*v/n+(e+l)/2,C=w*-n*g/i+(t+c)/2,k=j.asin(((t-C)/n).toFixed(9)),S=j.asin(((c-C)/n).toFixed(9));k=x>e?W-k:k,S=x>l?W-S:S,0>k&&(k=2*W+k),0>S&&(S=2*W+S),s&&k>S&&(k-=2*W),!s&&S>k&&(S-=2*W)}var T=S-k;if(B(T)>h){var D=S,A=l,P=c;S=k+h*(s&&S>k?1:-1),l=x+i*j.cos(S),c=C+n*j.sin(S),f=Le(l,c,i,n,o,0,s,A,P,[S,D,x,C])}T=S-k;var I=j.cos(k),M=j.sin(k),L=j.cos(S),$=j.sin(S),O=j.tan(T/4),N=4/3*i*O,R=4/3*n*O,H=[e,t],z=[e+N*M,t-R*I],q=[l+N*$,c-R*L],Y=[l,c];if(z[0]=2*H[0]-z[0],z[1]=2*H[1]-z[1],d)return[z,q,Y][E](f);f=[z,q,Y][E](f).join()[F](",");for(var U=[],V=0,G=f.length;G>V;V++)U[V]=V%2?m(f[V-1],f[V],p).y:m(f[V],f[V+1],p).x;return U},$e=function(e,t,i,n,o,r,a,s,l){var c=1-l;return{x:q(c,3)*e+3*q(c,2)*l*i+3*c*l*l*o+q(l,3)*a,y:q(c,3)*t+3*q(c,2)*l*n+3*c*l*l*r+q(l,3)*s}},Fe=r(function(e,t,i,n,o,r,a,s){var l,c=o-2*i+e-(a-2*o+i),d=2*(i-e)-2*(o-i),u=e-i,h=(-d+j.sqrt(d*d-4*c*u))/2/c,p=(-d-j.sqrt(d*d-4*c*u))/2/c,f=[t,s],m=[e,a];return B(h)>"1e12"&&(h=.5),B(p)>"1e12"&&(p=.5),h>0&&1>h&&(l=$e(e,t,i,n,o,r,a,s,h),m.push(l.x),f.push(l.y)),p>0&&1>p&&(l=$e(e,t,i,n,o,r,a,s,p),m.push(l.x),f.push(l.y)),c=r-2*n+t-(s-2*r+n),d=2*(n-t)-2*(r-n),u=t-n,h=(-d+j.sqrt(d*d-4*c*u))/2/c,p=(-d-j.sqrt(d*d-4*c*u))/2/c,B(h)>"1e12"&&(h=.5),B(p)>"1e12"&&(p=.5),h>0&&1>h&&(l=$e(e,t,i,n,o,r,a,s,h),m.push(l.x),f.push(l.y)),p>0&&1>p&&(l=$e(e,t,i,n,o,r,a,s,p),m.push(l.x),f.push(l.y)),{min:{x:z[P](0,m),y:z[P](0,f)},max:{x:H[P](0,m),y:H[P](0,f)}}}),Oe=i._path2curve=r(function(e,t){var i=!t&&Te(e);if(!t&&i.curve)return Ae(i.curve);for(var n=Ee(e),o=t&&Ee(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(e,t,i){var n,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][E](Le[P](0,[t.x,t.y][E](e.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*t.x-t.bx,o=2*t.y-t.by):(n=t.x,o=t.y),e=["C",n,o][E](e.slice(1));break;case"T":"Q"==i||"T"==i?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][E](Me(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][E](Me(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][E](Ie(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][E](Ie(t.x,t.y,e[1],t.y));break;
case"V":e=["C"][E](Ie(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][E](Ie(t.x,t.y,t.X,t.Y))}return e}),l=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)e.splice(t++,0,["C"][E](i.splice(0,6)));e.splice(t,1),u=H(n.length,o&&o.length||0)}},c=function(e,t,i,r,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",r.x,r.y]),i.bx=0,i.by=0,i.x=e[a][1],i.y=e[a][2],u=H(n.length,o&&o.length||0))},d=0,u=H(n.length,o&&o.length||0);u>d;d++){n[d]=s(n[d],r),l(n,d),o&&(o[d]=s(o[d],a)),o&&l(o,d),c(n,o,r,a,d),c(o,n,a,r,d);var h=n[d],p=o&&o[d],f=h.length,m=o&&p.length;r.x=h[f-2],r.y=h[f-1],r.bx=Z(h[f-4])||r.x,r.by=Z(h[f-3])||r.y,a.bx=o&&(Z(p[m-4])||a.x),a.by=o&&(Z(p[m-3])||a.y),a.x=o&&p[m-2],a.y=o&&p[m-1]}return o||(i.curve=Ae(n)),o?[n,o]:n},null,Ae),Ne=(i._parseDots=r(function(e){for(var t=[],n=0,o=e.length;o>n;n++){var r={},a=e[n].match(/^([^:]*):?([\d\.]*)/);if(r.color=i.getRGB(a[1]),r.color.error)return null;r.color=r.color.hex,a[2]&&(r.offset=a[2]+"%"),t.push(r)}for(n=1,o=t.length-1;o>n;n++)if(!t[n].offset){for(var s=Z(t[n-1].offset||0),l=0,c=n+1;o>c;c++)if(t[c].offset){l=t[c].offset;break}l||(l=100,c=o),l=Z(l);for(var d=(l-s)/(c-n+1);c>n;n++)s+=d,t[n].offset=s+"%"}return t}),i._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Re=(i._tofront=function(e,t){t.top!==e&&(Ne(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},i._toback=function(e,t){t.bottom!==e&&(Ne(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},i._insertafter=function(e,t,i){Ne(e,i),t==i.top&&(i.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},i._insertbefore=function(e,t,i){Ne(e,i),t==i.bottom&&(i.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},i.toMatrix=function(e,t){var i=De(e),n={_:{transform:M},getBBox:function(){return i}};return je(n,t),n.matrix}),je=(i.transformPath=function(e,t){return ve(e,Re(e,t))},i._extractTransform=function(e,t){if(null==t)return e._.transform;t=$(t).replace(/\.{3}|\u2026/g,e._.transform||M);var n=i.parseTransformString(t),o=0,r=0,a=0,s=1,l=1,c=e._,d=new f;if(c.transform=n||[],n)for(var u=0,h=n.length;h>u;u++){var p,m,g,v,y,b=n[u],_=b.length,w=$(b[0]).toLowerCase(),x=b[0]!=w,C=x?d.invert():0;"t"==w&&3==_?x?(p=C.x(0,0),m=C.y(0,0),g=C.x(b[1],b[2]),v=C.y(b[1],b[2]),d.translate(g-p,v-m)):d.translate(b[1],b[2]):"r"==w?2==_?(y=y||e.getBBox(1),d.rotate(b[1],y.x+y.width/2,y.y+y.height/2),o+=b[1]):4==_&&(x?(g=C.x(b[2],b[3]),v=C.y(b[2],b[3]),d.rotate(b[1],g,v)):d.rotate(b[1],b[2],b[3]),o+=b[1]):"s"==w?2==_||3==_?(y=y||e.getBBox(1),d.scale(b[1],b[_-1],y.x+y.width/2,y.y+y.height/2),s*=b[1],l*=b[_-1]):5==_&&(x?(g=C.x(b[3],b[4]),v=C.y(b[3],b[4]),d.scale(b[1],b[2],g,v)):d.scale(b[1],b[2],b[3],b[4]),s*=b[1],l*=b[2]):"m"==w&&7==_&&d.add(b[1],b[2],b[3],b[4],b[5],b[6]),c.dirtyT=1,e.matrix=d}e.matrix=d,c.sx=s,c.sy=l,c.deg=o,c.dx=r=d.e,c.dy=a=d.f,1==s&&1==l&&!o&&c.bbox?(c.bbox.x+=+r,c.bbox.y+=+a):c.dirtyT=1}),He=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},ze=i._equaliseTransform=function(e,t){t=$(t).replace(/\.{3}|\u2026/g,e),e=i.parseTransformString(e)||[],t=i.parseTransformString(t)||[];for(var n,o,r,a,s=H(e.length,t.length),l=[],c=[],d=0;s>d;d++){if(r=e[d]||He(t[d]),a=t[d]||He(r),r[0]!=a[0]||"r"==r[0].toLowerCase()&&(r[2]!=a[2]||r[3]!=a[3])||"s"==r[0].toLowerCase()&&(r[3]!=a[3]||r[4]!=a[4]))return;for(l[d]=[],c[d]=[],n=0,o=H(r.length,a.length);o>n;n++)n in r&&(l[d][n]=r[n]),n in a&&(c[d][n]=a[n])}return{from:l,to:c}};i._getContainer=function(e,t,n,o){var r;return r=null!=o||i.is(e,"object")?e:T.doc.getElementById(e),null!=r?r.tagName?null==t?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:t,height:n}:{container:1,x:e,y:t,width:n,height:o}:void 0},i.pathToRelative=Pe,i._engine={},i.path2curve=Oe,i.matrix=function(e,t,i,n,o,r){return new f(e,t,i,n,o,r)},function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function n(e){var i=j.sqrt(t(e));e[0]&&(e[0]/=i),e[1]&&(e[1]/=i)}e.add=function(e,t,i,n,o,r){var a,s,l,c,d=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[e,i,o],[t,n,r],[0,0,1]];for(e&&e instanceof f&&(h=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),a=0;3>a;a++)for(s=0;3>s;s++){for(c=0,l=0;3>l;l++)c+=u[a][l]*h[l][s];d[a][s]=c}this.a=d[0][0],this.b=d[1][0],this.c=d[0][1],this.d=d[1][1],this.e=d[0][2],this.f=d[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new f(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,i,n){null==t&&(t=e),(i||n)&&this.add(1,0,0,1,i,n),this.add(e,0,0,t,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},e.rotate=function(e,t,n){e=i.rad(e),t=t||0,n=n||0;var o=+j.cos(e).toFixed(9),r=+j.sin(e).toFixed(9);this.add(o,r,-r,o,t,n),this.add(1,0,0,1,-t,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[$.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var o=[[this.a,this.c],[this.b,this.d]];e.scalex=j.sqrt(t(o[0])),n(o[0]),e.shear=o[0][0]*o[1][0]+o[0][1]*o[1][1],o[1]=[o[1][0]-o[0][0]*e.shear,o[1][1]-o[0][1]*e.shear],e.scaley=j.sqrt(t(o[1])),n(o[1]),e.shear/=e.scaley;var r=-o[0][1],a=o[1][1];return 0>a?(e.rotate=i.deg(j.acos(a)),0>r&&(e.rotate=360-e.rotate)):e.rotate=i.deg(j.asin(r)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[F]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:M)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:M)+(t.rotate?"r"+[t.rotate,0,0]:M)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Be=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);w.safari="Apple Computer, Inc."==navigator.vendor&&(Be&&Be[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Be&&Be[1]<8?function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:he;for(var qe=function(){this.returnValue=!1},We=function(){return this.originalEvent.preventDefault()},Ye=function(){this.cancelBubble=!0},Ue=function(){return this.originalEvent.stopPropagation()},Ve=function(e){var t=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,i=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:e.clientX+i,y:e.clientY+t}},Ge=function(){return T.doc.addEventListener?function(e,t,i,n){var o=function(e){var t=Ve(e);return i.call(n,e,t.x,t.y)};if(e.addEventListener(t,o,!1),I&&N[t]){var r=function(t){for(var o=Ve(t),r=t,a=0,s=t.targetTouches&&t.targetTouches.length;s>a;a++)if(t.targetTouches[a].target==e){t=t.targetTouches[a],t.originalEvent=r,t.preventDefault=We,t.stopPropagation=Ue;break}return i.call(n,t,o.x,o.y)};e.addEventListener(N[t],r,!1)}return function(){return e.removeEventListener(t,o,!1),I&&N[t]&&e.removeEventListener(N[t],o,!1),!0}}:T.doc.attachEvent?function(e,t,i,n){var o=function(e){e=e||T.win.event;var t=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,o=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,r=e.clientX+o,a=e.clientY+t;return e.preventDefault=e.preventDefault||qe,e.stopPropagation=e.stopPropagation||Ye,i.call(n,e,r,a)};e.attachEvent("on"+t,o);var r=function(){return e.detachEvent("on"+t,o),!0};return r}:void 0}(),Xe=[],Qe=function(e){for(var i,n=e.clientX,o=e.clientY,r=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,a=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,s=Xe.length;s--;){if(i=Xe[s],I&&e.touches){for(var l,c=e.touches.length;c--;)if(l=e.touches[c],l.identifier==i.el._drag.id){n=l.clientX,o=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var d,u=i.el.node,h=u.nextSibling,p=u.parentNode,f=u.style.display;T.win.opera&&p.removeChild(u),u.style.display="none",d=i.el.paper.getElementByPoint(n,o),u.style.display=f,T.win.opera&&(h?p.insertBefore(u,h):p.appendChild(u)),d&&t("raphael.drag.over."+i.el.id,i.el,d),n+=a,o+=r,t("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,o-i.el._drag.y,n,o,e)}},Ke=function(e){i.unmousemove(Qe).unmouseup(Ke);for(var n,o=Xe.length;o--;)n=Xe[o],n.el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e);Xe=[]},Je=i.el={},Ze=O.length;Ze--;)!function(e){i[e]=Je[e]=function(t,n){return i.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:Ge(this.shape||this.node||T.doc,e,t,n||this)})),this},i["un"+e]=Je["un"+e]=function(t){for(var n=this.events||[],o=n.length;o--;)n[o].name!=e||!i.is(t,"undefined")&&n[o].f!=t||(n[o].unbind(),n.splice(o,1),!n.length&&delete this.events);return this}}(O[Ze]);Je.data=function(e,n){var o=de[this.id]=de[this.id]||{};if(0==arguments.length)return o;if(1==arguments.length){if(i.is(e,"object")){for(var r in e)e[S](r)&&this.data(r,e[r]);return this}return t("raphael.data.get."+this.id,this,o[e],e),o[e]}return o[e]=n,t("raphael.data.set."+this.id,this,n,e),this},Je.removeData=function(e){return null==e?de[this.id]={}:de[this.id]&&delete de[this.id][e],this},Je.getData=function(){return n(de[this.id]||{})},Je.hover=function(e,t,i,n){return this.mouseover(e,i).mouseout(t,n||i)},Je.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var et=[];Je.drag=function(e,n,o,r,a,s){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,d=l.clientY,u=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,h=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=l.identifier,I&&l.touches)for(var p,f=l.touches.length;f--;)if(p=l.touches[f],this._drag.id=p.identifier,p.identifier==this._drag.id){c=p.clientX,d=p.clientY;break}this._drag.x=c+h,this._drag.y=d+u,!Xe.length&&i.mousemove(Qe).mouseup(Ke),Xe.push({el:this,move_scope:r,start_scope:a,end_scope:s}),n&&t.on("raphael.drag.start."+this.id,n),e&&t.on("raphael.drag.move."+this.id,e),o&&t.on("raphael.drag.end."+this.id,o),t("raphael.drag.start."+this.id,a||r||this,l.clientX+h,l.clientY+u,l)}return this._drag={},et.push({el:this,start:l}),this.mousedown(l),this},Je.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Je.undrag=function(){for(var e=et.length;e--;)et[e].el==this&&(this.unmousedown(et[e].start),et.splice(e,1),t.unbind("raphael.drag.*."+this.id));!et.length&&i.unmousemove(Qe).unmouseup(Ke),Xe=[]},w.circle=function(e,t,n){var o=i._engine.circle(this,e||0,t||0,n||0);return this.__set__&&this.__set__.push(o),o},w.rect=function(e,t,n,o,r){var a=i._engine.rect(this,e||0,t||0,n||0,o||0,r||0);return this.__set__&&this.__set__.push(a),a},w.ellipse=function(e,t,n,o){var r=i._engine.ellipse(this,e||0,t||0,n||0,o||0);return this.__set__&&this.__set__.push(r),r},w.path=function(e){e&&!i.is(e,U)&&!i.is(e[0],V)&&(e+=M);var t=i._engine.path(i.format[P](i,arguments),this);return this.__set__&&this.__set__.push(t),t},w.image=function(e,t,n,o,r){var a=i._engine.image(this,e||"about:blank",t||0,n||0,o||0,r||0);return this.__set__&&this.__set__.push(a),a},w.text=function(e,t,n){var o=i._engine.text(this,e||0,t||0,$(n));return this.__set__&&this.__set__.push(o),o},w.set=function(e){!i.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new ht(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},w.setStart=function(e){this.__set__=e||this.set()},w.setFinish=function(){var e=this.__set__;return delete this.__set__,e},w.setSize=function(e,t){return i._engine.setSize.call(this,e,t)},w.setViewBox=function(e,t,n,o,r){return i._engine.setViewBox.call(this,e,t,n,o,r)},w.top=w.bottom=null,w.raphael=i;var tt=function(e){var t=e.getBoundingClientRect(),i=e.ownerDocument,n=i.body,o=i.documentElement,r=o.clientTop||n.clientTop||0,a=o.clientLeft||n.clientLeft||0,s=t.top+(T.win.pageYOffset||o.scrollTop||n.scrollTop)-r,l=t.left+(T.win.pageXOffset||o.scrollLeft||n.scrollLeft)-a;return{y:s,x:l}};w.getElementByPoint=function(e,t){var i=this,n=i.canvas,o=T.doc.elementFromPoint(e,t);if(T.win.opera&&"svg"==o.tagName){var r=tt(n),a=n.createSVGRect();a.x=e-r.x,a.y=t-r.y,a.width=a.height=1;var s=n.getIntersectionList(a,null);s.length&&(o=s[s.length-1])}if(!o)return null;for(;o.parentNode&&o!=n.parentNode&&!o.raphael;)o=o.parentNode;return o==i.canvas.parentNode&&(o=n),o=o&&o.raphael?i.getById(o.raphaelid):null},w.getElementsByBBox=function(e){var t=this.set();return this.forEach(function(n){i.isBBoxIntersect(n.getBBox(),e)&&t.push(n)}),t},w.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},w.forEach=function(e,t){for(var i=this.bottom;i;){if(e.call(t,i)===!1)return this;i=i.next}return this},w.getElementsByPoint=function(e,t){var i=this.set();return this.forEach(function(n){n.isPointInside(e,t)&&i.push(n)}),i},Je.isPointInside=function(e,t){var n=this.realPath=ge[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,e,t)},Je.getBBox=function(e){if(this.removed)return{};var t=this._;return e?((t.dirty||!t.bboxwt)&&(this.realPath=ge[this.type](this),t.bboxwt=De(this.realPath),t.bboxwt.toString=m,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=ge[this.type](this)),t.bbox=De(ve(this.realPath,this.matrix)),t.bbox.toString=m,t.dirty=t.dirtyT=0),t.bbox)},Je.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Je.glow=function(e){if("text"==this.type)return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},i=t.width/2,n=this.paper,o=n.set(),r=this.realPath||ge[this.type](this);r=this.matrix?ve(r,this.matrix):r;for(var a=1;i+1>a;a++)o.push(n.path(r).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/i*a).toFixed(3),opacity:+(t.opacity/i).toFixed(3)}));return o.insertBefore(this).translate(t.offsetx,t.offsety)};var it=function(e,t,n,o,r,a,s,l,u){return null==u?c(e,t,n,o,r,a,s,l):i.findDotsAtSegment(e,t,n,o,r,a,s,l,d(e,t,n,o,r,a,s,l,u))},nt=function(e,t){return function(n,o,r){n=Oe(n);for(var a,s,l,c,d,u="",h={},p=0,f=0,m=n.length;m>f;f++){if(l=n[f],"M"==l[0])a=+l[1],s=+l[2];else{if(c=it(a,s,l[1],l[2],l[3],l[4],l[5],l[6]),p+c>o){if(t&&!h.start){if(d=it(a,s,l[1],l[2],l[3],l[4],l[5],l[6],o-p),u+=["C"+d.start.x,d.start.y,d.m.x,d.m.y,d.x,d.y],r)return u;h.start=u,u=["M"+d.x,d.y+"C"+d.n.x,d.n.y,d.end.x,d.end.y,l[5],l[6]].join(),p+=c,a=+l[5],s=+l[6];continue}if(!e&&!t)return d=it(a,s,l[1],l[2],l[3],l[4],l[5],l[6],o-p),{x:d.x,y:d.y,alpha:d.alpha}}p+=c,a=+l[5],s=+l[6]}u+=l.shift()+l}return h.end=u,d=e?p:t?h:i.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1),d.alpha&&(d={x:d.x,y:d.y,alpha:d.alpha}),d}},ot=nt(1),rt=nt(),at=nt(0,1);i.getTotalLength=ot,i.getPointAtLength=rt,i.getSubpath=function(e,t,i){if(this.getTotalLength(e)-i<1e-6)return at(e,t).end;var n=at(e,i,1);return t?at(n,t).end:n},Je.getTotalLength=function(){var e=this.getPath();return e?this.node.getTotalLength?this.node.getTotalLength():ot(e):void 0},Je.getPointAtLength=function(e){var t=this.getPath();return t?rt(t,e):void 0},Je.getPath=function(){var e,t=i._getPath[this.type];return"text"!=this.type&&"set"!=this.type?(t&&(e=t(this)),e):void 0},Je.getSubpath=function(e,t){var n=this.getPath();return n?i.getSubpath(n,e,t):void 0};var st=i.easing_formulas={linear:function(e){return e},"<":function(e){return q(e,1.7)},">":function(e){return q(e,.48)},"<>":function(e){var t=.48-e/1.04,i=j.sqrt(.1734+t*t),n=i-t,o=q(B(n),1/3)*(0>n?-1:1),r=-i-t,a=q(B(r),1/3)*(0>r?-1:1),s=o+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:q(2,-10*e)*j.sin(2*(e-.075)*W/.3)+1},bounce:function(e){var t,i=7.5625,n=2.75;return 1/n>e?t=i*e*e:2/n>e?(e-=1.5/n,t=i*e*e+.75):2.5/n>e?(e-=2.25/n,t=i*e*e+.9375):(e-=2.625/n,t=i*e*e+.984375),t}};st.easeIn=st["ease-in"]=st["<"],st.easeOut=st["ease-out"]=st[">"],st.easeInOut=st["ease-in-out"]=st["<>"],st["back-in"]=st.backIn,st["back-out"]=st.backOut;var lt=[],ct=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},dt=function(){for(var e=+new Date,n=0;n<lt.length;n++){var o=lt[n];if(!o.el.removed&&!o.paused){var r,a,s=e-o.start,l=o.ms,c=o.easing,d=o.from,u=o.diff,h=o.to,p=(o.t,o.el),f={},m={};if(o.initstatus?(s=(o.initstatus*o.anim.top-o.prev)/(o.percent-o.prev)*l,o.status=o.initstatus,delete o.initstatus,o.stop&&lt.splice(n--,1)):o.status=(o.prev+(o.percent-o.prev)*(s/l))/o.anim.top,!(0>s))if(l>s){var g=c(s/l);for(var v in d)if(d[S](v)){switch(ne[v]){case Y:r=+d[v]+g*l*u[v];break;case"colour":r="rgb("+[ut(J(d[v].r+g*l*u[v].r)),ut(J(d[v].g+g*l*u[v].g)),ut(J(d[v].b+g*l*u[v].b))].join(",")+")";break;case"path":r=[];for(var b=0,_=d[v].length;_>b;b++){r[b]=[d[v][b][0]];for(var w=1,x=d[v][b].length;x>w;w++)r[b][w]=+d[v][b][w]+g*l*u[v][b][w];r[b]=r[b].join(L)}r=r.join(L);break;case"transform":if(u[v].real)for(r=[],b=0,_=d[v].length;_>b;b++)for(r[b]=[d[v][b][0]],w=1,x=d[v][b].length;x>w;w++)r[b][w]=d[v][b][w]+g*l*u[v][b][w];else{var C=function(e){return+d[v][e]+g*l*u[v][e]};r=[["m",C(0),C(1),C(2),C(3),C(4),C(5)]]}break;case"csv":if("clip-rect"==v)for(r=[],b=4;b--;)r[b]=+d[v][b]+g*l*u[v][b];break;default:var k=[][E](d[v]);for(r=[],b=p.paper.customAttributes[v].length;b--;)r[b]=+k[b]+g*l*u[v][b]}f[v]=r}p.attr(f),function(e,i,n){setTimeout(function(){t("raphael.anim.frame."+e,i,n)})}(p.id,p,o.anim)}else{if(function(e,n,o){setTimeout(function(){t("raphael.anim.frame."+n.id,n,o),t("raphael.anim.finish."+n.id,n,o),i.is(e,"function")&&e.call(n)})}(o.callback,p,o.anim),p.attr(h),lt.splice(n--,1),o.repeat>1&&!o.next){for(a in h)h[S](a)&&(m[a]=o.totalOrigin[a]);o.el.attr(m),y(o.anim,o.el,o.anim.percents[0],null,o.totalOrigin,o.repeat-1)}o.next&&!o.stop&&y(o.anim,o.el,o.next,null,o.totalOrigin,o.repeat)}}}i.svg&&p&&p.paper&&p.paper.safari(),lt.length&&ct(dt)},ut=function(e){return e>255?255:0>e?0:e};Je.animateWith=function(e,t,n,o,r,a){var s=this;if(s.removed)return a&&a.call(s),s;var l=n instanceof v?n:i.animation(n,o,r,a);y(l,s,l.percents[0],null,s.attr());for(var c=0,d=lt.length;d>c;c++)if(lt[c].anim==t&&lt[c].el==e){lt[d-1].start=lt[c].start;break}return s},Je.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(e){var t=new v(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},v.prototype.repeat=function(e){var t=new v(this.anim,this.ms);return t.del=this.del,t.times=j.floor(H(e,0))||1,t},i.animation=function(e,t,n,o){if(e instanceof v)return e;(i.is(n,"function")||!n)&&(o=o||n||null,n=null),e=Object(e),t=+t||0;var r,a,s={};for(a in e)e[S](a)&&Z(a)!=a&&Z(a)+"%"!=a&&(r=!0,s[a]=e[a]);return r?(n&&(s.easing=n),o&&(s.callback=o),new v({100:s},t)):new v(e,t)},Je.animate=function(e,t,n,o){var r=this;if(r.removed)return o&&o.call(r),r;var a=e instanceof v?e:i.animation(e,t,n,o);return y(a,r,a.percents[0],null,r.attr()),r},Je.setTime=function(e,t){return e&&null!=t&&this.status(e,z(t,e.ms)/e.ms),this},Je.status=function(e,t){var i,n,o=[],r=0;if(null!=t)return y(e,this,-1,z(t,1)),this;for(i=lt.length;i>r;r++)if(n=lt[r],n.el.id==this.id&&(!e||n.anim==e)){if(e)return n.status;o.push({anim:n.anim,status:n.status})}return e?0:o},Je.pause=function(e){for(var i=0;i<lt.length;i++)lt[i].el.id!=this.id||e&&lt[i].anim!=e||t("raphael.anim.pause."+this.id,this,lt[i].anim)!==!1&&(lt[i].paused=!0);return this},Je.resume=function(e){for(var i=0;i<lt.length;i++)if(lt[i].el.id==this.id&&(!e||lt[i].anim==e)){var n=lt[i];t("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Je.stop=function(e){for(var i=0;i<lt.length;i++)lt[i].el.id!=this.id||e&&lt[i].anim!=e||t("raphael.anim.stop."+this.id,this,lt[i].anim)!==!1&&lt.splice(i--,1);return this},t.on("raphael.remove",b),t.on("raphael.clear",b),Je.toString=function(){return"Rapha\xebl\u2019s object"};var ht=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,i=e.length;i>t;t++)!e[t]||e[t].constructor!=Je.constructor&&e[t].constructor!=ht||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},pt=ht.prototype;pt.push=function(){for(var e,t,i=0,n=arguments.length;n>i;i++)e=arguments[i],!e||e.constructor!=Je.constructor&&e.constructor!=ht||(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},pt.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pt.forEach=function(e,t){for(var i=0,n=this.items.length;n>i;i++)if(e.call(t,this.items[i],i)===!1)return this;return this};for(var ft in Je)Je[S](ft)&&(pt[ft]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e][P](i,t)})}}(ft));return pt.attr=function(e,t){if(e&&i.is(e,V)&&i.is(e[0],"object"))for(var n=0,o=e.length;o>n;n++)this.items[n].attr(e[n]);else for(var r=0,a=this.items.length;a>r;r++)this.items[r].attr(e,t);return this},pt.clear=function(){for(;this.length;)this.pop()},pt.splice=function(e,t){e=0>e?H(this.length+e,0):e,t=H(0,z(this.length-e,t));var i,n=[],o=[],r=[];for(i=2;i<arguments.length;i++)r.push(arguments[i]);for(i=0;t>i;i++)o.push(this[e+i]);for(;i<this.length-e;i++)n.push(this[e+i]);var a=r.length;for(i=0;i<a+n.length;i++)this.items[e+i]=this[e+i]=a>i?r[i]:n[i-a];for(i=this.items.length=this.length-=t-a;this[i];)delete this[i++];return new ht(o)},pt.exclude=function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]==e)return this.splice(t,1),!0},pt.animate=function(e,t,n,o){(i.is(n,"function")||!n)&&(o=n||null);var r,a,s=this.items.length,l=s,c=this;if(!s)return this;o&&(a=function(){!--s&&o.call(c)}),n=i.is(n,U)?n:a;var d=i.animation(e,t,n,a);for(r=this.items[--l].animate(d);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(r,d,d),this.items[l]&&!this.items[l].removed||s--;return this},pt.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},pt.getBBox=function(){for(var e=[],t=[],i=[],n=[],o=this.items.length;o--;)if(!this.items[o].removed){var r=this.items[o].getBBox();e.push(r.x),t.push(r.y),i.push(r.x+r.width),n.push(r.y+r.height)}return e=z[P](0,e),t=z[P](0,t),i=H[P](0,i),n=H[P](0,n),{x:e,y:t,x2:i,y2:n,width:i-e,height:n-t}},pt.clone=function(e){e=this.paper.set();for(var t=0,i=this.items.length;i>t;t++)e.push(this.items[t].clone());return e},pt.toString=function(){return"Rapha\xebl\u2018s set"},pt.glow=function(e){var t=this.paper.set();return this.forEach(function(i){var n=i.glow(e);null!=n&&n.forEach(function(e){t.push(e)})}),t},pt.isPointInside=function(e,t){var i=!1;return this.forEach(function(n){return n.isPointInside(e,t)?(console.log("runned"),i=!0,!1):void 0}),i},i.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var n in e.face)e.face[S](n)&&(t.face[n]=e.face[n]);if(this.fonts[i]?this.fonts[i].push(t):this.fonts[i]=[t],!e.svg){t.face["units-per-em"]=ee(e.face["units-per-em"],10);for(var o in e.glyphs)if(e.glyphs[S](o)){var r=e.glyphs[o];if(t.glyphs[o]={w:r.w,k:{},d:r.d&&"M"+r.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},r.k)for(var a in r.k)r[S](a)&&(t.glyphs[o].k[a]=r.k[a])}}return e},w.getFont=function(e,t,n,o){if(o=o||"normal",n=n||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,i.fonts){var r=i.fonts[e];if(!r){var a=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(var s in i.fonts)if(i.fonts[S](s)&&a.test(s)){r=i.fonts[s];break}}var l;if(r)for(var c=0,d=r.length;d>c&&(l=r[c],l.face["font-weight"]!=t||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=o);c++);return l}},w.print=function(e,t,n,o,r,a,s,l){a=a||"middle",s=H(z(s||0,1),-1),l=H(z(l||1,3),1);var c,d=$(n)[F](M),u=0,h=0,p=M;if(i.is(o,"string")&&(o=this.getFont(o)),o){c=(r||16)/o.face["units-per-em"];for(var f=o.face.bbox[F](x),m=+f[0],g=f[3]-f[1],v=0,y=+f[1]+("baseline"==a?g+ +o.face.descent:g/2),b=0,_=d.length;_>b;b++){if("\n"==d[b])u=0,C=0,h=0,v+=g*l;else{var w=h&&o.glyphs[d[b-1]]||{},C=o.glyphs[d[b]];u+=h?(w.w||o.w)+(w.k&&w.k[d[b]]||0)+o.w*s:0,h=1}C&&C.d&&(p+=i.transformPath(C.d,["t",u*c,v*c,"s",c,c,m,y,"t",(e-m)/c,(t-y)/c]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},w.add=function(e){if(i.is(e,"array"))for(var t,n=this.set(),o=0,r=e.length;r>o;o++)t=e[o]||{},C[S](t.type)&&n.push(this[t.type]().attr(t));return n},i.format=function(e,t){var n=i.is(t,V)?[0][E](t):arguments;return e&&i.is(e,U)&&n.length-1&&(e=e.replace(k,function(e,t){return null==n[++t]?M:n[t]})),e||M},i.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(e,i,n){var o=n;return i.replace(t,function(e,t,i,n,r){t=t||n,o&&(t in o&&(o=o[t]),"function"==typeof o&&r&&(o=o()))}),o=(null==o||o==n?e:o)+""};return function(t,n){return String(t).replace(e,function(e,t){return i(e,t,n)})}}(),i.ninja=function(){return D.was?T.win.Raphael=D.is:delete Raphael,i},i.st=pt,function(e,t,n){function o(){/in/.test(e.readyState)?setTimeout(o,9):i.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(t,n=function(){e.removeEventListener(t,n,!1),e.readyState="complete"},!1),e.readyState="loading"),o()}(document,"DOMContentLoaded"),t.on("raphael.DOMload",function(){_=!0}),function(){if(i.svg){var e="hasOwnProperty",t=String,n=parseFloat,o=parseInt,r=Math,a=r.max,s=r.abs,l=r.pow,c=/[, ]+/,d=i.eve,u="",h=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};i.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var g=function(n,o){if(o){"string"==typeof n&&(n=g(n));for(var r in o)o[e](r)&&("xlink:"==r.substring(0,6)?n.setAttributeNS(p,r.substring(6),t(o[r])):n.setAttribute(r,t(o[r])))}else n=i._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,o){var c="linear",d=e.id+o,h=.5,p=.5,f=e.node,m=e.paper,v=f.style,y=i._g.doc.getElementById(d);if(!y){if(o=t(o).replace(i._radial_gradient,function(e,t,i){if(c="radial",t&&i){h=n(t),p=n(i);var o=2*(p>.5)-1;l(h-.5,2)+l(p-.5,2)>.25&&(p=r.sqrt(.25-l(h-.5,2))*o+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*o)}return u}),o=o.split(/\s*\-\s*/),"linear"==c){var b=o.shift();if(b=-n(b),isNaN(b))return null;var _=[0,0,r.cos(i.rad(b)),r.sin(i.rad(b))],w=1/(a(s(_[2]),s(_[3]))||1);_[2]*=w,_[3]*=w,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var x=i._parseDots(o);if(!x)return null;if(d=d.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&d!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=g(c+"Gradient",{id:d}),e.gradient=y,g(y,"radial"==c?{fx:h,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(y);for(var C=0,k=x.length;k>C;C++)y.appendChild(g("stop",{offset:x[C].offset?x[C].offset:C?"100%":"0%","stop-color":x[C].color||"#fff"}))}}return g(f,{fill:"url(#"+d+")",opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},y=function(e){var t=e.getBBox(1);g(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},b=function(n,o,r){if("path"==n.type){for(var a,s,l,c,d,h=t(o).toLowerCase().split("-"),p=n.paper,v=r?"end":"start",y=n.node,b=n.attrs,_=b["stroke-width"],w=h.length,x="classic",C=3,k=3,S=5;w--;)switch(h[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":x=h[w];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":C=5;break;case"short":C=2}if("open"==x?(C+=2,k+=2,S+=2,l=1,c=r?4:1,d={fill:"none",stroke:b.stroke}):(c=l=C/2,d={fill:b.stroke,stroke:"none"}),n._.arrows?r?(n._.arrows.endPath&&m[n._.arrows.endPath]--,n._.arrows.endMarker&&m[n._.arrows.endMarker]--):(n._.arrows.startPath&&m[n._.arrows.startPath]--,n._.arrows.startMarker&&m[n._.arrows.startMarker]--):n._.arrows={},"none"!=x){var T="raphael-marker-"+x,D="raphael-marker-"+v+x+C+k;i._g.doc.getElementById(T)?m[T]++:(p.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:f[x],id:T})),m[T]=1);var A,P=i._g.doc.getElementById(D);P?(m[D]++,A=P.getElementsByTagName("use")[0]):(P=g(g("marker"),{id:D,markerHeight:k,markerWidth:C,orient:"auto",refX:c,refY:k/2}),A=g(g("use"),{"xlink:href":"#"+T,transform:(r?"rotate(180 "+C/2+" "+k/2+") ":u)+"scale("+C/S+","+k/S+")","stroke-width":(1/((C/S+k/S)/2)).toFixed(4)}),P.appendChild(A),p.defs.appendChild(P),m[D]=1),g(A,d);var E=l*("diamond"!=x&&"oval"!=x);r?(a=n._.arrows.startdx*_||0,s=i.getTotalLength(b.path)-E*_):(a=E*_,s=i.getTotalLength(b.path)-(n._.arrows.enddx*_||0)),d={},d["marker-"+v]="url(#"+D+")",(s||a)&&(d.d=i.getSubpath(b.path,a,s)),g(y,d),n._.arrows[v+"Path"]=T,n._.arrows[v+"Marker"]=D,n._.arrows[v+"dx"]=E,n._.arrows[v+"Type"]=x,n._.arrows[v+"String"]=o}else r?(a=n._.arrows.startdx*_||0,s=i.getTotalLength(b.path)-a):(a=0,s=i.getTotalLength(b.path)-(n._.arrows.enddx*_||0)),n._.arrows[v+"Path"]&&g(y,{d:i.getSubpath(b.path,a,s)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(d in m)if(m[e](d)&&!m[d]){var I=i._g.doc.getElementById(d);I&&I.parentNode.removeChild(I)}}},_={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(e,i,n){if(i=_[t(i).toLowerCase()]){for(var o=e.attrs["stroke-width"]||"1",r={round:o,square:o,butt:0}[e.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,a=[],s=i.length;s--;)a[s]=i[s]*o+(s%2?1:-1)*r;g(e.node,{"stroke-dasharray":a.join(",")})}},x=function(n,r){var l=n.node,d=n.attrs,h=l.style.visibility;l.style.visibility="hidden";for(var f in r)if(r[e](f)){if(!i._availableAttrs[e](f))continue;var m=r[f];switch(d[f]=m,f){case"blur":n.blur(m);break;case"href":case"title":var _=g("title"),x=i._g.doc.createTextNode(m);_.appendChild(x),l.appendChild(_);break;case"target":var C=l.parentNode;if("a"!=C.tagName.toLowerCase()){var _=g("a");C.insertBefore(_,l),_.appendChild(l),C=_}"target"==f?C.setAttributeNS(p,"show","blank"==m?"new":m):C.setAttributeNS(p,f,m);break;case"cursor":l.style.cursor=m;break;case"transform":n.transform(m);break;case"arrow-start":b(n,m);break;case"arrow-end":b(n,m,1);break;case"clip-rect":var S=t(m).split(c);if(4==S.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var T=g("clipPath"),D=g("rect");T.id=i.createUUID(),g(D,{x:S[0],y:S[1],width:S[2],height:S[3]}),T.appendChild(D),n.paper.defs.appendChild(T),g(l,{"clip-path":"url(#"+T.id+")"}),n.clip=D}if(!m){var A=l.getAttribute("clip-path");if(A){var P=i._g.doc.getElementById(A.replace(/(^url\(#|\)$)/g,u));P&&P.parentNode.removeChild(P),g(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(g(l,{d:m?d.path=i._pathToAbsolute(m):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,m),n._.dirty=1,!d.fx)break;f="x",m=d.x;case"x":d.fx&&(m=-d.x-(d.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;
case"cx":l.setAttribute(f,m),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,m),n._.dirty=1,!d.fy)break;f="y",m=d.y;case"y":d.fy&&(m=-d.y-(d.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,m),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?g(l,{rx:m,ry:m}):l.setAttribute(f,m),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",m);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(m/=a(s(n._.sx),s(n._.sy))||1),n.paper._vbSize&&(m*=n.paper._vbSize),l.setAttribute(f,m),d["stroke-dasharray"]&&w(n,d["stroke-dasharray"],r),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":w(n,m,r);break;case"fill":var E=t(m).match(i._ISURL);if(E){T=g("pattern");var I=g("image");T.id=i.createUUID(),g(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(I,{x:0,y:0,"xlink:href":E[1]}),T.appendChild(I),function(e){i._preload(E[1],function(){var t=this.offsetWidth,i=this.offsetHeight;g(e,{width:t,height:i}),g(I,{width:t,height:i}),n.paper.safari()})}(T),n.paper.defs.appendChild(T),g(l,{fill:"url(#"+T.id+")"}),n.pattern=T,n.pattern&&y(n);break}var M=i.getRGB(m);if(M.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=t(m).charAt())&&v(n,m)){if("opacity"in d||"fill-opacity"in d){var L=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(L){var $=L.getElementsByTagName("stop");g($[$.length-1],{"stop-opacity":("opacity"in d?d.opacity:1)*("fill-opacity"in d?d["fill-opacity"]:1)})}}d.gradient=m,d.fill="none";break}}else delete r.gradient,delete d.gradient,!i.is(d.opacity,"undefined")&&i.is(r.opacity,"undefined")&&g(l,{opacity:d.opacity}),!i.is(d["fill-opacity"],"undefined")&&i.is(r["fill-opacity"],"undefined")&&g(l,{"fill-opacity":d["fill-opacity"]});M[e]("opacity")&&g(l,{"fill-opacity":M.opacity>1?M.opacity/100:M.opacity});case"stroke":M=i.getRGB(m),l.setAttribute(f,M.hex),"stroke"==f&&M[e]("opacity")&&g(l,{"stroke-opacity":M.opacity>1?M.opacity/100:M.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=t(m).charAt())&&v(n,m);break;case"opacity":d.gradient&&!d[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(d.gradient){L=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)),L&&($=L.getElementsByTagName("stop"),g($[$.length-1],{"stop-opacity":m}));break}default:"font-size"==f&&(m=o(m,10)+"px");var F=f.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[F]=m,n._.dirty=1,l.setAttribute(f,m)}}k(n,r),l.style.visibility=h},C=1.2,k=function(n,r){if("text"==n.type&&(r[e]("text")||r[e]("font")||r[e]("font-size")||r[e]("x")||r[e]("y"))){var a=n.attrs,s=n.node,l=s.firstChild?o(i._g.doc.defaultView.getComputedStyle(s.firstChild,u).getPropertyValue("font-size"),10):10;if(r[e]("text")){for(a.text=r.text;s.firstChild;)s.removeChild(s.firstChild);for(var c,d=t(r.text).split("\n"),h=[],p=0,f=d.length;f>p;p++)c=g("tspan"),p&&g(c,{dy:l*C,x:a.x}),c.appendChild(i._g.doc.createTextNode(d[p])),s.appendChild(c),h[p]=c}else for(h=s.getElementsByTagName("tspan"),p=0,f=h.length;f>p;p++)p?g(h[p],{dy:l*C,x:a.x}):g(h[0],{dy:0});g(s,{x:a.x,y:a.y}),n._.dirty=1;var m=n._getBBox(),v=a.y-(m.y+m.height/2);v&&i.is(v,"finite")&&g(h[0],{dy:v})}},S=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},T=i.el;S.prototype=T,T.constructor=S,i._engine.path=function(e,t){var i=g("path");t.canvas&&t.canvas.appendChild(i);var n=new S(i,t);return n.type="path",x(n,{fill:"none",stroke:"#000",path:e}),n},T.rotate=function(e,i,o){if(this.removed)return this;if(e=t(e).split(c),e.length-1&&(i=n(e[1]),o=n(e[2])),e=n(e[0]),null==o&&(i=o),null==i||null==o){var r=this.getBBox(1);i=r.x+r.width/2,o=r.y+r.height/2}return this.transform(this._.transform.concat([["r",e,i,o]])),this},T.scale=function(e,i,o,r){if(this.removed)return this;if(e=t(e).split(c),e.length-1&&(i=n(e[1]),o=n(e[2]),r=n(e[3])),e=n(e[0]),null==i&&(i=e),null==r&&(o=r),null==o||null==r)var a=this.getBBox(1);return o=null==o?a.x+a.width/2:o,r=null==r?a.y+a.height/2:r,this.transform(this._.transform.concat([["s",e,i,o,r]])),this},T.translate=function(e,i){return this.removed?this:(e=t(e).split(c),e.length-1&&(i=n(e[1])),e=n(e[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",e,i]])),this)},T.transform=function(t){var n=this._;if(null==t)return n.transform;if(i._extractTransform(this,t),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&g(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var o=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":o})}return this},T.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},T.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},T.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),i._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;this.removed=!0}},T._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(i){}finally{t=t||{}}return e&&this.hide(),t},T.attr=function(t,n){if(this.removed)return this;if(null==t){var o={};for(var r in this.attrs)this.attrs[e](r)&&(o[r]=this.attrs[r]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==n&&i.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var a=t.split(c),s={},l=0,u=a.length;u>l;l++)t=a[l],s[t]=t in this.attrs?this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:i._availableAttrs[t];return u-1?s:s[a[0]]}if(null==n&&i.is(t,"array")){for(s={},l=0,u=t.length;u>l;l++)s[t[l]]=this.attr(t[l]);return s}if(null!=n){var h={};h[t]=n}else null!=t&&i.is(t,"object")&&(h=t);for(var p in h)d("raphael.attr."+p+"."+this.id,this,h[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&h[e](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(h[p]));this.attrs[p]=h[p];for(var m in f)f[e](m)&&(h[m]=f[m])}return x(this,h),this},T.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&i._tofront(this,e),this},T.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;return"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper),this.paper,this},T.insertAfter=function(e){if(this.removed)return this;var t=e.node||e[e.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this},T.insertBefore=function(e){if(this.removed)return this;var t=e.node||e[0].node;return t.parentNode.insertBefore(this.node,t),i._insertbefore(this,e,this.paper),this},T.blur=function(e){var t=this;if(0!==+e){var n=g("filter"),o=g("feGaussianBlur");t.attrs.blur=e,n.id=i.createUUID(),g(o,{stdDeviation:+e||1.5}),n.appendChild(o),t.paper.defs.appendChild(n),t._blur=n,g(t.node,{filter:"url(#"+n.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},i._engine.circle=function(e,t,i,n){var o=g("circle");e.canvas&&e.canvas.appendChild(o);var r=new S(o,e);return r.attrs={cx:t,cy:i,r:n,fill:"none",stroke:"#000"},r.type="circle",g(o,r.attrs),r},i._engine.rect=function(e,t,i,n,o,r){var a=g("rect");e.canvas&&e.canvas.appendChild(a);var s=new S(a,e);return s.attrs={x:t,y:i,width:n,height:o,r:r||0,rx:r||0,ry:r||0,fill:"none",stroke:"#000"},s.type="rect",g(a,s.attrs),s},i._engine.ellipse=function(e,t,i,n,o){var r=g("ellipse");e.canvas&&e.canvas.appendChild(r);var a=new S(r,e);return a.attrs={cx:t,cy:i,rx:n,ry:o,fill:"none",stroke:"#000"},a.type="ellipse",g(r,a.attrs),a},i._engine.image=function(e,t,i,n,o,r){var a=g("image");g(a,{x:i,y:n,width:o,height:r,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(a);var s=new S(a,e);return s.attrs={x:i,y:n,width:o,height:r,src:t},s.type="image",s},i._engine.text=function(e,t,n,o){var r=g("text");e.canvas&&e.canvas.appendChild(r);var a=new S(r,e);return a.attrs={x:t,y:n,"text-anchor":"middle",text:o,font:i._availableAttrs.font,stroke:"none",fill:"#000"},a.type="text",x(a,a.attrs),a},i._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e&&e.container,n=e.x,o=e.y,r=e.width,a=e.height;if(!t)throw new Error("SVG container not found.");var s,l=g("svg"),c="overflow:hidden;";return n=n||0,o=o||0,r=r||512,a=a||342,g(l,{height:a,version:1.1,width:r,xmlns:"http://www.w3.org/2000/svg"}),1==t?(l.style.cssText=c+"position:absolute;left:"+n+"px;top:"+o+"px",i._g.doc.body.appendChild(l),s=1):(l.style.cssText=c+"position:relative",t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l)),t=new i._Paper,t.width=r,t.height=a,t.canvas=l,t.clear(),t._left=t._top=0,s&&(t.renderfix=function(){}),t.renderfix(),t},i._engine.setViewBox=function(e,t,i,n,o){d("raphael.setViewBox",this,this._viewBox,[e,t,i,n,o]);var r,s,l=a(i/this.width,n/this.height),c=this.top,u=o?"meet":"xMinYMin";for(null==e?(this._vbSize&&(l=1),delete this._vbSize,r="0 0 "+this.width+h+this.height):(this._vbSize=l,r=e+h+t+h+i+h+n),g(this.canvas,{viewBox:r,preserveAspectRatio:u});l&&c;)s="stroke-width"in c.attrs?c.attrs["stroke-width"]:1,c.attr({"stroke-width":s}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[e,t,i,n,!!o],this},i.prototype.renderfix=function(){var e,t=this.canvas,i=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(n){e=t.createSVGMatrix()}var o=-e.e%1,r=-e.f%1;(o||r)&&(o&&(this._left=(this._left+o)%1,i.left=this._left+"px"),r&&(this._top=(this._top+r)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(i._g.doc.createTextNode("Created with Rapha\xebl "+i.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},i.prototype.remove=function(){d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null};var D=i.st;for(var A in T)T[e](A)&&!D[e](A)&&(D[A]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(A))}}(),function(){if(i.vml){var e="hasOwnProperty",t=String,n=parseFloat,o=Math,r=o.round,a=o.max,s=o.min,l=o.abs,c="fill",d=/[, ]+/,u=i.eve,h=" progid:DXImageTransform.Microsoft",p=" ",f="",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",_=21600,w={path:1,rect:1,image:1},x={circle:1,ellipse:1},C=function(e){var n=/[ahqstv]/gi,o=i._pathToAbsolute;if(t(e).match(n)&&(o=i._path2curve),n=/[clmz]/g,o==i._pathToAbsolute&&!t(e).match(n)){var a=t(e).replace(g,function(e,t,i){var n=[],o="m"==t.toLowerCase(),a=m[t];return i.replace(y,function(e){o&&2==n.length&&(a+=n+m["m"==t?"l":"L"],n=[]),n.push(r(e*_))}),a+n});return a}var s,l,c=o(e);a=[];for(var d=0,u=c.length;u>d;d++){s=c[d],l=c[d][0].toLowerCase(),"z"==l&&(l="x");for(var h=1,v=s.length;v>h;h++)l+=r(s[h]*_)+(h!=v-1?",":f);a.push(l)}return a.join(p)},k=function(e,t,n){var o=i.matrix();return o.rotate(-e,.5,.5),{dx:o.x(t,n),dy:o.y(t,n)}},S=function(e,t,i,n,o,r){var a=e._,s=e.matrix,d=a.fillpos,u=e.node,h=u.style,f=1,m="",g=_/t,v=_/i;if(h.visibility="hidden",t&&i){if(u.coordsize=l(g)+p+l(v),h.rotation=r*(0>t*i?-1:1),r){var y=k(r,n,o);n=y.dx,o=y.dy}if(0>t&&(m+="x"),0>i&&(m+=" y")&&(f=-1),h.flip=m,u.coordorigin=n*-g+p+o*-v,d||a.fillsize){var b=u.getElementsByTagName(c);b=b&&b[0],u.removeChild(b),d&&(y=k(r,s.x(d[0],d[1]),s.y(d[0],d[1])),b.position=y.dx*f+p+y.dy*f),a.fillsize&&(b.size=a.fillsize[0]*l(t)+p+a.fillsize[1]*l(i)),u.appendChild(b)}h.visibility="visible"}};i.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var T=function(e,i,n){for(var o=t(i).toLowerCase().split("-"),r=n?"end":"start",a=o.length,s="classic",l="medium",c="medium";a--;)switch(o[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=o[a];break;case"wide":case"narrow":c=o[a];break;case"long":case"short":l=o[a]}var d=e.node.getElementsByTagName("stroke")[0];d[r+"arrow"]=s,d[r+"arrowlength"]=l,d[r+"arrowwidth"]=c},D=function(o,l){o.attrs=o.attrs||{};var u=o.node,h=o.attrs,m=u.style,g=w[o.type]&&(l.x!=h.x||l.y!=h.y||l.width!=h.width||l.height!=h.height||l.cx!=h.cx||l.cy!=h.cy||l.rx!=h.rx||l.ry!=h.ry||l.r!=h.r),v=x[o.type]&&(h.cx!=l.cx||h.cy!=l.cy||h.r!=l.r||h.rx!=l.rx||h.ry!=l.ry),y=o;for(var b in l)l[e](b)&&(h[b]=l[b]);if(g&&(h.path=i._getPath[o.type](o),o._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&o.blur(l.blur),(l.path&&"path"==o.type||g)&&(u.path=C(~t(h.path).toLowerCase().indexOf("r")?i._pathToAbsolute(h.path):h.path),"image"==o.type&&(o._.fillpos=[h.x,h.y],o._.fillsize=[h.width,h.height],S(o,1,1,0,0,0))),"transform"in l&&o.transform(l.transform),v){var k=+h.cx,D=+h.cy,P=+h.rx||+h.r||0,E=+h.ry||+h.r||0;u.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",r((k-P)*_),r((D-E)*_),r((k+P)*_),r((D+E)*_),r(k*_)),o._.dirty=1}if("clip-rect"in l){var M=t(l["clip-rect"]).split(d);if(4==M.length){M[2]=+M[2]+ +M[0],M[3]=+M[3]+ +M[1];var L=u.clipRect||i._g.doc.createElement("div"),$=L.style;$.clip=i.format("rect({1}px {2}px {3}px {0}px)",M),u.clipRect||($.position="absolute",$.top=0,$.left=0,$.width=o.paper.width+"px",$.height=o.paper.height+"px",u.parentNode.insertBefore(L,u),L.appendChild(u),u.clipRect=L)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(o.textpath){var F=o.textpath.style;l.font&&(F.font=l.font),l["font-family"]&&(F.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(F.fontSize=l["font-size"]),l["font-weight"]&&(F.fontWeight=l["font-weight"]),l["font-style"]&&(F.fontStyle=l["font-style"])}if("arrow-start"in l&&T(y,l["arrow-start"]),"arrow-end"in l&&T(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var O=u.getElementsByTagName(c),N=!1;if(O=O&&O[0],!O&&(N=O=I(c)),"image"==o.type&&l.src&&(O.src=l.src),l.fill&&(O.on=!0),(null==O.on||"none"==l.fill||null===l.fill)&&(O.on=!1),O.on&&l.fill){var R=t(l.fill).match(i._ISURL);if(R){O.parentNode==u&&u.removeChild(O),O.rotate=!0,O.src=R[1],O.type="tile";var j=o.getBBox(1);O.position=j.x+p+j.y,o._.fillpos=[j.x,j.y],i._preload(R[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else O.color=i.getRGB(l.fill).hex,O.src=f,O.type="solid",i.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=t(l.fill).charAt())&&A(y,l.fill,O)&&(h.fill="none",h.gradient=l.fill,O.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var H=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);H=s(a(H,0),1),O.opacity=H,O.src&&(O.color="none")}u.appendChild(O);var z=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],B=!1;!z&&(B=z=I("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(z.on=!0),("none"==l.stroke||null===l.stroke||null==z.on||0==l.stroke||0==l["stroke-width"])&&(z.on=!1);var q=i.getRGB(l.stroke);z.on&&l.stroke&&(z.color=q.hex),H=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+q.o+1||2)-1);var W=.75*(n(l["stroke-width"])||1);if(H=s(a(H,0),1),null==l["stroke-width"]&&(W=h["stroke-width"]),l["stroke-width"]&&(z.weight=W),W&&1>W&&(H*=W)&&(z.weight=1),z.opacity=H,l["stroke-linejoin"]&&(z.joinstyle=l["stroke-linejoin"]||"miter"),z.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(z.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var Y={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};z.dashstyle=Y[e](l["stroke-dasharray"])?Y[l["stroke-dasharray"]]:f}B&&u.appendChild(z)}if("text"==y.type){y.paper.canvas.style.display=f;var U=y.paper.span,V=100,G=h.font&&h.font.match(/\d+(?:\.\d*)?(?=px)/);m=U.style,h.font&&(m.font=h.font),h["font-family"]&&(m.fontFamily=h["font-family"]),h["font-weight"]&&(m.fontWeight=h["font-weight"]),h["font-style"]&&(m.fontStyle=h["font-style"]),G=n(h["font-size"]||G&&G[0])||10,m.fontSize=G*V+"px",y.textpath.string&&(U.innerHTML=t(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=U.getBoundingClientRect();y.W=h.w=(X.right-X.left)/V,y.H=h.h=(X.bottom-X.top)/V,y.X=h.x,y.Y=h.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=i.format("m{0},{1}l{2},{1}",r(h.x*_),r(h.y*_),r(h.x*_)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,J=Q.length;J>K;K++)if(Q[K]in l){y._.dirty=1;break}switch(h["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},A=function(e,r,a){e.attrs=e.attrs||{};var s=(e.attrs,Math.pow),l="linear",c=".5 .5";if(e.attrs.gradient=r,r=t(r).replace(i._radial_gradient,function(e,t,i){return l="radial",t&&i&&(t=n(t),i=n(i),s(t-.5,2)+s(i-.5,2)>.25&&(i=o.sqrt(.25-s(t-.5,2))*(2*(i>.5)-1)+.5),c=t+p+i),f}),r=r.split(/\s*\-\s*/),"linear"==l){var d=r.shift();if(d=-n(d),isNaN(d))return null}var u=i._parseDots(r);if(!u)return null;if(e=e.shape||e.node,u.length){e.removeChild(a),a.on=!0,a.method="none",a.color=u[0].color,a.color2=u[u.length-1].color;for(var h=[],m=0,g=u.length;g>m;m++)u[m].offset&&h.push(u[m].offset+p+u[m].color);a.colors=h.length?h.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=c,a.angle=0):(a.type="gradient",a.angle=(270-d)%360),e.appendChild(a)}return 1},P=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},E=i.el;P.prototype=E,E.constructor=P,E.transform=function(e){if(null==e)return this._.transform;var n,o=this.paper._viewBoxShift,r=o?"s"+[o.scale,o.scale]+"-1-1t"+[o.dx,o.dy]:f;o&&(n=e=t(e).replace(/\.{3}|\u2026/g,this._.transform||f)),i._extractTransform(this,r+e);var a,s=this.matrix.clone(),l=this.skew,c=this.node,d=~t(this.attrs.fill).indexOf("-"),u=!t(this.attrs.fill).indexOf("url(");if(s.translate(1,1),u||d||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=s.split(),d&&a.noRotation||!a.isSimple){c.style.filter=s.toFilter();var h=this.getBBox(),m=this.getBBox(1),g=h.x-m.x,v=h.y-m.y;c.coordorigin=g*-_+p+v*-_,S(this,1,1,g,v,0)}else c.style.filter=f,S(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else c.style.filter=f,l.matrix=t(s),l.offset=s.offset();return n&&(this._.transform=n),this},E.rotate=function(e,i,o){if(this.removed)return this;if(null!=e){if(e=t(e).split(d),e.length-1&&(i=n(e[1]),o=n(e[2])),e=n(e[0]),null==o&&(i=o),null==i||null==o){var r=this.getBBox(1);i=r.x+r.width/2,o=r.y+r.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,i,o]])),this}},E.translate=function(e,i){return this.removed?this:(e=t(e).split(d),e.length-1&&(i=n(e[1])),e=n(e[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",e,i]])),this)},E.scale=function(e,i,o,r){if(this.removed)return this;if(e=t(e).split(d),e.length-1&&(i=n(e[1]),o=n(e[2]),r=n(e[3]),isNaN(o)&&(o=null),isNaN(r)&&(r=null)),e=n(e[0]),null==i&&(i=e),null==r&&(o=r),null==o||null==r)var a=this.getBBox(1);return o=null==o?a.x+a.width/2:o,r=null==r?a.y+a.height/2:r,this.transform(this._.transform.concat([["s",e,i,o,r]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=f),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;this.removed=!0}},E.attr=function(t,n){if(this.removed)return this;if(null==t){var o={};for(var r in this.attrs)this.attrs[e](r)&&(o[r]=this.attrs[r]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==n&&i.is(t,"string")){if(t==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=t.split(d),s={},l=0,h=a.length;h>l;l++)t=a[l],s[t]=t in this.attrs?this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:i._availableAttrs[t];return h-1?s:s[a[0]]}if(this.attrs&&null==n&&i.is(t,"array")){for(s={},l=0,h=t.length;h>l;l++)s[t[l]]=this.attr(t[l]);return s}var p;null!=n&&(p={},p[t]=n),null==n&&i.is(t,"object")&&(p=t);for(var f in p)u("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&p[e](f)&&i.is(this.paper.customAttributes[f],"function")){var m=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var g in m)m[e](g)&&(p[g]=m[g])}p.text&&"text"==this.type&&(this.textpath.string=p.text),D(this,p)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},E.insertAfter=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this)},E.insertBefore=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),i._insertbefore(this,e,this.paper),this)},E.blur=function(e){var t=this.node.runtimeStyle,n=t.filter;return n=n.replace(v,f),0!==+e?(this.attrs.blur=e,t.filter=n+p+h+".Blur(pixelradius="+(+e||1.5)+")",t.margin=i.format("-{0}px 0 0 -{0}px",r(+e||1.5))):(t.filter=n,t.margin=0,delete this.attrs.blur),this},i._engine.path=function(e,t){var i=I("shape");i.style.cssText=b,i.coordsize=_+p+_,i.coordorigin=t.coordorigin;var n=new P(i,t),o={fill:"none",stroke:"#000"};e&&(o.path=e),n.type="path",n.path=[],n.Path=f,D(n,o),t.canvas.appendChild(i);var r=I("skew");return r.on=!0,i.appendChild(r),n.skew=r,n.transform(f),n},i._engine.rect=function(e,t,n,o,r,a){var s=i._rectPath(t,n,o,r,a),l=e.path(s),c=l.attrs;return l.X=c.x=t,l.Y=c.y=n,l.W=c.width=o,l.H=c.height=r,c.r=a,c.path=s,l.type="rect",l},i._engine.ellipse=function(e,t,i,n,o){var r=e.path();return r.attrs,r.X=t-n,r.Y=i-o,r.W=2*n,r.H=2*o,r.type="ellipse",D(r,{cx:t,cy:i,rx:n,ry:o}),r},i._engine.circle=function(e,t,i,n){var o=e.path();return o.attrs,o.X=t-n,o.Y=i-n,o.W=o.H=2*n,o.type="circle",D(o,{cx:t,cy:i,r:n}),o},i._engine.image=function(e,t,n,o,r,a){var s=i._rectPath(n,o,r,a),l=e.path(s).attr({stroke:"none"}),d=l.attrs,u=l.node,h=u.getElementsByTagName(c)[0];return d.src=t,l.X=d.x=n,l.Y=d.y=o,l.W=d.width=r,l.H=d.height=a,d.path=s,l.type="image",h.parentNode==u&&u.removeChild(h),h.rotate=!0,h.src=t,h.type="tile",l._.fillpos=[n,o],l._.fillsize=[r,a],u.appendChild(h),S(l,1,1,0,0,0),l},i._engine.text=function(e,n,o,a){var s=I("shape"),l=I("path"),c=I("textpath");n=n||0,o=o||0,a=a||"",l.v=i.format("m{0},{1}l{2},{1}",r(n*_),r(o*_),r(n*_)+1),l.textpathok=!0,c.string=t(a),c.on=!0,s.style.cssText=b,s.coordsize=_+p+_,s.coordorigin="0 0";var d=new P(s,e),u={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:a};d.shape=s,d.path=l,d.textpath=c,d.type="text",d.attrs.text=t(a),d.attrs.x=n,d.attrs.y=o,d.attrs.w=1,d.attrs.h=1,D(d,u),s.appendChild(c),s.appendChild(l),e.canvas.appendChild(s);var h=I("skew");return h.on=!0,s.appendChild(h),d.skew=h,d.transform(f),d},i._engine.setSize=function(e,t){var n=this.canvas.style;return this.width=e,this.height=t,e==+e&&(e+="px"),t==+t&&(t+="px"),n.width=e,n.height=t,n.clip="rect(0 "+e+" "+t+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(e,t,n,o,r){i.eve("raphael.setViewBox",this,this._viewBox,[e,t,n,o,r]);var s,l,c=this.width,d=this.height,u=1/a(n/c,o/d);return r&&(s=d/o,l=c/n,c>n*s&&(e-=(c-n*s)/2/s),d>o*l&&(t-=(d-o*l)/2/l)),this._viewBox=[e,t,n,o,!!r],this._viewBoxShift={dx:-e,dy:-t,scale:u},this.forEach(function(e){e.transform("...")}),this};var I;i._engine.initWin=function(e){var t=e.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),I=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(i){I=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e.container,n=e.height,o=e.width,r=e.x,a=e.y;if(!t)throw new Error("VML container not found.");var s=new i._Paper,l=s.canvas=i._g.doc.createElement("div"),c=l.style;return r=r||0,a=a||0,o=o||512,n=n||342,s.width=o,s.height=n,o==+o&&(o+="px"),n==+n&&(n+="px"),s.coordsize=1e3*_+p+1e3*_,s.coordorigin="0 0",s.span=i._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),c.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,n),1==t?(i._g.doc.body.appendChild(l),c.left=r+"px",c.top=a+"px",c.position="absolute"):t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l),s.renderfix=function(){},s},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;return!0};var M=i.st;for(var L in E)E[e](L)&&!M[e](L)&&(M[L]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(L))}}(),D.was?T.win.Raphael=i:Raphael=i,i}),function(){var e,t,i,n,o=[].slice,r=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,s=function(e,t){function i(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},l=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};t=window.Morris={},e=jQuery,t.EventEmitter=function(){function e(){}return e.prototype.on=function(e,t){return null==this.handlers&&(this.handlers={}),null==this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this},e.prototype.fire=function(){var e,t,i,n,r,a,s;if(i=arguments[0],e=2<=arguments.length?o.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[i]){for(a=this.handlers[i],s=[],n=0,r=a.length;r>n;n++)t=a[n],s.push(t.apply(null,e));return s}},e}(),t.commas=function(e){var t,i,n,o;return null!=e?(n=0>e?"-":"",t=Math.abs(e),i=Math.floor(t).toFixed(0),n+=i.replace(/(?=(?:\d{3})+$)(?!^)/g,","),o=t.toString(),o.length>i.length&&(n+=o.slice(i.length)),n):"-"},t.pad2=function(e){return(10>e?"0":"")+e},t.Grid=function(i){function n(t){this.hasToShow=r(this.hasToShow,this),this.resizeHandler=r(this.resizeHandler,this);var i=this;if("string"==typeof t.element?this.el=e(document.getElementById(t.element)):this.el=e(t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=e.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(e){var t,n,o,r,a;return n=i.el.offset(),a=e.pageX-n.left,i.selectFrom?(t=i.data[i.hitTest(Math.min(a,i.selectFrom))]._x,o=i.data[i.hitTest(Math.max(a,i.selectFrom))]._x,r=o-t,i.selectionRect.attr({x:t,width:r})):i.fire("hovermove",a,e.pageY-n.top)}),this.el.bind("mouseleave",function(e){return i.selectFrom&&(i.selectionRect.hide(),i.selectFrom=null),i.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(e){var t,n;return n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],t=i.el.offset(),i.fire("hovermove",n.pageX-t.left,n.pageY-t.top)}),this.el.bind("click",function(e){var t;return t=i.el.offset(),i.fire("gridclick",e.pageX-t.left,e.pageY-t.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(e){var t;return t=i.el.offset(),i.startRange(e.pageX-t.left)}),this.el.bind("mouseup",function(e){var t;return t=i.el.offset(),i.endRange(e.pageX-t.left),i.fire("hovermove",e.pageX-t.left,e.pageY-t.top)})),this.options.resize&&e(window).bind("resize",function(e){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return s(n,i),n.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},n.prototype.setData=function(i,n){var o,r,a,s,l,c,d,u,h,p,f,m,g,v,y,b,_,w,x,C,k;
if(null==n&&(n=!0),this.options.data=i,null==i||0===i.length)return this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide());if(y=this.cumulative?0:null,b=this.cumulative?0:null,this.options.goals.length>0&&(d=Math.min.apply(Math,this.options.goals),c=Math.max.apply(Math,this.options.goals),b=null!=b?Math.min(b,d):d,y=null!=y?Math.max(y,c):c),this.data=function(){var e,n,o;for(o=[],l=e=0,n=i.length;n>e;l=++e)h=i[l],u={src:h},u.label=h[this.options.xkey],this.options.parseTime?(u.x=t.parseDate(u.label),this.options.dateFormat?u.label=this.options.dateFormat(u.x):"number"==typeof u.label&&(u.label=new Date(u.label).toString())):(u.x=l,this.options.xLabelFormat&&(u.label=this.options.xLabelFormat(u))),m=0,u.y=function(){var e,t,i,n;for(i=this.options.ykeys,n=[],s=e=0,t=i.length;t>e;s=++e)v=i[s],_=h[v],"string"==typeof _&&(_=parseFloat(_)),null!=_&&"number"!=typeof _&&(_=null),null!=_&&this.hasToShow(s)&&(this.cumulative?m+=_:null!=y?(y=Math.max(_,y),b=Math.min(_,b)):y=b=_),this.cumulative&&null!=m&&(y=Math.max(m,y),b=Math.min(m,b)),n.push(_);return n}.call(this),o.push(u);return o}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(e,t){return(e.x>t.x)-(t.x>e.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0){if(this.options.parseTime)for(C=this.options.events,w=0,x=C.length;x>w;w++)o=C[w],o instanceof Array?(a=o[0],f=o[1],this.events.push([t.parseDate(a),t.parseDate(f)])):this.events.push(t.parseDate(o));else this.events=this.options.events;r=e.map(this.events,function(e){return e}),this.xmax=Math.max(this.xmax,Math.max.apply(Math,r)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,r))}return this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",b),this.ymax=this.yboundary("max",y),this.ymin===this.ymax&&(b&&(this.ymin-=1),this.ymax+=1),((k=this.options.axes)===!0||"both"===k||"y"===k||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(p=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var e,t,i,n;for(n=[],g=e=t=this.ymin,i=this.ymax;p>0?i>=e:e>=i;g=e+=p)n.push(g);return n}.call(this))),this.dirty=!0,n?this.redraw():void 0},n.prototype.yboundary=function(e,t){var i,n;return i=this.options["y"+e],"string"==typeof i?"auto"===i.slice(0,4)?i.length>5?(n=parseInt(i.slice(5),10),null==t?n:Math[e](t,n)):null!=t?t:0:parseInt(i,10):i},n.prototype.autoGridLines=function(e,t,i){var n,o,r,a,s,l,c,d,u;return s=t-e,u=Math.floor(Math.log(s)/Math.log(10)),c=Math.pow(10,u),o=Math.floor(e/c)*c,n=Math.ceil(t/c)*c,l=(n-o)/(i-1),1===c&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),n=o+l*(i-1)),0>o&&n>0&&(o=Math.floor(e/l)*l,n=Math.ceil(t/l)*l),1>l?(a=Math.floor(Math.log(l)/Math.log(10)),r=function(){var e,t;for(t=[],d=e=o;l>0?n>=e:e>=n;d=e+=l)t.push(parseFloat(d.toFixed(1-a)));return t}()):r=function(){var e,t;for(t=[],d=e=o;l>0?n>=e:e>=n;d=e+=l)t.push(d);return t}(),r},n.prototype._calc=function(){var e,t,i,n,o,r,a,s,l;return r=this.el.width(),n=this.el.height(),(this.elementWidth!==r||this.elementHeight!==n||this.dirty)&&(this.elementWidth=r,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((s=this.options.axes)===!0||"both"===s||"y"===s)&&(a=function(){var e,t,n,o;for(n=this.grid,o=[],e=0,t=n.length;t>e;e++)i=n[e],o.push(this.measureText(this.yAxisFormat(i)).width);return o}.call(this),this.options.horizontal?this.bottom-=Math.max.apply(Math,a):this.left+=Math.max.apply(Math,a)),((l=this.options.axes)===!0||"both"===l||"x"===l)&&(e=this.options.horizontal?-90:-this.options.xLabelAngle,t=function(){var t,i,n;for(n=[],o=t=0,i=this.data.length;i>=0?i>t:t>i;o=i>=0?++t:--t)n.push(this.measureText(this.data[o].label,e).height);return n}.call(this),this.options.horizontal?this.left+=Math.max.apply(Math,t):this.bottom-=Math.max.apply(Math,t)),this.left=1,this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.options.horizontal?(this.dx=this.height/(this.xmax-this.xmin),this.dy=this.width/(this.ymax-this.ymin),this.yStart=this.left,this.yEnd=this.right,this.xStart=this.top,this.xEnd=this.bottom,this.xSize=this.height,this.ySize=this.width):(this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.yStart=this.bottom,this.yEnd=this.top,this.xStart=this.left,this.xEnd=this.right,this.xSize=this.width,this.ySize=this.height),this.calc)?this.calc():void 0},n.prototype.transY=function(e){return this.options.horizontal?this.left+(e-this.ymin)*this.dy:this.bottom-(e-this.ymin)*this.dy},n.prototype.transX=function(e){return 1===this.data.length?(this.xStart+this.xEnd)/2:this.xStart+(e-this.xmin)*this.dx},n.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},n.prototype.measureText=function(e,t){var i,n;return null==t&&(t=0),n=this.raphael.text(100,100,e).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(t),i=n.getBBox(),n.remove(),i},n.prototype.yAxisFormat=function(e){return this.yLabelFormat(e,0)},n.prototype.yLabelFormat=function(e,i){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(e,i):""+this.options.preUnits+t.commas(e)+this.options.postUnits},n.prototype.getYAxisLabelX=function(){return this.left-this.options.padding/2},n.prototype.drawGrid=function(){var e,t,i,n,o,r,a,s,l;if(this.options.grid!==!1||(r=this.options.axes)===!0||"both"===r||"y"===r){for(e=this.options.horizontal?this.getXAxisLabelY():this.getYAxisLabelX(),a=this.grid,l=[],n=0,o=a.length;o>n;n++)t=a[n],i=this.transY(t),((s=this.options.axes)===!0||"both"===s||"y"===s)&&(this.options.horizontal?this.drawXAxisLabel(i,e,this.yAxisFormat(t)):(e=this.right+30,this.drawYAxisLabel(e,i,this.yAxisFormat(t)))),this.options.grid?(i=Math.floor(i)+.5,this.options.horizontal?l.push(this.drawGridLine("M"+i+","+this.xStart+"V"+this.xEnd)):l.push(this.drawGridLine("M"+this.xStart+","+i+"H"+this.xEnd))):l.push(void 0);return l}},n.prototype.drawGoals=function(){var e,t,i,n,o,r,a;for(r=this.options.goals,a=[],i=n=0,o=r.length;o>n;i=++n)t=r[i],e=this.options.goalLineColors[i%this.options.goalLineColors.length],a.push(this.drawGoal(t,e));return a},n.prototype.drawEvents=function(){var e,t,i,n,o,r,a;for(r=this.events,a=[],i=n=0,o=r.length;o>n;i=++n)t=r[i],e=this.options.eventLineColors[i%this.options.eventLineColors.length],a.push(this.drawEvent(t,e));return a},n.prototype.drawGoal=function(e,t){var i,n;return n=Math.floor(this.transY(e))+.5,i=this.options.horizontal?"M"+n+","+this.xStart+"V"+this.xEnd:"M"+this.xStart+","+n+"H"+this.xEnd,this.raphael.path(i).attr("stroke",t).attr("stroke-width",this.options.goalStrokeWidth)},n.prototype.drawEvent=function(e,t){var i,n,o,r;return e instanceof Array?(i=e[0],o=e[1],i=Math.floor(this.transX(i))+.5,o=Math.floor(this.transX(o))+.5,this.options.horizontal?this.raphael.rect(this.yStart,i,this.yEnd-this.yStart,o-i).attr({fill:t,stroke:!1}).toBack():this.raphael.rect(i,this.yEnd,o-i,this.yStart-this.yEnd).attr({fill:t,stroke:!1}).toBack()):(r=Math.floor(this.transX(e))+.5,n=this.options.horizontal?"M"+this.yStart+","+r+"H"+this.yEnd:"M"+r+","+this.yStart+"V"+this.yEnd,this.raphael.path(n).attr("stroke",t).attr("stroke-width",this.options.eventStrokeWidth))},n.prototype.drawYAxisLabel=function(e,t,i){return this.raphael.text(e,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},n.prototype.drawGridLine=function(e){return this.raphael.path(e).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},n.prototype.startRange=function(e){return this.hover.hide(),this.selectFrom=e,this.selectionRect.attr({x:e,width:0}).show()},n.prototype.endRange=function(e){var t,i;return this.selectFrom?(i=Math.min(this.selectFrom,e),t=Math.max(this.selectFrom,e),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(t)].x}),this.selectFrom=null):void 0},n.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},n.prototype.hasToShow=function(e){return this.options.shown===!0||this.options.shown[e]===!0},n}(t.EventEmitter),t.parseDate=function(e){var t,i,n,o,r,a,s,l,c,d,u;return"number"==typeof e?e:(i=e.match(/^(\d+) Q(\d)$/),o=e.match(/^(\d+)-(\d+)$/),r=e.match(/^(\d+)-(\d+)-(\d+)$/),s=e.match(/^(\d+) W(\d+)$/),l=e.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),c=e.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),i?new Date(parseInt(i[1],10),3*parseInt(i[2],10)-1,1).getTime():o?new Date(parseInt(o[1],10),parseInt(o[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10)).getTime():s?(d=new Date(parseInt(s[1],10),0,1),4!==d.getDay()&&d.setMonth(0,1+(4-d.getDay()+7)%7),d.getTime()+6048e5*parseInt(s[2],10)):l?l[6]?(a=0,"Z"!==l[6]&&(a=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(a=0-a)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+a)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():c?(u=parseFloat(c[6]),t=Math.floor(u),n=Math.round(1e3*(u-t)),c[8]?(a=0,"Z"!==c[8]&&(a=60*parseInt(c[10],10)+parseInt(c[11],10),"+"===c[9]&&(a=0-a)),Date.UTC(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10)+a,t,n)):new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10),t,n).getTime()):new Date(parseInt(e,10),0,1).getTime())},t.Hover=function(){function i(i){null==i&&(i={}),this.options=e.extend({},t.Hover.defaults,i),this.el=e("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return i.defaults={"class":"morris-hover morris-default-style"},i.prototype.update=function(e,t,i,n){return e?(this.html(e),this.show(),this.moveTo(t,i,n)):this.hide()},i.prototype.html=function(e){return this.el.html(e)},i.prototype.moveTo=function(e,t,i){var n,o,r,a,s,l;return s=this.options.parent.innerWidth(),a=this.options.parent.innerHeight(),o=this.el.outerWidth(),n=this.el.outerHeight(),r=Math.min(Math.max(0,e-o/2),s-o),null!=t?i===!0?(l=t-n/2,0>l&&(l=0)):l=t-n-80:l=a/2-n/2,this.el.css({left:r+"px",top:parseInt(l)+"px"})},i.prototype.show=function(){return this.el.show()},i.prototype.hide=function(){return this.el.hide()},i}(),t.Line=function(i){function n(e){return this.hilight=r(this.hilight,this),this.onHoverOut=r(this.onHoverOut,this),this.onHoverMove=r(this.onHoverMove,this),this.onGridClick=r(this.onGridClick,this),this instanceof t.Line?void n.__super__.constructor.call(this,e):new t.Line(e)}return s(n,i),n.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new t.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},n.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],lineBorderColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,shown:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1,trendLine:!1,trendLineWidth:2,trendLineColors:["#689bc3","#a2b3bf","#64b764"]},n.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},n.prototype.calcPoints=function(){var e,t,i,n,o,r;for(o=this.data,r=[],i=0,n=o.length;n>i;i++)e=o[i],e._x=this.transX(e.x),e._y=function(){var i,n,o,r;for(o=e.y,r=[],i=0,n=o.length;n>i;i++)t=o[i],null!=t?r.push(this.transY(t)):r.push(t);return r}.call(this),r.push(e._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var i,n,o,r;for(o=e._y,r=[],i=0,n=o.length;n>i;i++)t=o[i],null!=t&&r.push(t);return r}())));return r},n.prototype.hitTest=function(e){var t,i,n,o,r;if(0===this.data.length)return null;for(r=this.data.slice(1),t=n=0,o=r.length;o>n&&(i=r[t],!(e<(i._x+this.data[t]._x)/2));t=++n);return t},n.prototype.onGridClick=function(e,t){var i;return i=this.hitTest(e),this.fire("click",i,this.data[i].src,e,t)},n.prototype.onHoverMove=function(e,t){var i;return i=this.hitTest(e),this.displayHoverForRow(i)},n.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},n.prototype.displayHoverForRow=function(e){var t;return null!=e?((t=this.hover).update.apply(t,this.hoverContentForRow(e)),this.hilight(e)):(this.hover.hide(),this.hilight())},n.prototype.hoverContentForRow=function(t){var i,n,o,r,a,s,l;for(o=this.data[t],label=o.label.split(" "),i=e("<div class='morris-hover-row-label'>").html(label[0]+"<br><small>"+label[1]+"</small>"),i=i.prop("outerHTML"),l=o.y,n=a=l.length-1,s=l.length;a>=0;n=--a)r=l[n],this.options.labels[n]!==!1&&(i+="<div class='morris-hover-point' style='color: "+this.colorFor(null,n,"line")+"'>\n <div class='block' style='background-color: "+this.colorFor(null,n,"line")+"'></div>"+this.options.labels[n]+":\n  <strong>"+this.yLabelFormat(r,n)+"</strong>\n</div>");return"function"==typeof this.options.hoverCallback&&(i=this.options.hoverCallback(t,this.options,i,o.src)),[i,o._x,o._ymax]},n.prototype.generatePaths=function(){var e,i,n,o;return this.paths=function(){var r,a,s,c;for(c=[],i=r=0,a=this.options.ykeys.length;a>=0?a>r:r>a;i=a>=0?++r:--r)o="boolean"==typeof this.options.smooth?this.options.smooth:(s=this.options.ykeys[i],l.call(this.options.smooth,s)>=0),e=function(){var e,t,o,r;for(o=this.data,r=[],e=0,t=o.length;t>e;e++)n=o[e],void 0!==n._y[i]&&r.push({x:n._x,y:n._y[i]});return r}.call(this),e.length>1?c.push(t.Line.createPath(e,o,this.bottom)):c.push(null);return c}.call(this)},n.prototype.draw=function(){var e;return((e=this.options.axes)===!0||"both"===e||"x"===e)&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},n.prototype.drawXAxis=function(){var e,i,n,o,r,a,s,l,c,d,u=this;for(s=this.bottom+this.options.padding/2,r=null,o=null,e=function(e,t){var i,n,a,l,c;return i=u.drawXAxisLabel(u.transX(t),s,e),c=i.getBBox(),i.transform("r"+-u.options.xLabelAngle),n=i.getBBox(),i.transform("t0,"+n.height/2+"..."),0!==u.options.xLabelAngle&&(l=-.5*c.width*Math.cos(u.options.xLabelAngle*Math.PI/180),i.transform("t"+l+",0...")),n=i.getBBox(),(null==r||r>=n.x+n.width||null!=o&&o>=n.x)&&n.x>=0&&n.x+n.width<u.el.width()?(0!==u.options.xLabelAngle&&(a=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180),o=n.x-a),r=n.x-u.options.xLabelMargin):i.remove()},n=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:t.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var e,t,i,n;for(i=this.data,n=[],e=0,t=i.length;t>e;e++)a=i[e],n.push([a.label,a.x]);return n}.call(this),n.reverse(),d=[],l=0,c=n.length;c>l;l++)i=n[l],d.push(e(i[0],i[1]));return d},n.prototype.drawSeries=function(){var e,t,i,n,o,r;for(this.seriesPoints=[],e=t=n=this.options.ykeys.length-1;0>=n?0>=t:t>=0;e=0>=n?++t:--t)this.hasToShow(e)&&((this.options.trendLine!==!1&&this.options.trendLine===!0||this.options.trendLine[e]===!0)&&this._drawTrendLine(e),this._drawLineFor(e));for(r=[],e=i=o=this.options.ykeys.length-1;0>=o?0>=i:i>=0;e=0>=o?++i:--i)this.hasToShow(e)?r.push(this._drawPointFor(e)):r.push(void 0);return r},n.prototype._drawPointFor=function(e){var t,i,n,o,r,a;for(this.seriesPoints[e]=[],r=this.data,a=[],n=0,o=r.length;o>n;n++)i=r[n],t=null,null!=i._y[e]&&(t=this.drawLinePoint(i._x,i._y[e],this.colorFor(i,e,"point"),e)),a.push(this.seriesPoints[e].push(t));return a},n.prototype._drawLineFor=function(e){var t;return t=this.paths[e],null!==t?this.drawLinePath(t,this.colorFor(null,e,"lineBorder"),e):void 0},n.prototype._drawTrendLine=function(e){var i,n,o,r,a,s,l,c,d,u,h,p,f,m,g;for(s=0,d=0,l=0,c=0,r=0,g=this.data,f=0,m=g.length;m>f;f++)u=g[f],h=u.x,p=u.y[e],void 0!==p&&(r+=1,s+=h,d+=p,l+=h*h,c+=h*p);return i=(r*c-s*d)/(r*l-s*s),n=d/r-i*s/r,o=[{},{}],o[0].x=this.transX(this.data[0].x),o[0].y=this.transY(this.data[0].x*i+n),o[1].x=this.transX(this.data[this.data.length-1].x),o[1].y=this.transY(this.data[this.data.length-1].x*i+n),a=t.Line.createPath(o,!1,this.bottom),a=this.raphael.path(a).attr("stroke",this.colorFor(null,e,"trendLine")).attr("stroke-width",this.options.trendLineWidth)},n.createPath=function(e,i,n){var o,r,a,s,l,c,d,u,h,p,f,m,g,v;for(d="",i&&(a=t.Line.gradients(e)),u={y:null},s=g=0,v=e.length;v>g;s=++g)o=e[s],null!=o.y&&(null!=u.y?i?(r=a[s],c=a[s-1],l=(o.x-u.x)/4,h=u.x+l,f=Math.min(n,u.y+l*c),p=o.x-l,m=Math.min(n,o.y-l*r),d+="C"+h+","+f+","+p+","+m+","+o.x+","+o.y):d+="L"+o.x+","+o.y:i&&null==a[s]||(d+="M"+o.x+","+o.y)),u=o;return d},n.gradients=function(e){var t,i,n,o,r,a,s,l;for(i=function(e,t){return(e.y-t.y)/(e.x-t.x)},l=[],n=a=0,s=e.length;s>a;n=++a)t=e[n],null!=t.y?(o=e[n+1]||{y:null},r=e[n-1]||{y:null},null!=r.y&&null!=o.y?l.push(i(r,o)):null!=r.y?l.push(i(r,t)):null!=o.y?l.push(i(t,o)):l.push(null)):l.push(null);return l},n.prototype.hilight=function(e){var t,i,n,o,r;if(null!==this.prevHilight&&this.prevHilight!==e)for(t=i=0,o=this.seriesPoints.length-1;o>=0?o>=i:i>=o;t=o>=0?++i:--i)this.seriesPoints[t][this.prevHilight]&&this.seriesPoints[t][this.prevHilight].animate(this.pointShrinkSeries(t));if(null!==e&&this.prevHilight!==e)for(t=n=0,r=this.seriesPoints.length-1;r>=0?r>=n:n>=r;t=r>=0?++n:--n)this.seriesPoints[t][e]&&this.seriesPoints[t][e].animate(this.pointGrowSeries(t));return this.prevHilight=e},n.prototype.colorFor=function(e,t,i){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,e,t,i):"point"===i?this.options.pointFillColors[t%this.options.pointFillColors.length]||this.options.lineColors[t%this.options.lineColors.length]:"line"===i?this.options.lineColors[t%this.options.lineColors.length]:"lineBorder"===i?this.options.lineBorderColors[t%this.options.lineBorderColors.length]:this.options.trendLineColors[t%this.options.trendLineColors.length]},n.prototype.drawXAxisLabel=function(e,t,i){return this.raphael.text(e,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawLinePath=function(e,t,i){return this.raphael.path(e).attr("stroke",t).attr("stroke-width",this.lineWidthForSeries(i))},n.prototype.drawLinePoint=function(e,t,i,n){return this.raphael.circle(e,t,this.pointSizeForSeries(n)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(n)).attr("stroke",this.pointStrokeColorForSeries(n))},n.prototype.pointStrokeWidthForSeries=function(e){return this.options.pointStrokeWidths[e%this.options.pointStrokeWidths.length]},n.prototype.pointStrokeColorForSeries=function(e){return this.options.pointStrokeColors[e%this.options.pointStrokeColors.length]},n.prototype.lineWidthForSeries=function(e){return this.options.lineWidth instanceof Array?this.options.lineWidth[e%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(e){return this.options.pointSize instanceof Array?this.options.pointSize[e%this.options.pointSize.length]:this.options.pointSize},n.prototype.pointGrowSeries=function(e){return 0!==this.pointSizeForSeries(e)?Raphael.animation({r:this.pointSizeForSeries(e)+3},25,"linear"):void 0},n.prototype.pointShrinkSeries=function(e){return Raphael.animation({r:this.pointSizeForSeries(e)},25,"linear")},n}(t.Grid),t.labelSeries=function(i,n,o,r,a){var s,l,c,d,u,h,p,f,m,g,v;if(c=200*(n-i)/o,l=new Date(i),p=t.LABEL_SPECS[r],void 0===p)for(v=t.AUTO_LABEL_ORDER,m=0,g=v.length;g>m;m++)if(d=v[m],h=t.LABEL_SPECS[d],c>=h.span){p=h;break}for(void 0===p&&(p=t.LABEL_SPECS.second),a&&(p=e.extend({},p,{fmt:a})),s=p.start(l),u=[];(f=s.getTime())<=n;)f>=i&&u.push([p.fmt(s),f]),p.incr(s);return u},i=function(e){return{span:60*e*1e3,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())},fmt:function(e){return""+t.pad2(e.getHours())+":"+t.pad2(e.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+e)}}},n=function(e){return{span:1e3*e,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())},fmt:function(e){return""+t.pad2(e.getHours())+":"+t.pad2(e.getMinutes())+":"+t.pad2(e.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+e)}}},t.LABEL_SPECS={decade:{span:1728e8,start:function(e){return new Date(e.getFullYear()-e.getFullYear()%10,0,1)},fmt:function(e){return""+e.getFullYear()},incr:function(e){return e.setFullYear(e.getFullYear()+10)}},year:{span:1728e7,start:function(e){return new Date(e.getFullYear(),0,1)},fmt:function(e){return""+e.getFullYear()},incr:function(e){return e.setFullYear(e.getFullYear()+1)}},month:{span:24192e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},fmt:function(e){return""+e.getFullYear()+"-"+t.pad2(e.getMonth()+1)},incr:function(e){return e.setMonth(e.getMonth()+1)}},week:{span:6048e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},fmt:function(e){return""+e.getFullYear()+"-"+t.pad2(e.getMonth()+1)+"-"+t.pad2(e.getDate())},incr:function(e){return e.setDate(e.getDate()+7)}},day:{span:864e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},fmt:function(e){return""+e.getFullYear()+"-"+t.pad2(e.getMonth()+1)+"-"+t.pad2(e.getDate())},incr:function(e){return e.setDate(e.getDate()+1)}},hour:i(60),"30min":i(30),"15min":i(15),"10min":i(10),"5min":i(5),minute:i(1),"30sec":n(30),"15sec":n(15),"10sec":n(10),"5sec":n(5),second:n(1)},t.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],t.Area=function(i){function n(i){var r;return this instanceof t.Area?(r=e.extend({},o,i),this.cumulative=!r.behaveLikeLine,"auto"===r.fillOpacity&&(r.fillOpacity=r.behaveLikeLine?.8:1),void n.__super__.constructor.call(this,r)):new t.Area(i)}var o;return s(n,i),o={fillOpacity:"auto",behaveLikeLine:!1},n.prototype.calcPoints=function(){var e,t,i,n,o,r,a;for(r=this.data,a=[],n=0,o=r.length;o>n;n++)e=r[n],e._x=this.transX(e.x),t=0,e._y=function(){var n,o,r,a;for(r=e.y,a=[],n=0,o=r.length;o>n;n++)i=r[n],this.options.behaveLikeLine?a.push(this.transY(i)):(t+=i||0,a.push(this.transY(t)));return a}.call(this),a.push(e._ymax=Math.max.apply(Math,e._y));return a},n.prototype.drawSeries=function(){var e,t,i,n,o,r,a,s;for(this.seriesPoints=[],t=this.options.behaveLikeLine?function(){r=[];for(var e=0,t=this.options.ykeys.length-1;t>=0?t>=e:e>=t;t>=0?e++:e--)r.push(e);return r}.apply(this):function(){a=[];for(var e=o=this.options.ykeys.length-1;0>=o?0>=e:e>=0;0>=o?e++:e--)a.push(e);return a}.apply(this),s=[],i=0,n=t.length;n>i;i++)e=t[i],this._drawFillFor(e),this._drawLineFor(e),s.push(this._drawPointFor(e));return s},n.prototype._drawFillFor=function(e){var t;return t=this.paths[e],null!==t?(t+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(t,this.fillForSeries(e))):void 0},n.prototype.fillForSeries=function(e){var t;return t=Raphael.rgb2hsl(this.colorFor(this.data[e],e,"line")),Raphael.hsl(t.h,t.s,t.l)},n.prototype.drawFilledPath=function(e,t){return this.raphael.path(e).attr("fill",t).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},n}(t.Line),t.Bar=function(i){function n(i){return this.onHoverOut=r(this.onHoverOut,this),this.onHoverMove=r(this.onHoverMove,this),this.onGridClick=r(this.onGridClick,this),this instanceof t.Bar?void n.__super__.constructor.call(this,e.extend({},i,{parseTime:!1})):new t.Bar(i)}return s(n,i),n.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new t.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},n.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50,horizontal:!1,shown:!0},n.prototype.calc=function(){var e;return this.calcBars(),this.options.hideHover===!1?(e=this.hover).update.apply(e,this.hoverContentForRow(this.data.length-1)):void 0},n.prototype.calcBars=function(){var e,t,i,n,o,r,a;for(r=this.data,a=[],e=n=0,o=r.length;o>n;e=++n)t=r[e],t._x=this.xStart+this.xSize*(e+.5)/this.data.length,a.push(t._y=function(){var e,n,o,r;for(o=t.y,r=[],e=0,n=o.length;n>e;e++)i=o[e],null!=i?r.push(this.transY(i)):r.push(null);return r}.call(this));return a},n.prototype.draw=function(){var e;return((e=this.options.axes)===!0||"both"===e||"x"===e)&&this.drawXAxis(),this.drawSeries()},n.prototype.drawXAxis=function(){var e,t,i,n,o,r,a,s,l,c,d,u,h,p,f,m,g;for(t=this.options.horizontal?this.getYAxisLabelX():this.getXAxisLabelY(),c=null,l=null,g=[],i=f=0,m=this.data.length;m>=0?m>f:f>m;i=m>=0?++f:--f)d=this.data[this.data.length-1-i],n=this.options.horizontal?this.drawYAxisLabel(t,d._x-.5*this.options.gridTextSize,d.label):this.drawXAxisLabel(d._x,t,d.label),e=this.options.horizontal?0:this.options.xLabelAngle,p=n.getBBox(),n.transform("r"+-e),o=n.getBBox(),n.transform("t0,"+o.height/2+"..."),0!==e&&(s=-.5*p.width*Math.cos(e*Math.PI/180),n.transform("t"+s+",0...")),this.options.horizontal?(h=o.y,u=o.height,a=this.el.height()):(h=o.x,u=o.width,a=this.el.width()),(null==c||c>=h+u||null!=l&&l>=h)&&h>=0&&a>h+u?(0!==e&&(r=1.25*this.options.gridTextSize/Math.sin(e*Math.PI/180),l=h-r),this.options.horizontal?g.push(c=h):g.push(c=h-this.options.xLabelMargin)):g.push(n.remove());return g},n.prototype.getXAxisLabelY=function(){return this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2)},n.prototype.drawSeries=function(){var e,t,i,n,o,r,a,s,l,c,d,u,h,p,f,m,g,v;if(i=this.xSize/this.options.data.length,this.options.stacked)l=1;else for(l=0,n=g=0,v=this.options.ykeys.length-1;v>=0?v>=g:g>=v;n=v>=0?++g:--g)this.hasToShow(n)&&(l+=1);return e=(i*this.options.barSizeRatio-this.options.barGap*(l-1))/l,this.options.barSize&&(e=Math.min(e,this.options.barSize)),h=i-e*l-this.options.barGap*(l-1),s=h/2,m=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var n,l,h,g;for(h=this.data,g=[],o=n=0,l=h.length;l>n;o=++n)c=h[o],r=0,g.push(function(){var n,l,h,g;for(h=c._y,g=[],d=n=0,l=h.length;l>n;d=++n)f=h[d],this.hasToShow(d)&&(null!==f?(m?(p=Math.min(f,m),t=Math.max(f,m)):(p=f,t=this.bottom),a=this.xStart+o*i+s,this.options.stacked||(a+=d*(e+this.options.barGap)),u=t-p,this.options.verticalGridCondition&&this.options.verticalGridCondition(c.x)&&(this.options.horizontal?this.drawBar(this.yStart,this.xStart+o*i,this.ySize,i,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius):this.drawBar(this.xStart+o*i,this.yEnd,i,this.ySize,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)),this.options.stacked&&(p-=r),this.options.horizontal?(this.drawBar(p,a,u,e,this.colorFor(c,d,"bar"),this.options.barOpacity,this.options.barRadius),g.push(r-=u)):(this.drawBar(a,p,e,u,this.colorFor(c,d,"bar"),this.options.barOpacity,this.options.barRadius),g.push(r+=u))):g.push(null));return g}.call(this));return g}.call(this)},n.prototype.colorFor=function(e,t,i){var n,o;return"function"==typeof this.options.barColors?(n={x:e.x,y:e.y[t],label:e.label},o={index:t,key:this.options.ykeys[t],label:this.options.labels[t]},this.options.barColors.call(this,n,o,i)):this.options.barColors[t%this.options.barColors.length]},n.prototype.hitTest=function(e,t){var i;return 0===this.data.length?null:(i=this.options.horizontal?t:e,i=Math.max(Math.min(i,this.xEnd),this.xStart),Math.min(this.data.length-1,Math.floor((i-this.xStart)/(this.xSize/this.data.length))))},n.prototype.onGridClick=function(e,t){var i;return i=this.hitTest(e,t),this.fire("click",i,this.data[i].src,e,t)},n.prototype.onHoverMove=function(e,t){var i,n;return i=this.hitTest(e,t),(n=this.hover).update.apply(n,this.hoverContentForRow(i))},n.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.hover.hide():void 0},n.prototype.hoverContentForRow=function(t){var i,n,o,r,a,s,l,c;for(o=this.data[t],i=e("<div class='morris-hover-row-label'>").text(o.label),i=i.prop("outerHTML"),c=o.y,n=s=0,l=c.length;l>s;n=++s)a=c[n],this.options.labels[n]!==!1&&(i+="<div class='morris-hover-point' style='color: "+this.colorFor(o,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(a,n)+"\n</div>");return"function"==typeof this.options.hoverCallback&&(i=this.options.hoverCallback(t,this.options,i,o.src)),this.options.horizontal?(r=this.left+.5*this.width,a=this.top+(t+.5)*this.height/this.data.length,[i,r,a,!0]):(r=this.left+(t+.5)*this.width/this.data.length,[i,r])},n.prototype.drawXAxisLabel=function(e,t,i){var n;return n=this.raphael.text(e,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawBar=function(e,t,i,n,o,r,a){var s,l;return s=Math.max.apply(Math,a),l=0===s||s>n?this.raphael.rect(e,t,i,n):this.raphael.path(this.roundedRect(e,t,i,n,a)),l.attr("fill",o).attr("fill-opacity",r).attr("stroke","none")},n.prototype.roundedRect=function(e,t,i,n,o){return null==o&&(o=[0,0,0,0]),["M",e,o[0]+t,"Q",e,t,e+o[0],t,"L",e+i-o[1],t,"Q",e+i,t,e+i,t+o[1],"L",e+i,t+n-o[2],"Q",e+i,t+n,e+i-o[2],t+n,"L",e+o[3],t+n,"Q",e,t+n,e,t+n-o[3],"Z"]},n}(t.Grid),t.Donut=function(i){function n(i){this.resizeHandler=r(this.resizeHandler,this),this.select=r(this.select,this),this.click=r(this.click,this);var n=this;if(!(this instanceof t.Donut))return new t.Donut(i);if(this.options=e.extend({},this.defaults,i),"string"==typeof i.element?this.el=e(document.getElementById(i.element)):this.el=e(i.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==i.data&&0!==i.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&e(window).bind("resize",function(e){return null!=n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout(n.resizeHandler,100)}),this.setData(i.data))}return s(n,i),n.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:t.commas,resize:!1},n.prototype.redraw=function(){var e,i,n,o,r,a,s,l,c,d,u,h,p,f,m,g,v,y,b,_,w,x,C;for(this.raphael.clear(),i=this.el.width()/2,n=this.el.height()/2,p=(Math.min(i,n)-10)/3,u=0,_=this.values,f=0,v=_.length;v>f;f++)h=_[f],u+=h;for(l=5/(2*p),e=1.9999*Math.PI-l*this.data.length,a=0,r=0,this.segments=[],w=this.values,o=m=0,y=w.length;y>m;o=++m)h=w[o],c=a+l+e*(h/u),d=new t.DonutSegment(i,n,2*p,p,a,c,this.data[o].color||this.options.colors[r%this.options.colors.length],this.options.backgroundColor,r,this.raphael),d.render(),this.segments.push(d),d.on("hover",this.select),d.on("click",this.click),a=c,r+=1;for(this.text1=this.drawEmptyDonutLabel(i,n-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(i,n+10,this.options.labelColor,14),s=Math.max.apply(Math,this.values),r=0,x=this.values,C=[],g=0,b=x.length;b>g;g++){if(h=x[g],h===s){this.select(r);break}C.push(r+=1)}return C},n.prototype.setData=function(e){var t;return this.data=e,this.values=function(){var e,i,n,o;for(n=this.data,o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(parseFloat(t.value));return o}.call(this),this.redraw()},n.prototype.click=function(e){return this.fire("click",e,this.data[e])},n.prototype.select=function(e){var t,i,n,o,r,a;for(a=this.segments,o=0,r=a.length;r>o;o++)i=a[o],i.deselect();return n=this.segments[e],n.select(),t=this.data[e],this.setLabels(t.label,this.options.formatter(t.value,t))},n.prototype.setLabels=function(e,t){var i,n,o,r,a,s,l,c;
return i=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,r=1.8*i,o=i/2,n=i/3,this.text1.attr({text:e,transform:""}),a=this.text1.getBBox(),s=Math.min(r/a.width,o/a.height),this.text1.attr({transform:"S"+s+","+s+","+(a.x+a.width/2)+","+(a.y+a.height)}),this.text2.attr({text:t,transform:""}),l=this.text2.getBBox(),c=Math.min(r/l.width,n/l.height),this.text2.attr({transform:"S"+c+","+c+","+(l.x+l.width/2)+","+l.y})},n.prototype.drawEmptyDonutLabel=function(e,t,i,n,o){var r;return r=this.raphael.text(e,t,"").attr("font-size",n).attr("fill",i),null!=o&&r.attr("font-weight",o),r},n.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},n}(t.EventEmitter),t.DonutSegment=function(e){function t(e,t,i,n,o,a,s,l,c,d){this.cx=e,this.cy=t,this.inner=i,this.outer=n,this.color=s,this.backgroundColor=l,this.index=c,this.raphael=d,this.deselect=r(this.deselect,this),this.select=r(this.select,this),this.sin_p0=Math.sin(o),this.cos_p0=Math.cos(o),this.sin_p1=Math.sin(a),this.cos_p1=Math.cos(a),this.is_long=a-o>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return s(t,e),t.prototype.calcArcPoints=function(e){return[this.cx+e*this.sin_p0,this.cy+e*this.cos_p0,this.cx+e*this.sin_p1,this.cy+e*this.cos_p1]},t.prototype.calcSegment=function(e,t){var i,n,o,r,a,s,l,c,d,u;return d=this.calcArcPoints(e),i=d[0],o=d[1],n=d[2],r=d[3],u=this.calcArcPoints(t),a=u[0],l=u[1],s=u[2],c=u[3],"M"+i+","+o+("A"+e+","+e+",0,"+this.is_long+",0,"+n+","+r)+("L"+s+","+c)+("A"+t+","+t+",0,"+this.is_long+",1,"+a+","+l)+"Z"},t.prototype.calcArc=function(e){var t,i,n,o,r;return r=this.calcArcPoints(e),t=r[0],n=r[1],i=r[2],o=r[3],"M"+t+","+n+("A"+e+","+e+",0,"+this.is_long+",0,"+i+","+o)},t.prototype.render=function(){var e=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return e.fire("hover",e.index)},function(){return e.fire("click",e.index)})},t.prototype.drawDonutArc=function(e,t){return this.raphael.path(e).attr({stroke:t,"stroke-width":2,opacity:0})},t.prototype.drawDonutSegment=function(e,t,i,n,o){return this.raphael.path(e).attr({fill:t,stroke:i,"stroke-width":3}).hover(n).click(o)},t.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},t.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},t}(t.EventEmitter)}.call(this),function(e){function t(e,t,i){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:i;default:throw new Error("Implement me")}}function i(e,t){return De.call(e,t)}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(e){we.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var i=!0;return f(function(){return i&&(o(e),i=!1),t.apply(this,arguments)},t)}function a(e,t){yt[e]||(o(t),yt[e]=!0)}function s(e,t){return function(i){return v(e.call(this,i),t)}}function l(e,t){return function(i){return this.localeData().ordinal(e.call(this,i),t)}}function c(e,t){var i,n,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return 0>t-r?(i=e.clone().add(o-1,"months"),n=(t-r)/(r-i)):(i=e.clone().add(o+1,"months"),n=(t-r)/(i-r)),-(o+n)}function d(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&12>t&&(t+=12),n||12!==t||(t=0),t):t}function u(){}function h(e,t){t!==!1&&L(e),m(this,e),this._d=new Date(+e._d),_t===!1&&(_t=!0,we.updateOffset(this),_t=!1)}function p(e){var t=T(e),i=t.year||0,n=t.quarter||0,o=t.month||0,r=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*s,this._days=+a+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=we.localeData(),this._bubble()}function f(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t){var i,n,o;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Oe.length>0)for(i in Oe)n=Oe[i],o=t[n],"undefined"!=typeof o&&(e[n]=o);return e}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e,t,i){for(var n=""+Math.abs(e),o=e>=0;n.length<t;)n="0"+n;return(o?i?"+":"":"-")+n}function y(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function b(e,t){var i;return t=R(t,e),e.isBefore(t)?i=y(e,t):(i=y(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function _(e,t){return function(i,n){var o,r;return null===n||isNaN(+n)||(a(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=we.duration(i,n),w(this,o,e),this}}function w(e,t,i,n){var o=t._milliseconds,r=t._days,a=t._months;n=null==n?!0:n,o&&e._d.setTime(+e._d+o*i),r&&me(e,"Date",fe(e,"Date")+r*i),a&&pe(e,fe(e,"Month")+a*i),n&&we.updateOffset(e,r||a)}function x(e){return"[object Array]"===Object.prototype.toString.call(e)}function C(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function k(e,t,i){var n,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(n=0;o>n;n++)(i&&e[n]!==t[n]||!i&&A(e[n])!==A(t[n]))&&a++;return a+r}function S(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ut[e]||ht[t]||t}return e}function T(e){var t,n,o={};for(n in e)i(e,n)&&(t=S(n),t&&(o[t]=e[n]));return o}function D(t){var i,n;if(0===t.indexOf("week"))i=7,n="day";else{if(0!==t.indexOf("month"))return;i=12,n="month"}we[t]=function(o,r){var a,s,l=we._locale[t],c=[];if("number"==typeof o&&(r=o,o=e),s=function(e){var t=we().utc().set(n,e);return l.call(we._locale,t,o||"")},null!=r)return s(r);for(a=0;i>a;a++)c.push(s(a));return c}}function A(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function P(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function E(e,t,i){return ce(we([e,11,31+t-i]),t,i).week}function I(e){return M(e)?366:365}function M(e){return e%4===0&&e%100!==0||e%400===0}function L(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Pe]<0||e._a[Pe]>11?Pe:e._a[Ee]<1||e._a[Ee]>P(e._a[Ae],e._a[Pe])?Ee:e._a[Ie]<0||e._a[Ie]>24||24===e._a[Ie]&&(0!==e._a[Me]||0!==e._a[Le]||0!==e._a[$e])?Ie:e._a[Me]<0||e._a[Me]>59?Me:e._a[Le]<0||e._a[Le]>59?Le:e._a[$e]<0||e._a[$e]>999?$e:-1,e._pf._overflowDayOfYear&&(Ae>t||t>Ee)&&(t=Ee),e._pf.overflow=t)}function $(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function F(e){return e?e.toLowerCase().replace("_","-"):e}function O(e){for(var t,i,n,o,r=0;r<e.length;){for(o=F(e[r]).split("-"),t=o.length,i=F(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=N(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&k(o,i,!0)>=t-1)break;t--}r++}return null}function N(e){var t=null;if(!Fe[e]&&Ne)try{t=we.locale(),require("./locale/"+e),we.locale(t)}catch(i){}return Fe[e]}function R(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(we.isMoment(e)||C(e)?+e:+we(e))-+i,i._d.setTime(+i._d+n),we.updateOffset(i,!1),i):we(e).local()}function j(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,i,n=e.match(ze);for(t=0,i=n.length;i>t;t++)vt[n[t]]?n[t]=vt[n[t]]:n[t]=j(n[t]);return function(o){var r="";for(t=0;i>t;t++)r+=n[t]instanceof Function?n[t].call(o,e):n[t];return r}}function z(e,t){return e.isValid()?(t=B(t,e.localeData()),pt[t]||(pt[t]=H(t)),pt[t](e)):e.localeData().invalidDate()}function B(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Be.lastIndex=0;n>=0&&Be.test(e);)e=e.replace(Be,i),Be.lastIndex=0,n-=1;return e}function q(e,t){var i,n=t._strict;switch(e){case"Q":return Ze;case"DDDD":return tt;case"YYYY":case"GGGG":case"gggg":return n?it:Ye;case"Y":case"G":case"g":return ot;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?nt:Ue;case"S":if(n)return Ze;case"SS":if(n)return et;case"SSS":if(n)return tt;case"DDD":return We;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ge;case"a":case"A":return t._locale._meridiemParse;case"x":return Ke;case"X":return Je;case"Z":case"ZZ":return Xe;case"T":return Qe;case"SSSS":return Ve;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?et:qe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return qe;case"Do":return n?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return i=new RegExp(J(K(e.replace("\\","")),"i"))}}function W(e){e=e||"";var t=e.match(Xe)||[],i=t[t.length-1]||[],n=(i+"").match(ct)||["-",0,0],o=+(60*n[1])+A(n[2]);return"+"===n[0]?o:-o}function Y(e,t,i){var n,o=i._a;switch(e){case"Q":null!=t&&(o[Pe]=3*(A(t)-1));break;case"M":case"MM":null!=t&&(o[Pe]=A(t)-1);break;case"MMM":case"MMMM":n=i._locale.monthsParse(t,e,i._strict),null!=n?o[Pe]=n:i._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[Ee]=A(t));break;case"Do":null!=t&&(o[Ee]=A(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(i._dayOfYear=A(t));break;case"YY":o[Ae]=we.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":o[Ae]=A(t);break;case"a":case"A":i._meridiem=t;break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":o[Ie]=A(t);break;case"m":case"mm":o[Me]=A(t);break;case"s":case"ss":o[Le]=A(t);break;case"S":case"SS":case"SSS":case"SSSS":o[$e]=A(1e3*("0."+t));break;case"x":i._d=new Date(A(t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=W(t);break;case"dd":case"ddd":case"dddd":n=i._locale.weekdaysParse(t),null!=n?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(i._w=i._w||{},i._w[e]=A(t));break;case"gg":case"GG":i._w=i._w||{},i._w[e]=we.parseTwoDigitYear(t)}}function U(e){var i,n,o,r,a,s,l;i=e._w,null!=i.GG||null!=i.W||null!=i.E?(a=1,s=4,n=t(i.GG,e._a[Ae],ce(we(),1,4).year),o=t(i.W,1),r=t(i.E,1)):(a=e._locale._week.dow,s=e._locale._week.doy,n=t(i.gg,e._a[Ae],ce(we(),a,s).year),o=t(i.w,1),null!=i.d?(r=i.d,a>r&&++o):r=null!=i.e?i.e+a:a),l=de(n,o,r,s,a),e._a[Ae]=l.year,e._dayOfYear=l.dayOfYear}function V(e){var i,n,o,r,a=[];if(!e._d){for(o=X(e),e._w&&null==e._a[Ee]&&null==e._a[Pe]&&U(e),e._dayOfYear&&(r=t(e._a[Ae],o[Ae]),e._dayOfYear>I(r)&&(e._pf._overflowDayOfYear=!0),n=re(r,0,e._dayOfYear),e._a[Pe]=n.getUTCMonth(),e._a[Ee]=n.getUTCDate()),i=0;3>i&&null==e._a[i];++i)e._a[i]=a[i]=o[i];for(;7>i;i++)e._a[i]=a[i]=null==e._a[i]?2===i?1:0:e._a[i];24===e._a[Ie]&&0===e._a[Me]&&0===e._a[Le]&&0===e._a[$e]&&(e._nextDay=!0,e._a[Ie]=0),e._d=(e._useUTC?re:oe).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ie]=24)}}function G(e){var t;e._d||(t=T(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],V(e))}function X(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Q(t){if(t._f===we.ISO_8601)return void ee(t);t._a=[],t._pf.empty=!0;var i,n,o,r,a,s=""+t._i,l=s.length,c=0;for(o=B(t._f,t._locale).match(ze)||[],i=0;i<o.length;i++)r=o[i],n=(s.match(q(r,t))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),vt[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),Y(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=l-c,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Ie]<=12&&(t._pf.bigHour=e),t._a[Ie]=d(t._locale,t._a[Ie],t._meridiem),V(t),L(t)}function K(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,o){return t||i||n||o})}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e){var t,i,o,r,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=n(),t._f=e._f[r],Q(t),$(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==o||o>a)&&(o=a,i=t));f(e,i||t)}function ee(e){var t,i,n=e._i,o=rt.exec(n);if(o){for(e._pf.iso=!0,t=0,i=st.length;i>t;t++)if(st[t][1].exec(n)){e._f=st[t][0]+(o[6]||" ");break}for(t=0,i=lt.length;i>t;t++)if(lt[t][1].exec(n)){e._f+=lt[t][0];break}n.match(Xe)&&(e._f+="Z"),Q(e)}else e._isValid=!1}function te(e){ee(e),e._isValid===!1&&(delete e._isValid,we.createFromInputFallback(e))}function ie(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function ne(t){var i,n=t._i;n===e?t._d=new Date:C(n)?t._d=new Date(+n):null!==(i=Re.exec(n))?t._d=new Date(+i[1]):"string"==typeof n?te(t):x(n)?(t._a=ie(n.slice(0),function(e){return parseInt(e,10)}),V(t)):"object"==typeof n?G(t):"number"==typeof n?t._d=new Date(n):we.createFromInputFallback(t)}function oe(e,t,i,n,o,r,a){var s=new Date(e,t,i,n,o,r,a);return 1970>e&&s.setFullYear(e),s}function re(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ae(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function se(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function le(e,t,i){var n=we.duration(e).abs(),o=Te(n.as("s")),r=Te(n.as("m")),a=Te(n.as("h")),s=Te(n.as("d")),l=Te(n.as("M")),c=Te(n.as("y")),d=o<ft.s&&["s",o]||1===r&&["m"]||r<ft.m&&["mm",r]||1===a&&["h"]||a<ft.h&&["hh",a]||1===s&&["d"]||s<ft.d&&["dd",s]||1===l&&["M"]||l<ft.M&&["MM",l]||1===c&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=i,se.apply({},d)}function ce(e,t,i){var n,o=i-t,r=i-e.day();return r>o&&(r-=7),o-7>r&&(r+=7),n=we(e).add(r,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function de(e,t,i,n,o){var r,a,s=re(e,0,1).getUTCDay();return s=0===s?7:s,i=null!=i?i:o,r=o-s+(s>n?7:0)-(o>s?7:0),a=7*(t-1)+(i-o)+r+1,{year:a>0?e:e-1,dayOfYear:a>0?a:I(e-1)+a}}function ue(t){var i,n=t._i,o=t._f;return t._locale=t._locale||we.localeData(t._l),null===n||o===e&&""===n?we.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),we.isMoment(n)?new h(n,!0):(o?x(o)?Z(t):Q(t):ne(t),i=new h(t),i._nextDay&&(i.add(1,"d"),i._nextDay=e),i))}function he(e,t){var i,n;if(1===t.length&&x(t[0])&&(t=t[0]),!t.length)return we();for(i=t[0],n=1;n<t.length;++n)t[n][e](i)&&(i=t[n]);return i}function pe(e,t){var i;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(i=Math.min(e.date(),P(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e)}function fe(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function me(e,t,i){return"Month"===t?pe(e,i):e._d["set"+(e._isUTC?"UTC":"")+t](i)}function ge(e,t){return function(i){return null!=i?(me(this,e,i),we.updateOffset(this,t),this):fe(this,e)}}function ve(e){return 400*e/146097}function ye(e){return 146097*e/400}function be(e){we.duration.fn[e]=function(){return this._data[e]}}function _e(e){"undefined"==typeof ender&&(xe=Se.moment,e?Se.moment=r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",we):Se.moment=we)}for(var we,xe,Ce,ke="2.9.0",Se="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Te=Math.round,De=Object.prototype.hasOwnProperty,Ae=0,Pe=1,Ee=2,Ie=3,Me=4,Le=5,$e=6,Fe={},Oe=[],Ne="undefined"!=typeof module&&module&&module.exports,Re=/^\/?Date\((\-?\d+)/i,je=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,He=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ze=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Be=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qe=/\d\d?/,We=/\d{1,3}/,Ye=/\d{1,4}/,Ue=/[+\-]?\d{1,6}/,Ve=/\d+/,Ge=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xe=/Z|[\+\-]\d\d:?\d\d/gi,Qe=/T/i,Ke=/[\+\-]?\d+/,Je=/[\+\-]?\d+(\.\d{1,3})?/,Ze=/\d/,et=/\d\d/,tt=/\d{3}/,it=/\d{4}/,nt=/[+-]?\d{6}/,ot=/[+-]?\d+/,rt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at="YYYY-MM-DDTHH:mm:ssZ",st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],lt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ct=/([\+\-]|\d\d)/gi,dt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ut={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ht={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pt={},ft={s:45,m:45,h:22,d:26,M:11},mt="DDD w W M D d".split(" "),gt="M D H h m s w W".split(" "),vt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+v(Math.abs(e),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return v(A(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(A(e/60),2)+":"+v(A(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(A(e/60),2)+v(A(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},yt={},bt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],_t=!1;mt.length;)Ce=mt.pop(),vt[Ce+"o"]=l(vt[Ce],Ce);for(;gt.length;)Ce=gt.pop(),vt[Ce+Ce]=s(vt[Ce],2);vt.DDDD=s(vt.DDD,3),f(u.prototype,{set:function(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,i){var n,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=we.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(i=we([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,i){var n=this._calendar[e];return"function"==typeof n?n.apply(t,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var o=this._relativeTime[i];return"function"==typeof o?o(e,t,i,n):o.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ce(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),we=function(t,i,o,r){var a;return"boolean"==typeof o&&(r=o,o=e),a={},a._isAMomentObject=!0,a._i=t,a._f=i,a._l=o,a._strict=r,a._isUTC=!1,a._pf=n(),ue(a)},we.suppressDeprecationWarnings=!1,we.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),we.min=function(){var e=[].slice.call(arguments,0);return he("isBefore",e)},we.max=function(){var e=[].slice.call(arguments,0);return he("isAfter",e)},we.utc=function(t,i,o,r){var a;return"boolean"==typeof o&&(r=o,o=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=o,a._i=t,a._f=i,a._strict=r,a._pf=n(),ue(a).utc()},we.unix=function(e){return we(1e3*e)},we.duration=function(e,t){var n,o,r,a,s=e,l=null;return we.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(l=je.exec(e))?(n="-"===l[1]?-1:1,s={y:0,d:A(l[Ee])*n,h:A(l[Ie])*n,m:A(l[Me])*n,s:A(l[Le])*n,ms:A(l[$e])*n}):(l=He.exec(e))?(n="-"===l[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},s={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=b(we(s.from),we(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),o=new p(s),we.isDuration(e)&&i(e,"_locale")&&(o._locale=e._locale),o},we.version=ke,we.defaultFormat=at,we.ISO_8601=function(){},we.momentProperties=Oe,we.updateOffset=function(){},we.relativeTimeThreshold=function(t,i){return ft[t]===e?!1:i===e?ft[t]:(ft[t]=i,!0)},we.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return we.locale(e,t)}),we.locale=function(e,t){var i;return e&&(i="undefined"!=typeof t?we.defineLocale(e,t):we.localeData(e),i&&(we.duration._locale=we._locale=i)),we._locale._abbr},we.defineLocale=function(e,t){return null!==t?(t.abbr=e,Fe[e]||(Fe[e]=new u),Fe[e].set(t),we.locale(e),Fe[e]):(delete Fe[e],null)},we.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return we.localeData(e)}),we.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return we._locale;if(!x(e)){if(t=N(e))return t;e=[e]}return O(e)},we.isMoment=function(e){return e instanceof h||null!=e&&i(e,"_isAMomentObject")},we.isDuration=function(e){return e instanceof p};for(Ce=bt.length-1;Ce>=0;--Ce)D(bt[Ce]);we.normalizeUnits=function(e){return S(e)},we.invalid=function(e){var t=we.utc(NaN);return null!=e?f(t._pf,e):t._pf.userInvalidated=!0,t},we.parseZone=function(){return we.apply(null,arguments).parseZone()},we.parseTwoDigitYear=function(e){return A(e)+(A(e)>68?1900:2e3)},we.isDate=C,f(we.fn=h.prototype,{clone:function(){return we(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=we(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return $(this)},isDSTShifted:function(){return this._a?this.isValid()&&k(this._a,(this._isUTC?we.utc(this._a):we(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=z(this,e||we.defaultFormat);return this.localeData().postformat(t)},add:_(1,"add"),subtract:_(-1,"subtract"),diff:function(e,t,i){var n,o,r=R(e,this),a=6e4*(r.utcOffset()-this.utcOffset());return t=S(t),"year"===t||"month"===t||"quarter"===t?(o=c(this,r),"quarter"===t?o/=3:"year"===t&&(o/=12)):(n=this-r,o="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-a)/864e5:"week"===t?(n-a)/6048e5:n),i?o:g(o)},from:function(e,t){return we.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(we(),e)},calendar:function(e){var t=e||we(),i=R(t,this).startOf("day"),n=this.diff(i,"days",!0),o=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,we(t)))},isLeapYear:function(){return M(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ae(e,this.localeData()),this.add(e-t,"d")):t},month:ge("Month",!0),startOf:function(e){switch(e=S(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=S(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var i;return t=S("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+this>+e):(i=we.isMoment(e)?+e:+we(e),i<+this.clone().startOf(t))},isBefore:function(e,t){var i;return t=S("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+e>+this):(i=we.isMoment(e)?+e:+we(e),+this.clone().endOf(t)<i)},isBetween:function(e,t,i){return this.isAfter(e,i)&&this.isBefore(t,i)},isSame:function(e,t){var i;return t=S(t||"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+this===+e):(i=+we(e),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=we.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=we.apply(null,arguments),e>this?this:e}),zone:r("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var i,n=this._offset||0;return null!=e?("string"==typeof e&&(e=W(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(i=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?w(this,we.duration(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,we.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(W(this._i)),this},hasAlignedHourOffset:function(e){return e=e?we(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return P(this.year(),this.month())},dayOfYear:function(e){var t=Te((we(this).startOf("day")-we(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ce(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return E(this.year(),e.dow,e.doy)},get:function(e){return e=S(e),this[e]()},set:function(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else e=S(e),
"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var i;return t===e?this._locale._abbr:(i=we.localeData(t),null!=i&&(this._locale=i),this)},lang:r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),we.fn.millisecond=we.fn.milliseconds=ge("Milliseconds",!1),we.fn.second=we.fn.seconds=ge("Seconds",!1),we.fn.minute=we.fn.minutes=ge("Minutes",!1),we.fn.hour=we.fn.hours=ge("Hours",!0),we.fn.date=ge("Date",!0),we.fn.dates=r("dates accessor is deprecated. Use date instead.",ge("Date",!0)),we.fn.year=ge("FullYear",!0),we.fn.years=r("years accessor is deprecated. Use year instead.",ge("FullYear",!0)),we.fn.days=we.fn.day,we.fn.months=we.fn.month,we.fn.weeks=we.fn.week,we.fn.isoWeeks=we.fn.isoWeek,we.fn.quarters=we.fn.quarter,we.fn.toJSON=we.fn.toISOString,we.fn.isUTC=we.fn.isUtc,f(we.duration.fn=p.prototype,{_bubble:function(){var e,t,i,n=this._milliseconds,o=this._days,r=this._months,a=this._data,s=0;a.milliseconds=n%1e3,e=g(n/1e3),a.seconds=e%60,t=g(e/60),a.minutes=t%60,i=g(t/60),a.hours=i%24,o+=g(i/24),s=g(ve(o)),o-=g(ye(s)),r+=g(o/30),o%=30,s+=g(r/12),r%=12,a.days=o,a.months=r,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(e){var t=le(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var i=we.duration(e,t);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(e,t){var i=we.duration(e,t);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(e){return e=S(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,i;if(e=S(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,i=this._months+12*ve(t),"month"===e?i:i/12;switch(t=this._days+Math.round(ye(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:we.fn.lang,locale:we.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),o=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(n||o||r?"T":"")+(n?n+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),we.duration.fn.toString=we.duration.fn.toISOString;for(Ce in dt)i(dt,Ce)&&be(Ce.toLowerCase());we.duration.fn.asMilliseconds=function(){return this.as("ms")},we.duration.fn.asSeconds=function(){return this.as("s")},we.duration.fn.asMinutes=function(){return this.as("m")},we.duration.fn.asHours=function(){return this.as("h")},we.duration.fn.asDays=function(){return this.as("d")},we.duration.fn.asWeeks=function(){return this.as("weeks")},we.duration.fn.asMonths=function(){return this.as("M")},we.duration.fn.asYears=function(){return this.as("y")},we.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===A(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),Ne?module.exports=we:"function"==typeof define&&define.amd?(define(function(e,t,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(Se.moment=xe),we}),_e(!0)):_e()}.call(this),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(("undefined"!=typeof global?global:this).moment)}(function(e){return e.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"dom_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] LT"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atr\xe1s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba"})}),!function(e){var t=function(t,n){if(this.element=e(t),this.format=i.parseFormat(n.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=e(i.template).appendTo("body").on({click:e.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this)}):this.component?this.component.on("click",e.proxy(this.show,this)):this.element.on("click",e.proxy(this.show,this)),this.minViewMode=n.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=n.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=n.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=n.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};t.prototype={constructor:t,show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),!this.isInput;var i=this;e(document).on("mousedown",function(t){0==e(t.target).closest(".datepicker").length&&i.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var e=i.formatDate(this.date,this.format);this.isInput?this.element.prop("value",e):(this.component&&this.element.find("input").prop("value",e),this.element.data("date",e))},setValue:function(e){"string"==typeof e?this.date=i.parseDate(e,this.format):this.date=new Date(e),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var e=this.component?this.component.offset():this.element.offset();this.picker.css({top:e.top+this.height,left:e.left})},update:function(e){this.date=i.parseDate("string"==typeof e?e:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+i.dates.daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+i.dates.monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").append(e)},fill:function(){var e=new Date(this.viewDate),t=e.getFullYear(),n=e.getMonth(),o=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(i.dates.months[n]+" "+t);var r=new Date(t,n-1,28,0,0,0,0),a=i.getDaysInMonth(r.getFullYear(),r.getMonth());r.setDate(a),r.setDate(a-(r.getDay()-this.weekStart+7)%7);var s=new Date(r);s.setDate(s.getDate()+42),s=s.valueOf();for(var l,c,d,u=[];r.valueOf()<s;)r.getDay()===this.weekStart&&u.push("<tr>"),l=this.onRender(r),c=r.getFullYear(),d=r.getMonth(),n>d&&c===t||t>c?l+=" old":(d>n&&c===t||c>t)&&(l+=" new"),r.valueOf()===o&&(l+=" active"),u.push('<td class="day '+l+'">'+r.getDate()+"</td>"),r.getDay()===this.weekEnd&&u.push("</tr>"),r.setDate(r.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(u.join(""));var h=this.date.getFullYear(),p=this.picker.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");h===t&&p.eq(this.date.getMonth()).addClass("active"),u="",t=10*parseInt(t/10,10);var f=this.picker.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");t-=1;for(var m=-1;11>m;m++)u+='<span class="year'+(-1===m||10===m?" old":"")+(h===t?" active":"")+'">'+t+"</span>",t+=1;f.html(u)},click:function(t){t.stopPropagation(),t.preventDefault();var n=e(t.target).closest("span, td, th");if(1===n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+i.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+i.modes[this.viewMode].navFnc].call(this.viewDate)+i.modes[this.viewMode].navStep*("prev"===n[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(n.is(".month")){var o=n.parent().find("span").index(n);this.viewDate.setMonth(o)}else{var r=parseInt(n.text(),10)||0;this.viewDate.setFullYear(r)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(n.is(".day")&&!n.is(".disabled")){var a=parseInt(n.text(),10)||1,o=this.viewDate.getMonth();n.is(".old")?o-=1:n.is(".new")&&(o+=1);var r=this.viewDate.getFullYear();this.date=new Date(r,o,a,0,0,0,0),this.viewDate=new Date(r,o,Math.min(28,a),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}}},mousedown:function(e){e.stopPropagation(),e.preventDefault()},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show()}},e.fn.datepicker=function(i,n){return this.each(function(){var o=e(this),r=o.data("datepicker"),a="object"==typeof i&&i;r||o.data("datepicker",r=new t(this,e.extend({},e.fn.datepicker.defaults,a))),"string"==typeof i&&r[i](n)})},e.fn.datepicker.defaults={onRender:function(e){return""}},e.fn.datepicker.Constructor=t;var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,i.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},parseFormat:function(e){var t=e.match(/[.\/\-\s].*?/),i=e.split(/\W+/);if(!t||!i||0===i.length)throw new Error("Invalid date format.");return{separator:t,parts:i}},parseDate:function(e,t){var i,n=e.split(t.separator),e=new Date;if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),n.length===t.parts.length){for(var o=e.getFullYear(),r=e.getDate(),a=e.getMonth(),s=0,l=t.parts.length;l>s;s++)switch(i=parseInt(n[s],10)||1,t.parts[s]){case"dd":case"d":r=i,e.setDate(i);break;case"mm":case"m":a=i-1,e.setMonth(i-1);break;case"yy":o=2e3+i,e.setFullYear(2e3+i);break;case"yyyy":o=i,e.setFullYear(i)}e=new Date(o,a,r,0,0,0)}return e},formatDate:function(e,t){var i={d:e.getDate(),m:e.getMonth()+1,yy:e.getFullYear().toString().substring(2),yyyy:e.getFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m;for(var e=[],n=0,o=t.parts.length;o>n;n++)e.push(i[t.parts[n]]);return e.join(t.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};i.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table></div></div>"}(window.jQuery),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var i=function(i,n){var o,r,a,s,l,c,d,u={},h=!0,p=!1,f=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],y=["top","bottom","auto"],b=["left","right","auto"],_=["default","top","bottom"],w={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},x={},C=function(e){var i,o,r,a,s,l=!1;return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone&&(l=!0),void 0===e||null===e?i=l?t().tz(n.timeZone).startOf("d"):t().startOf("d"):l?(o=t().tz(n.timeZone).utcOffset(),r=t(e,c,n.useStrict).utcOffset(),r!==o?(a=t().tz(n.timeZone).format("Z"),s=t(e,c,n.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+a,i=t(s,c,n.useStrict).tz(n.timeZone)):i=t(e,c,n.useStrict).tz(n.timeZone)):i=t(e,c,n.useStrict),i},k=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},S=function(){return k("h")||k("m")||k("s")},T=function(){return k("y")||k("M")||k("d")},D=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(n.icons.next)))),i=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},A=function(){var t=e("<tr>"),i=e("<tr>"),o=e("<tr>");return k("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(n.icons.down))))),k("m")&&(k("h")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),o.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(n.icons.down))))),k("s")&&(k("m")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),o.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(n.icons.down))))),s||(t.append(e("<td>").addClass("separator")),i.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),o.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,i,o]))},P=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),o=[A()];return k("h")&&o.push(t),k("m")&&o.push(i),k("s")&&o.push(n),o},E=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<span>").addClass(n.icons.today)))),!n.sideBySide&&T()&&S()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<span>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<span>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<span>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},I=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=e("<div>").addClass("datepicker").append(D()),o=e("<div>").addClass("timepicker").append(P()),r=e("<ul>").addClass("list-unstyled"),a=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(E());return n.inline&&t.removeClass("dropdown-menu"),s&&t.addClass("usetwentyfour"),k("s")&&!s&&t.addClass("wider"),n.sideBySide&&T()&&S()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(a),t.append(e("<div>").addClass("row").append(i.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(a),t):("top"===n.toolbarPlacement&&r.append(a),T()&&r.append(e("<li>").addClass(n.collapse&&S()?"collapse in":"").append(i)),"default"===n.toolbarPlacement&&r.append(a),S()&&r.append(e("<li>").addClass(n.collapse&&T()?"collapse":"").append(o)),"bottom"===n.toolbarPlacement&&r.append(a),t.append(r))},M=function(){var t,o={};return t=i.is("input")||n.inline?i.data():i.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(o=e.extend(!0,o,t.dateOptions)),e.each(n,function(e){var i="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[i]&&(o[e]=t[i])}),o},L=function(){var t,o=(p||i).position(),r=(p||i).offset(),a=n.widgetPositioning.vertical,s=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(f);else if(i.is("input"))t=i.after(f).parent();else{if(n.inline)return void(t=i.append(f));t=i,i.children().first().after(f)}if("auto"===a&&(a=r.top+1.5*f.height()>=e(window).height()+e(window).scrollTop()&&f.height()+i.outerHeight()<r.top?"top":"bottom"),"auto"===s&&(s=t.width()<r.left+f.outerWidth()/2&&r.left+f.outerWidth()>e(window).width()?"right":"left"),"top"===a?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===s?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===a?"auto":o.top+i.outerHeight(),bottom:"top"===a?o.top+i.outerHeight():"auto",left:"left"===s?t===i?0:o.left:"auto",right:"left"===s?"auto":t.outerWidth()-i.outerWidth()-(t===i?0:o.left)})},$=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||i.trigger(e)},F=function(e){"y"===e&&(e="YYYY"),$({type:"dp.update",change:e,viewDate:r.clone()})},O=function(e){f&&(e&&(d=Math.max(m,Math.min(3,d+e))),f.find(".datepicker > div").hide().filter(".datepicker-"+g[d].clsName).show())},N=function(){var t=e("<tr>"),i=r.clone().startOf("w").startOf("d");for(n.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));i.isBefore(r.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");f.find(".datepicker-days thead").append(t)},R=function(e){return n.disabledDates[e.format("YYYY-MM-DD")]===!0},j=function(e){return n.enabledDates[e.format("YYYY-MM-DD")]===!0},H=function(e){return n.disabledHours[e.format("H")]===!0},z=function(e){return n.enabledHours[e.format("H")]===!0},B=function(t,i){if(!t.isValid())return!1;if(n.disabledDates&&"d"===i&&R(t))return!1;if(n.enabledDates&&"d"===i&&!j(t))return!1;if(n.minDate&&t.isBefore(n.minDate,i))return!1;if(n.maxDate&&t.isAfter(n.maxDate,i))return!1;if(n.daysOfWeekDisabled&&"d"===i&&-1!==n.daysOfWeekDisabled.indexOf(t.day()))return!1;if(n.disabledHours&&("h"===i||"m"===i||"s"===i)&&H(t))return!1;if(n.enabledHours&&("h"===i||"m"===i||"s"===i)&&!z(t))return!1;if(n.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var o=!1;if(e.each(n.disabledTimeIntervals,function(){return t.isBetween(this[0],this[1])?(o=!0,!1):void 0}),o)return!1}return!0},q=function(){for(var t=[],i=r.clone().startOf("y").startOf("d");i.isSame(r,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");f.find(".datepicker-months td").empty().append(t)},W=function(){var t=f.find(".datepicker-months"),i=t.find("th"),a=t.find("tbody").find("span");i.eq(0).find("span").attr("title",n.tooltips.prevYear),i.eq(1).attr("title",n.tooltips.selectYear),i.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),B(r.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(r.year()),B(r.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),a.removeClass("active"),o.isSame(r,"y")&&!h&&a.eq(o.month()).addClass("active"),a.each(function(t){B(r.clone().month(t),"M")||e(this).addClass("disabled")})},Y=function(){var e=f.find(".datepicker-years"),t=e.find("th"),i=r.clone().subtract(5,"y"),a=r.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(i,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(i.year()+"-"+a.year()),n.maxDate&&n.maxDate.isBefore(a,"y")&&t.eq(2).addClass("disabled");!i.isAfter(a,"y");)s+='<span data-action="selectYear" class="year'+(i.isSame(o,"y")&&!h?" active":"")+(B(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");e.find("td").html(s)},U=function(){var e=f.find(".datepicker-decades"),i=e.find("th"),a=t({y:r.year()-r.year()%100-1}),s=a.clone().add(100,"y"),l=a.clone(),c="";for(i.eq(0).find("span").attr("title",n.tooltips.prevCentury),i.eq(2).find("span").attr("title",n.tooltips.nextCentury),e.find(".disabled").removeClass("disabled"),(a.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(a,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(a.year()+"-"+s.year()),(a.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(s,"y"))&&i.eq(2).addClass("disabled");!a.isAfter(s,"y");)c+='<span data-action="selectDecade" class="decade'+(a.isSame(o,"y")?" active":"")+(B(a,"y")?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+(a.year()+1)+" - "+(a.year()+12)+"</span>",a.add(12,"y");c+="<span></span><span></span><span></span>",e.find("td").html(c),i.eq(1).text(l.year()+1+"-"+a.year())},V=function(){var t,i,a,s,l=f.find(".datepicker-days"),c=l.find("th"),d=[];if(T()){for(c.eq(0).find("span").attr("title",n.tooltips.prevMonth),c.eq(1).attr("title",n.tooltips.selectMonth),c.eq(2).find("span").attr("title",n.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),c.eq(1).text(r.format(n.dayViewHeaderFormat)),B(r.clone().subtract(1,"M"),"M")||c.eq(0).addClass("disabled"),B(r.clone().add(1,"M"),"M")||c.eq(2).addClass("disabled"),t=r.clone().startOf("M").startOf("w").startOf("d"),s=0;42>s;s++)0===t.weekday()&&(i=e("<tr>"),n.calendarWeeks&&i.append('<td class="cw">'+t.week()+"</td>"),d.push(i)),a="",t.isBefore(r,"M")&&(a+=" old"),t.isAfter(r,"M")&&(a+=" new"),t.isSame(o,"d")&&!h&&(a+=" active"),B(t,"d")||(a+=" disabled"),t.isSame(C(),"d")&&(a+=" today"),(0===t.day()||6===t.day())&&(a+=" weekend"),i.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+a+'">'+t.date()+"</td>"),t.add(1,"d");l.find("tbody").empty().append(d),W(),Y(),U()}},G=function(){var t=f.find(".timepicker-hours table"),i=r.clone().startOf("d"),n=[],o=e("<tr>");for(r.hour()>11&&!s&&i.hour(12);i.isSame(r,"d")&&(s||r.hour()<12&&i.hour()<12||r.hour()>11);)i.hour()%4===0&&(o=e("<tr>"),n.push(o)),o.append('<td data-action="selectHour" class="hour'+(B(i,"h")?"":" disabled")+'">'+i.format(s?"HH":"hh")+"</td>"),i.add(1,"h");t.empty().append(n)},X=function(){for(var t=f.find(".timepicker-minutes table"),i=r.clone().startOf("h"),o=[],a=e("<tr>"),s=1===n.stepping?5:n.stepping;r.isSame(i,"h");)i.minute()%(4*s)===0&&(a=e("<tr>"),o.push(a)),a.append('<td data-action="selectMinute" class="minute'+(B(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(s,"m");t.empty().append(o)},Q=function(){for(var t=f.find(".timepicker-seconds table"),i=r.clone().startOf("m"),n=[],o=e("<tr>");r.isSame(i,"m");)i.second()%20===0&&(o=e("<tr>"),n.push(o)),o.append('<td data-action="selectSecond" class="second'+(B(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");t.empty().append(n)},K=function(){var e,t,i=f.find(".timepicker span[data-time-component]");s||(e=f.find(".timepicker [data-action=togglePeriod]"),t=o.clone().add(o.hours()>=12?-12:12,"h"),e.text(o.format("A")),B(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),i.filter("[data-time-component=hours]").text(o.format(s?"HH":"hh")),i.filter("[data-time-component=minutes]").text(o.format("mm")),i.filter("[data-time-component=seconds]").text(o.format("ss")),G(),X(),Q()},J=function(){f&&(V(),K())},Z=function(e){var t=h?null:o;return e?(e=e.clone().locale(n.locale),1!==n.stepping&&e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping%60).seconds(0),void(B(e)?(o=e,r=o.clone(),a.val(o.format(l)),i.data("date",o.format(l)),h=!1,J(),$({type:"dp.change",date:o.clone(),oldDate:t})):(n.keepInvalid||a.val(h?"":o.format(l)),$({type:"dp.error",date:e})))):(h=!0,a.val(""),i.data("date",""),$({type:"dp.change",date:!1,oldDate:t}),void J())},ee=function(){var t=!1;return f?(f.find(".collapse").each(function(){var i=e(this).data("collapse");return i&&i.transitioning?(t=!0,!1):!0}),t?u:(p&&p.hasClass("btn")&&p.toggleClass("active"),f.hide(),e(window).off("resize",L),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,$({type:"dp.hide",date:o.clone()}),a.blur(),u)):u},te=function(){Z(null)},ie={next:function(){var e=g[d].navFnc;r.add(g[d].navStep,e),V(),F(e)},previous:function(){var e=g[d].navFnc;r.subtract(g[d].navStep,e),V(),F(e)},pickerSwitch:function(){O(1)},selectMonth:function(t){var i=e(t.target).closest("tbody").find("span").index(e(t.target));r.month(i),d===m?(Z(o.clone().year(r.year()).month(r.month())),n.inline||ee()):(O(-1),V()),F("M")},selectYear:function(t){var i=parseInt(e(t.target).text(),10)||0;r.year(i),d===m?(Z(o.clone().year(r.year())),n.inline||ee()):(O(-1),V()),F("YYYY")},selectDecade:function(t){var i=parseInt(e(t.target).data("selection"),10)||0;r.year(i),d===m?(Z(o.clone().year(r.year())),n.inline||ee()):(O(-1),V()),F("YYYY")},selectDay:function(t){var i=r.clone();e(t.target).is(".old")&&i.subtract(1,"M"),e(t.target).is(".new")&&i.add(1,"M"),Z(i.date(parseInt(e(t.target).text(),10))),S()||n.keepOpen||n.inline||ee()},incrementHours:function(){var e=o.clone().add(1,"h");B(e,"h")&&Z(e)},incrementMinutes:function(){var e=o.clone().add(n.stepping,"m");B(e,"m")&&Z(e)},incrementSeconds:function(){var e=o.clone().add(1,"s");B(e,"s")&&Z(e)},decrementHours:function(){var e=o.clone().subtract(1,"h");B(e,"h")&&Z(e)},decrementMinutes:function(){var e=o.clone().subtract(n.stepping,"m");B(e,"m")&&Z(e)},decrementSeconds:function(){var e=o.clone().subtract(1,"s");B(e,"s")&&Z(e)},togglePeriod:function(){Z(o.clone().add(o.hours()>=12?-12:12,"h"))},togglePicker:function(t){var i,o=e(t.target),r=o.closest("ul"),a=r.find(".in"),s=r.find(".collapse:not(.in)");if(a&&a.length){if(i=a.data("collapse"),i&&i.transitioning)return;a.collapse?(a.collapse("hide"),s.collapse("show")):(a.removeClass("in"),s.addClass("in")),o.is("span")?o.toggleClass(n.icons.time+" "+n.icons.date):o.find("span").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var i=parseInt(e(t.target).text(),10);s||(o.hours()>=12?12!==i&&(i+=12):12===i&&(i=0)),Z(o.clone().hours(i)),ie.showPicker.call(u)},selectMinute:function(t){Z(o.clone().minutes(parseInt(e(t.target).text(),10))),ie.showPicker.call(u)},selectSecond:function(t){Z(o.clone().seconds(parseInt(e(t.target).text(),10))),
ie.showPicker.call(u)},clear:te,today:function(){var e=C();B(e,"d")&&Z(e)},close:ee},ne=function(t){return e(t.currentTarget).is(".disabled")?!1:(ie[e(t.currentTarget).data("action")].apply(u,arguments),!1)},oe=function(){var t,i={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return a.prop("disabled")||!n.ignoreReadonly&&a.prop("readonly")||f?u:(void 0!==a.val()&&0!==a.val().trim().length?Z(ae(a.val().trim())):n.useCurrent&&h&&(a.is("input")&&0===a.val().trim().length||n.inline)&&(t=C(),"string"==typeof n.useCurrent&&(t=i[n.useCurrent](t)),Z(t)),f=I(),N(),q(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),J(),O(),e(window).on("resize",L),f.on("click","[data-action]",ne),f.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),f.show(),L(),n.focusOnShow&&!a.is(":focus")&&a.focus(),$({type:"dp.show"}),u)},re=function(){return f?ee():oe()},ae=function(e){return e=void 0===n.parseInputDate?t.isMoment(e)||e instanceof Date?t(e):C(e):n.parseInputDate(e),e.locale(n.locale),e},se=function(e){var t,i,o,r,a=null,s=[],l={},c=e.which,d="p";x[c]=d;for(t in x)x.hasOwnProperty(t)&&x[t]===d&&(s.push(t),parseInt(t,10)!==c&&(l[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(o=t.split(" "),o.length===s.length&&w[c]===o[o.length-1])){for(r=!0,i=o.length-2;i>=0;i--)if(!(w[o[i]]in l)){r=!1;break}if(r){a=n.keyBinds[t];break}}a&&(a.call(u,f),e.stopPropagation(),e.preventDefault())},le=function(e){x[e.which]="r",e.stopPropagation(),e.preventDefault()},ce=function(t){var i=e(t.target).val().trim(),n=i?ae(i):null;return Z(n),t.stopImmediatePropagation(),!1},de=function(){a.on({change:ce,blur:n.debug?"":ee,keydown:se,keyup:le,focus:n.allowInputToggle?oe:""}),i.is("input")?a.on({focus:oe}):p&&(p.on("click",re),p.on("mousedown",!1))},ue=function(){a.off({change:ce,blur:blur,keydown:se,keyup:le,focus:n.allowInputToggle?ee:""}),i.is("input")?a.off({focus:oe}):p&&(p.off("click",re),p.off("mousedown",!1))},he=function(t){var i={};return e.each(t,function(){var e=ae(this);e.isValid()&&(i[e.format("YYYY-MM-DD")]=!0)}),Object.keys(i).length?i:!1},pe=function(t){var i={};return e.each(t,function(){i[this]=!0}),Object.keys(i).length?i:!1},fe=function(){var e=n.format||"L LT";l=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=o.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return o.localeData().longDateFormat(e)||e})}),c=n.extraFormats?n.extraFormats.slice():[],c.indexOf(e)<0&&c.indexOf(l)<0&&c.push(l),s=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,k("y")&&(m=2),k("M")&&(m=1),k("d")&&(m=0),d=Math.max(m,d),h||Z(o)};if(u.destroy=function(){ee(),ue(),i.removeData("DateTimePicker"),i.removeData("date")},u.toggle=re,u.show=oe,u.hide=ee,u.disable=function(){return ee(),p&&p.hasClass("btn")&&p.addClass("disabled"),a.prop("disabled",!0),u},u.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),a.prop("disabled",!1),u},u.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,u},u.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===u[e])throw new TypeError("option "+e+" is not recognized!");u[e](t)}),u},u.date=function(e){if(0===arguments.length)return h?null:o.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return Z(null===e?null:ae(e)),u},u.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return n.format=e,l&&fe(),u},u.timeZone=function(e){return 0===arguments.length?n.timeZone:(n.timeZone=e,u)},u.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,u},u.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,c&&fe(),u},u.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,J(),u;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=he(t),n.enabledDates=!1,J(),u},u.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,J(),u;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=he(t),n.disabledDates=!1,J(),u},u.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,J(),u;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!B(o,"d");){if(o.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}Z(o)}return J(),u},u.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&e===!1)return n.maxDate=!1,J(),u;"string"==typeof e&&("now"===e||"moment"===e)&&(e=C());var t=ae(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(l));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&o.isAfter(e)&&Z(n.maxDate),r.isAfter(t)&&(r=t.clone().subtract(n.stepping,"m")),J(),u},u.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&e===!1)return n.minDate=!1,J(),u;"string"==typeof e&&("now"===e||"moment"===e)&&(e=C());var t=ae(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(l));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&o.isBefore(e)&&Z(n.minDate),r.isBefore(t)&&(r=t.clone().add(n.stepping,"m")),J(),u},u.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,u;"string"==typeof e&&("now"===e||"moment"===e)&&(e=C());var t=ae(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!B(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===a.val().trim())&&Z(n.defaultDate),u},u.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,o.locale(n.locale),r.locale(n.locale),l&&fe(),f&&(ee(),oe()),u},u.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||1>e)&&(e=1),n.stepping=e,u)},u.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,u},u.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?u:(n.collapse=e,f&&(ee(),oe()),u)},u.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),f&&(ee(),oe()),u},u.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),f&&(ee(),oe()),u},u.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,u},u.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,f&&(ee(),oe()),u},u.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return n.viewMode=e,d=Math.max(v.indexOf(e),m),O(),u},u.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===_.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+_.join(", ")+") value");return n.toolbarPlacement=e,f&&(ee(),oe()),u},u.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===b.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===y.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return J(),u},u.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,J(),u},u.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,f&&(ee(),oe()),u},u.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,f&&(ee(),oe()),u},u.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,f&&(ee(),oe()),u},u.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,u},u.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,u},u.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,u},u.clear=function(){return te(),u},u.keyBinds=function(e){return n.keyBinds=e,u},u.getMoment=function(e){return C(e)},u.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,u},u.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,u},u.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,u},u.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=e,u},u.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,u},u.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,u},u.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,J(),u;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,J(),u},u.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,J(),u;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=pe(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!B(o,"h");){if(o.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}Z(o)}return J(),u},u.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,J(),u;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=pe(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!B(o,"h");){if(o.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}Z(o)}return J(),u},u.viewDate=function(e){if(0===arguments.length)return r.clone();if(!e)return r=o.clone(),u;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return r=ae(e),F(),u},i.is("input"))a=i;else if(a=i.find(n.datepickerInput),0===a.size())a=i.find("input");else if(!a.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(p=0===i.find(".datepickerbutton").size()?i.find(".input-group-addon"):i.find(".datepickerbutton")),!n.inline&&!a.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return o=C(),r=o.clone(),e.extend(!0,n,M()),u.options(n),fe(),de(),a.prop("disabled")&&u.disable(),a.is("input")&&0!==a.val().trim().length?Z(ae(a.val().trim())):n.defaultDate&&void 0===a.attr("placeholder")&&Z(n.defaultDate),n.inline&&oe(),u};e.fn.datetimepicker=function(t){return this.each(function(){var n=e(this);n.data("DateTimePicker")||(t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),n.data("DateTimePicker",i(n,t)))})},e.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),jQuery&&function(e){function t(t,i){var n=e('<div class="minicolors" />'),o=e.minicolors.defaults;t.data("minicolors-initialized")||(i=e.extend(!0,{},o,i),n.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity).toggleClass("minicolors-no-data-uris",i.dataUris!==!0),void 0!==i.position&&e.each(i.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),i.inline||(t.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-swatch").on("click",function(e){e.preventDefault(),t.focus()})),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&t.parent().addClass("minicolors-inline"),s(t,!1),t.data("minicolors-initialized",!0))}function i(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function n(e){var t=e.parent(),i=t.find(".minicolors-panel"),n=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(o(),t.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(e.get(0))}))}function o(){e(".minicolors-focus").each(function(){var t=e(this),i=t.find(".minicolors-input"),n=t.find(".minicolors-panel"),o=i.data("minicolors-settings");n.fadeOut(o.hideSpeed,function(){o.hide&&o.hide.call(i.get(0)),t.removeClass("minicolors-focus")})})}function r(e,t,i){var n,o,r,s,l=e.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),d=e.find("[class$=-picker]"),u=e.offset().left,h=e.offset().top,p=Math.round(t.pageX-u),f=Math.round(t.pageY-h),m=i?c.animationSpeed:0;t.originalEvent.changedTouches&&(p=t.originalEvent.changedTouches[0].pageX-u,f=t.originalEvent.changedTouches[0].pageY-h),0>p&&(p=0),0>f&&(f=0),p>e.width()&&(p=e.width()),f>e.height()&&(f=e.height()),e.parent().is(".minicolors-slider-wheel")&&d.parent().is(".minicolors-grid")&&(n=75-p,o=75-f,r=Math.sqrt(n*n+o*o),s=Math.atan2(o,n),0>s&&(s+=2*Math.PI),r>75&&(r=75,p=75-75*Math.cos(s),f=75-75*Math.sin(s)),p=Math.round(p),f=Math.round(f)),e.is(".minicolors-grid")?d.stop(!0).animate({top:f+"px",left:p+"px"},m,c.animationEasing,function(){a(l,e)}):d.stop(!0).animate({top:f+"px"},m,c.animationEasing,function(){a(l,e)})}function a(e,t){function i(e,t){var i,n;return e.length&&t?(i=e.offset().left,n=e.offset().top,{x:i-t.offset().left+e.outerWidth()/2,y:n-t.offset().top+e.outerHeight()/2}):null}var n,o,r,a,s,c,d,h=e.val(),f=e.attr("data-opacity"),m=e.parent(),v=e.data("minicolors-settings"),y=m.find(".minicolors-swatch"),b=m.find(".minicolors-grid"),_=m.find(".minicolors-slider"),w=m.find(".minicolors-opacity-slider"),x=b.find("[class$=-picker]"),C=_.find("[class$=-picker]"),k=w.find("[class$=-picker]"),S=i(x,b),T=i(C,_),D=i(k,w);if(t.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":a=b.width()/2-S.x,s=b.height()/2-S.y,c=Math.sqrt(a*a+s*s),d=Math.atan2(s,a),0>d&&(d+=2*Math.PI),c>75&&(c=75,S.x=69-75*Math.cos(d),S.y=69-75*Math.sin(d)),o=p(c/.75,0,100),n=p(180*d/Math.PI,0,360),r=p(100-Math.floor(T.y*(100/_.height())),0,100),h=g({h:n,s:o,b:r}),_.css("backgroundColor",g({h:n,s:o,b:100}));break;case"saturation":n=p(parseInt(S.x*(360/b.width()),10),0,360),o=p(100-Math.floor(T.y*(100/_.height())),0,100),r=p(100-Math.floor(S.y*(100/b.height())),0,100),h=g({h:n,s:o,b:r}),_.css("backgroundColor",g({h:n,s:100,b:r})),m.find(".minicolors-grid-inner").css("opacity",o/100);break;case"brightness":n=p(parseInt(S.x*(360/b.width()),10),0,360),o=p(100-Math.floor(S.y*(100/b.height())),0,100),r=p(100-Math.floor(T.y*(100/_.height())),0,100),h=g({h:n,s:o,b:r}),_.css("backgroundColor",g({h:n,s:o,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-r/100);break;default:n=p(360-parseInt(T.y*(360/_.height()),10),0,360),o=p(Math.floor(S.x*(100/b.width())),0,100),r=p(100-Math.floor(S.y*(100/b.height())),0,100),h=g({h:n,s:o,b:r}),b.css("backgroundColor",g({h:n,s:100,b:100}))}e.val(u(h,v.letterCase))}t.is(".minicolors-opacity-slider")&&(f=v.opacity?parseFloat(1-D.y/w.height()).toFixed(2):1,v.opacity&&e.attr("data-opacity",f)),y.find("SPAN").css({backgroundColor:h,opacity:f}),l(e,h,f)}function s(e,t){var i,n,o,r,a,s,c,d=e.parent(),f=e.data("minicolors-settings"),m=d.find(".minicolors-swatch"),y=d.find(".minicolors-grid"),b=d.find(".minicolors-slider"),_=d.find(".minicolors-opacity-slider"),w=y.find("[class$=-picker]"),x=b.find("[class$=-picker]"),C=_.find("[class$=-picker]");switch(i=u(h(e.val(),!0),f.letterCase),i||(i=u(h(f.defaultValue,!0),f.letterCase)),n=v(i),t||e.val(i),f.opacity&&(o=""===e.attr("data-opacity")?1:p(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(o)&&(o=1),e.attr("data-opacity",o),m.find("SPAN").css("opacity",o),a=p(_.height()-_.height()*o,0,_.height()),C.css("top",a+"px")),m.find("SPAN").css("backgroundColor",i),f.control){case"wheel":s=p(Math.ceil(.75*n.s),0,y.height()/2),c=n.h*Math.PI/180,r=p(75-Math.cos(c)*s,0,y.width()),a=p(75-Math.sin(c)*s,0,y.height()),w.css({top:a+"px",left:r+"px"}),a=150-n.b/(100/y.height()),""===i&&(a=0),x.css("top",a+"px"),b.css("backgroundColor",g({h:n.h,s:n.s,b:100}));break;case"saturation":r=p(5*n.h/12,0,150),a=p(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),w.css({top:a+"px",left:r+"px"}),a=p(b.height()-n.s*(b.height()/100),0,b.height()),x.css("top",a+"px"),b.css("backgroundColor",g({h:n.h,s:100,b:n.b})),d.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":r=p(5*n.h/12,0,150),a=p(y.height()-Math.ceil(n.s/(100/y.height())),0,y.height()),w.css({top:a+"px",left:r+"px"}),a=p(b.height()-n.b*(b.height()/100),0,b.height()),x.css("top",a+"px"),b.css("backgroundColor",g({h:n.h,s:n.s,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:r=p(Math.ceil(n.s/(100/y.width())),0,y.width()),a=p(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),w.css({top:a+"px",left:r+"px"}),a=p(b.height()-n.h/(360/b.height()),0,b.height()),x.css("top",a+"px"),y.css("backgroundColor",g({h:n.h,s:100,b:100}))}e.data("minicolors-initialized")&&l(e,i,o)}function l(e,t,i){var n=e.data("minicolors-settings"),o=e.data("minicolors-lastChange");o&&o.hex===t&&o.opacity===i||(e.data("minicolors-lastChange",{hex:t,opacity:i}),n.change&&(n.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){n.change.call(e.get(0),t,i)},n.changeDelay))):n.change.call(e.get(0),t,i)),e.trigger("change").trigger("input"))}function c(t){var i=h(e(t).val(),!0),n=b(i),o=e(t).attr("data-opacity");return n?(void 0!==o&&e.extend(n,{a:parseFloat(o)}),n):null}function d(t,i){var n=h(e(t).val(),!0),o=b(n),r=e(t).attr("data-opacity");return o?(void 0===r&&(r=1),i?"rgba("+o.r+", "+o.g+", "+o.b+", "+parseFloat(r)+")":"rgb("+o.r+", "+o.g+", "+o.b+")"):null}function u(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function h(e,t){return e=e.replace(/[^A-F0-9]/gi,""),3!==e.length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e)}function p(e,t,i){return t>e&&(e=t),e>i&&(e=i),e}function f(e){var t={},i=Math.round(e.h),n=Math.round(255*e.s/100),o=Math.round(255*e.b/100);if(0===n)t.r=t.g=t.b=o;else{var r=o,a=(255-n)*o/255,s=(r-a)*(i%60)/60;360===i&&(i=0),60>i?(t.r=r,t.b=a,t.g=a+s):120>i?(t.g=r,t.b=a,t.r=r-s):180>i?(t.g=r,t.r=a,t.b=a+s):240>i?(t.b=r,t.r=a,t.g=r-s):300>i?(t.b=r,t.g=a,t.r=a+s):360>i?(t.r=r,t.g=a,t.b=r-s):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function m(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(i,function(e,t){1===t.length&&(i[e]="0"+t)}),"#"+i.join("")}function g(e){return m(f(e))}function v(e){var t=y(b(e));return 0===t.s&&(t.h=360),t}function y(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),o=n-i;return t.b=n,t.s=0!==n?255*o/n:0,0!==t.s?e.r===n?t.h=(e.g-e.b)/o:e.g===n?t.h=2+(e.b-e.r)/o:t.h=4+(e.r-e.g)/o:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function b(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e}}e.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},e.extend(e.fn,{minicolors:function(r,a){switch(r){case"destroy":return e(this).each(function(){i(e(this))}),e(this);case"hide":return o(),e(this);case"opacity":return void 0===a?e(this).attr("data-opacity"):(e(this).each(function(){s(e(this).attr("data-opacity",a))}),e(this));case"rgbObject":return c(e(this),"rgbaObject"===r);case"rgbString":case"rgbaString":return d(e(this),"rgbaString"===r);case"settings":return void 0===a?e(this).data("minicolors-settings"):(e(this).each(function(){var t=e(this).data("minicolors-settings")||{};i(e(this)),e(this).minicolors(e.extend(!0,t,a))}),e(this));case"show":return n(e(this).eq(0)),e(this);case"value":return void 0===a?e(this).val():(e(this).each(function(){s(e(this).val(a))}),e(this));default:return"create"!==r&&(a=r),e(this).each(function(){t(e(this),a)}),e(this)}}}),e(document).on("mousedown.minicolors touchstart.minicolors",function(t){e(t.target).parents().add(t.target).hasClass("minicolors")||o()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var i=e(this);t.preventDefault(),e(document).data("minicolors-target",i),r(i,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var i=e(document).data("minicolors-target");i&&r(i,t)}).on("mouseup.minicolors touchend.minicolors",function(){e(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var i=e(this).parent().find(".minicolors-input");t.preventDefault(),n(i)}).on("focus.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&n(t)}).on("blur.minicolors",".minicolors-input",function(){var t=e(this),i=t.data("minicolors-settings");t.data("minicolors-initialized")&&(t.val(h(t.val(),!0)),""===t.val()&&t.val(h(i.defaultValue,!0)),t.val(u(t.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var i=e(this);if(i.data("minicolors-initialized"))switch(t.keyCode){case 9:o();break;case 13:case 27:o(),i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&s(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&setTimeout(function(){s(t,!0)},1)})}(jQuery),function(e){"use strict";var t="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}()),e.support=e.support||{},e.extend(e.support,{touch:"ontouchend"in document});var i=function(){return!1},n=function(t,i){return this.settings=i,this.el=t,this.$el=e(t),this._initElements(),this};n.DATA_KEY="kinetic",n.DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},n.prototype.start=function(t){this.settings=e.extend(this.settings,t),this.velocity=t.velocity||this.velocity,this.velocityY=t.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},n.prototype.end=function(){this.settings.decelerate=!0},n.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,e.isFunction(this.settings.stopped)&&this.settings.stopped.call(this)},n.prototype.detach=function(){this._detachListeners(),this.$el.removeClass(t).css("cursor","")},n.prototype.attach=function(){this.$el.hasClass(t)||(this._attachListeners(this.$el),this.$el.addClass(t).css("cursor",this.settings.cursor))},n.prototype._initElements=function(){this.$el.addClass(t),e.extend(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0,e(document).mouseup(e.proxy(this._resetMouse,this)).click(e.proxy(this._resetMouse,this)),this._initEvents(),this.$el.css("cursor",this.settings.cursor),this.settings.triggerHardware&&this.$el.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})},n.prototype._initEvents=function(){var t=this;this.settings.events={touchStart:function(e){var i;t._useTarget(e.target,e)&&(i=e.originalEvent.touches[0],t._start(i.clientX,i.clientY),e.stopPropagation())},touchMove:function(e){var i;t.mouseDown&&(i=e.originalEvent.touches[0],t._inputmove(i.clientX,i.clientY),
e.preventDefault&&e.preventDefault())},inputDown:function(e){t._useTarget(e.target,e)&&(t._start(e.clientX,e.clientY),t.elementFocused=e.target,"IMG"===e.target.nodeName&&e.preventDefault(),e.stopPropagation())},inputEnd:function(e){t._useTarget(e.target,e)&&(t._end(),t.elementFocused=null,e.preventDefault&&e.preventDefault())},inputMove:function(e){t.mouseDown&&(t._inputmove(e.clientX,e.clientY),e.preventDefault&&e.preventDefault())},scroll:function(i){e.isFunction(t.settings.moved)&&t.settings.moved.call(t,t.settings),i.preventDefault&&i.preventDefault()},inputClick:function(e){return Math.abs(t.velocity)>0?(e.preventDefault(),!1):void 0},dragStart:function(e){return t._useTarget(e.target,e)&&t.elementFocused?!1:void 0}},this._attachListeners(this.$el,this.settings)},n.prototype._inputmove=function(t,i){var n=this.$el;this.el;if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){this.elementFocused&&(e(this.elementFocused).blur(),this.elementFocused=null,n.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var o=this.scrollLeft(),r=this.scrollTop(),a=t-this.xpos,s=i-this.ypos;this.scrollLeft(this.settings.x?o-a:o),this.scrollTop(this.settings.y?r-s:r),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=t,this.ypos=i,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),e.isFunction(this.settings.moved)&&this.settings.moved.call(n,this.settings)}},n.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity)},n.prototype._end=function(){this.xpos&&this.prevXPos&&this.settings.decelerate===!1&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},n.prototype._useTarget=function(t,i){return e.isFunction(this.settings.filterTarget)?this.settings.filterTarget.call(this,t,i)!==!1:!0},n.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},n.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},n.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},n.prototype._capVelocity=function(e,t){var i=e;return e>0?e>t&&(i=t):0-t>e&&(i=0-t),i},n.prototype._setMoveClasses=function(e){var t=this.settings,i=this.$el;i.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),this.velocity>0&&i.addClass(e.right),this.velocity<0&&i.addClass(e.left),this.velocityY>0&&i.addClass(e.down),this.velocityY<0&&i.addClass(e.up)},n.prototype._move=function(){var t=(this.$el,this.el),i=this,n=i.settings;n.x&&t.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=n.decelerate?i._decelerateVelocity(this.velocity,n.slowdown):this.velocity)):this.velocity=0,n.y&&t.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=n.decelerate?i._decelerateVelocity(this.velocityY,n.slowdown):this.velocityY)):this.velocityY=0,i._setMoveClasses(n.deceleratingClass),e.isFunction(n.moved)&&n.moved.call(this,n),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,window.requestAnimationFrame(function(){i.moving=!1,i._move()})):i.stop()},n.prototype._getScroller=function(){var t=this.$el;return(this.$el.is("body")||this.$el.is("html"))&&(t=e(window)),t},n.prototype.scrollLeft=function(e){var t=this._getScroller();return"number"!=typeof e?t.scrollLeft():(t.scrollLeft(e),void(this.settings.scrollLeft=e))},n.prototype.scrollTop=function(e){var t=this._getScroller();return"number"!=typeof e?t.scrollTop():(t.scrollTop(e),void(this.settings.scrollTop=e))},n.prototype._attachListeners=function(){var t=this.$el,n=this.settings;e.support.touch?t.bind("touchstart",n.events.touchStart).bind("touchend",n.events.inputEnd).bind("touchmove",n.events.touchMove):t.mousedown(n.events.inputDown).mouseup(n.events.inputEnd).mousemove(n.events.inputMove),t.click(n.events.inputClick).scroll(n.events.scroll).bind("selectstart",i).bind("dragstart",n.events.dragStart)},n.prototype._detachListeners=function(){var t=this.$el,n=this.settings;e.support.touch?t.unbind("touchstart",n.events.touchStart).unbind("touchend",n.events.inputEnd).unbind("touchmove",n.events.touchMove):t.unbind("mousedown",n.events.inputDown).unbind("mouseup",n.events.inputEnd).unbind("mousemove",n.events.inputMove),t.unbind("click",n.events.inputClick).unbind("scroll",n.events.scroll).unbind("selectstart",i).unbind("dragstart",n.events.dragStart)},e.Kinetic=n,e.fn.kinetic=function(t,i){return this.each(function(){var o=e(this),r=o.data(n.DATA_KEY),a=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data(n.DATA_KEY,r=new n(this,a)),"string"==typeof t&&r[t](i)})}}(window.jQuery||window.Zepto),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)try{n=e._data(o,"events"),n&&n.remove&&e(o).triggerHandler("remove")}catch(a){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,r,a,s,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}()):void(l[t]=n)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,o,r=i.call(arguments,1),a=0,s=r.length;s>a;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&void 0!==o&&(e.isPlainObject(o)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],o):e.widget.extend({},o):t[n]=o);return t},e.widget.bridge=function(t,n){var o=n.prototype.widgetFullName||t;e.fn[t]=function(r){var a="string"==typeof r,s=i.call(arguments,1),l=this;return r=!a&&s.length?e.widget.extend.apply(null,[r].concat(s)):r,a?this.each(function(){var i,n=e.data(this,o);return"instance"===r?(l=n,!1):n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,s),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?(t.option(r||{}),t._init&&t._init()):e.data(this,o,new n(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,r,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(o=a[t]=e.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,a){function s(){return t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?o.delegate(d,c,s):i.bind(c,s)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,r,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[s]?n[t](o):s!==t&&n[s]?n[s](o.duration,o.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}}),e.widget}),!function(e){"use strict";var t=function(e,i){var n=/[^\w\-\.:]/.test(e)?new Function(t.arg+",tmpl","var _e=tmpl.encode"+t.helper+",_s='"+e.replace(t.regexp,t.func)+"';return _s;"):t.cache[e]=t.cache[e]||t(t.load(e));return i?n(i,t):function(e){return n(e,t)}};t.cache={},t.load=function(e){return document.getElementById(e).innerHTML},t.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,t.func=function(e,t,i,n,o,r){return t?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[t]||"\\"+t:i?"="===i?"'+_e("+n+")+'":"'+("+n+"==null?'':"+n+")+'":o?"';":r?"_s+='":void 0},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(e){return(null==e?"":""+e).replace(t.encReg,function(e){return t.encMap[e]||""})},t.arg="o",t.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return t}):e.tmpl=t}(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";function t(t){var i="dragover"===t;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var o=n.dataTransfer;o&&-1!==e.inArray("Files",o.types)&&this._trigger(t,e.Event(t,{delegatedEvent:n}))!==!1&&(n.preventDefault(),i&&(o.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){return t.isDefaultPrevented()?!1:void((i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var n,o=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&o-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=o,n=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(o,n,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&(e(n.upload).bind("progress",function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,i._onProgress(e,t)}),t.xhr=function(){return n})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,n=this,o=t.files[0],r=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r&&!t.blob&&this._isInstanceOf("File",o)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:a,value:t.blob}):e.each(t.files,function(n,o){i.push({name:"array"===e.type(t.paramName)&&t.paramName[n]||a,value:o})})):(n._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(a,t.blob,o.name):e.each(t.files,function(o,r){(n._isInstanceOf("File",r)||n._isInstanceOf("Blob",r))&&i.append("array"===e.type(t.paramName)&&t.paramName[o]||a,r,r.uploadName||r.name)})),t.data=i):(t.contentType=o.type||"application/octet-stream",t.data=t.blob||o),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",o=(t.prop("files")||[1]).length;o;)n.push(i),o-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,n){var o=e.Deferred(),r=o.promise();return i=i||this.options.context||r,t===!0?o.resolveWith(i,n):t===!1&&o.rejectWith(i,n),r.abort=o.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,i){var n=this,o=function(t){return e.Deferred().resolveWith(n,t).promise()};i.process=function(t,r){return(t||r)&&(i._processQueue=this._processQueue=(this._processQueue||o([this])).pipe(function(){return i.errorThrown?e.Deferred().rejectWith(n,[i]).promise():o(arguments)}).pipe(t,r)),this._processQueue||o([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=n._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var n,o,r=this,a=t.files[0],s=a.size,l=t.uploadedBytes,c=t.maxChunkSize||s,d=this._blobSlice,u=e.Deferred(),h=u.promise();return this._isXHRUpload(t)&&d&&(l||s>c)&&!t.data?i?!0:l>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(o=function(){var i=e.extend({},t),h=i._progress.loaded;i.blob=d.call(a,l,l+c,a.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+s,r._initXHRData(i),r._initProgressListener(i),n=(r._trigger("chunksend",null,i)!==!1&&e.ajax(i)||r._getXHRPromise(!1,i.context)).done(function(n,a,c){l=r._getUploadedBytes(c)||l+i.chunkSize,h+i.chunkSize-i._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=a,i.jqXHR=c,r._trigger("chunkdone",null,i),r._trigger("chunkalways",null,i),s>l?o():u.resolveWith(i.context,[n,a,c])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,r._trigger("chunkfail",null,i),r._trigger("chunkalways",null,i),u.rejectWith(i.context,[e,t,n])})},this._enhancePromise(h),h.abort=function(){return n.abort()},o(),h):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,n,o){var r=o._progress.total,a=o._response;o._progress.loaded<r&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:r,total:r}),o),a.result=o.result=t,a.textStatus=o.textStatus=i,a.jqXHR=o.jqXHR=n,this._trigger("done",null,o)},_onFail:function(e,t,i,n){var o=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),o.jqXHR=n.jqXHR=e,o.textStatus=n.textStatus=t,o.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(e,t,i,n){this._trigger("always",null,n)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var n,o,r,a,s=this,l=s._getAJAXSettings(i),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,n=n||((o||s._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){s._onDone(e,t,i,l)}).fail(function(e,t,i){s._onFail(e,t,i,l)}).always(function(e,t,i){if(s._onAlways(e,t,i,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var n=s._slots.shift();n;){if("pending"===s._getDeferredState(n)){n.resolve();break}n=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=e.Deferred(),this._slots.push(r),a=r.pipe(c)):(this._sequence=this._sequence.pipe(c,c),a=this._sequence),a.abort=function(){return o=[void 0,"abort","abort"],n?n.abort():(r&&r.rejectWith(l.context,o),c())},this._enhancePromise(a)):c()},_onAdd:function(t,i){var n,o,r,a,s=this,l=!0,c=e.extend({},this.options,i),d=i.files,u=d.length,h=c.limitMultiFileUploads,p=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!p||u&&void 0!==d[0].size||(p=void 0),(c.singleFileUploads||h||p)&&this._isXHRUpload(c))if(c.singleFileUploads||p||!h)if(!c.singleFileUploads&&p)for(r=[],n=[],a=0;u>a;a+=1)m+=d[a].size+f,(a+1===u||m+d[a+1].size+f>p||h&&a+1-v>=h)&&(r.push(d.slice(v,a+1)),o=g.slice(v,a+1),o.length||(o=g),n.push(o),v=a+1,m=0);else n=g;else for(r=[],n=[],a=0;u>a;a+=h)r.push(d.slice(a,a+h)),o=g.slice(a,a+h),o.length||(o=g),n.push(o);else r=[d],n=[g];return i.originalFiles=d,e.each(r||d,function(o,a){var c=e.extend({},i);return c.files=r?a:[a],c.paramName=n[o],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(t,c),l=s._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),l},_replaceFileInput:function(t){var i=t.fileInput,n=i.clone(!0);t.fileInputClone=n,e("<form></form>").append(n)[0].reset(),i.after(n).detach(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?n[0]:t}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,i){var n,o=this,r=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},s=function(e){o._handleFileTreeEntries(e,i+t.name+"/").done(function(e){r.resolve(e)}).fail(a)},l=function(){n.readEntries(function(e){e.length?(c=c.concat(e),l()):s(c)},a)},c=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,r.resolve(t._file)):t.file(function(e){e.relativePath=i,r.resolve(e)},a):t.isDirectory?(n=t.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,i){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,n,o=t.prop("webkitEntries")||t.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(n=t.prop("value"),!n)return e.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(o){n.files=o,i.options.replaceFileInput&&i._replaceFileInput(n),i._trigger("change",e.Event("change",{delegatedEvent:t}),n)!==!1&&i._onAdd(t,n)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),n)!==!1&&this._onAdd(t,n))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,n=t.dataTransfer,o={};n&&n.files&&n.files.length&&(t.preventDefault(),this._getDroppedFiles(n).always(function(n){o.files=n,i._trigger("drop",e.Event("drop",{delegatedEvent:t}),o)!==!1&&i._onAdd(t,o)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var n=-1!==e.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,n=e(this.element[0].cloneNode(!1));e.each(n.data(),function(e,o){var r="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();n.attr(r)&&(t._isRegExpOption(e,o)&&(o=t._getRegExp(o)),i[e]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,o=this,r=e.Deferred(),a=r.promise();return a.abort=function(){return n=!0,i?i.abort():(r.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){if(!n){if(!e.length)return void r.reject();t.files=e,i=o._onSend(null,t),i.then(function(e,t,i){r.resolve(e,t,i)},function(e,t,i){r.reject(e,t,i)})}}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):e(window.jQuery)}(function(e){"use strict";var t=e.blueimp.fileupload.prototype.options.add;e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{processQueue:[],add:function(i,n){var o=e(this);n.process(function(){return o.fileupload("process",n)}),t.call(this,i,n)}},processActions:{},_processFile:function(t,i){var n=this,o=e.Deferred().resolveWith(n,[t]),r=o.promise();return this._trigger("process",null,t),e.each(t.processQueue,function(t,o){var a=function(t){return i.errorThrown?e.Deferred().rejectWith(n,[i]).promise():n.processActions[o.action].call(n,t,o)};r=r.pipe(a,o.always&&a)}),r.done(function(){n._trigger("processdone",null,t),n._trigger("processalways",null,t)}).fail(function(){n._trigger("processfail",null,t),n._trigger("processalways",null,t)}),r},_transformProcessQueue:function(t){var i=[];e.each(t.processQueue,function(){var n={},o=this.action,r=this.prefix===!0?o:this.prefix;e.each(this,function(i,o){"string"===e.type(o)&&"@"===o.charAt(0)?n[i]=t[o.slice(1)||(r?r+i.charAt(0).toUpperCase()+i.slice(1):i)]:n[i]=o}),i.push(n)}),t.processQueue=i},processing:function(){return this._processing},process:function(t){var i=this,n=e.extend({},this.options,t);return n.processQueue&&n.processQueue.length&&(this._transformProcessQueue(n),0===this._processing&&this._trigger("processstart"),e.each(t.files,function(o){var r=o?e.extend({},n):n,a=function(){return t.errorThrown?e.Deferred().rejectWith(i,[t]).promise():i._processFile(r,t)};r.index=o,i._processing+=1,i._processingQueue=i._processingQueue.pipe(a,a).always(function(){i._processing-=1,0===i._processing&&i._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],e):e(window.jQuery,window.tmpl);
}(function(e,t){"use strict";e.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId"),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,prependFiles:!1,dataType:"json",messages:{unknownError:"Unknown error"},getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(t){return t.result&&e.isArray(t.result.files)?t.result.files:[]},add:function(t,i){if(t.isDefaultPrevented())return!1;var n=e(this),o=n.data("blueimp-fileupload")||n.data("fileupload"),r=o.options;i.context=o._renderUpload(i.files).data("data",i).addClass("processing"),r.filesContainer[r.prependFiles?"prepend":"append"](i.context),o._forceReflow(i.context),o._transition(i.context),i.process(function(){return n.fileupload("process",i)}).always(function(){i.context.each(function(t){e(this).find(".size").text(o._formatFileSize(i.files[t].size))}).removeClass("processing"),o._renderPreviews(i)}).done(function(){i.context.find(".start").prop("disabled",!1),o._trigger("added",t,i)!==!1&&(r.autoUpload||i.autoUpload)&&i.autoUpload!==!1&&i.submit()}).fail(function(){i.files.error&&i.context.each(function(t){var n=i.files[t].error;n&&e(this).find(".error").text(n)})})},send:function(t,i){if(t.isDefaultPrevented())return!1;var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload");return i.context&&i.dataType&&"iframe"===i.dataType.substr(0,6)&&i.context.find(".progress").addClass(!e.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),n._trigger("sent",t,i)},done:function(t,i){if(t.isDefaultPrevented())return!1;var n,o,r=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),a=i.getFilesFromResponse||r.options.getFilesFromResponse,s=a(i);i.context?i.context.each(function(a){var l=s[a]||{error:"Empty file upload result"};o=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){var a=e(this);n=r._renderDownload([l]).replaceAll(a),r._forceReflow(n),r._transition(n).done(function(){i.context=e(this),r._trigger("completed",t,i),r._trigger("finished",t,i),o.resolve()})})}):(n=r._renderDownload(s)[r.options.prependFiles?"prependTo":"appendTo"](r.options.filesContainer),r._forceReflow(n),o=r._addFinishedDeferreds(),r._transition(n).done(function(){i.context=e(this),r._trigger("completed",t,i),r._trigger("finished",t,i),o.resolve()}))},fail:function(t,i){if(t.isDefaultPrevented())return!1;var n,o,r=e(this).data("blueimp-fileupload")||e(this).data("fileupload");i.context?i.context.each(function(a){if("abort"!==i.errorThrown){var s=i.files[a];s.error=s.error||i.errorThrown||i.i18n("unknownError"),o=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){var a=e(this);n=r._renderDownload([s]).replaceAll(a),r._forceReflow(n),r._transition(n).done(function(){i.context=e(this),r._trigger("failed",t,i),r._trigger("finished",t,i),o.resolve()})})}else o=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){e(this).remove(),r._trigger("failed",t,i),r._trigger("finished",t,i),o.resolve()})}):"abort"!==i.errorThrown?(i.context=r._renderUpload(i.files)[r.options.prependFiles?"prependTo":"appendTo"](r.options.filesContainer).data("data",i),r._forceReflow(i.context),o=r._addFinishedDeferreds(),r._transition(i.context).done(function(){i.context=e(this),r._trigger("failed",t,i),r._trigger("finished",t,i),o.resolve()})):(r._trigger("failed",t,i),r._trigger("finished",t,i),r._addFinishedDeferreds().resolve())},progress:function(t,i){if(t.isDefaultPrevented())return!1;var n=Math.floor(i.loaded/i.total*100);i.context&&i.context.each(function(){e(this).find(".progress").attr("aria-valuenow",n).children().first().css("width",n+"%")})},progressall:function(t,i){if(t.isDefaultPrevented())return!1;var n=e(this),o=Math.floor(i.loaded/i.total*100),r=n.find(".fileupload-progress"),a=r.find(".progress-extended");a.length&&a.html((n.data("blueimp-fileupload")||n.data("fileupload"))._renderExtendedProgress(i)),r.find(".progress").attr("aria-valuenow",o).children().first().css("width",o+"%")},start:function(t){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload");i._resetFinishedDeferreds(),i._transition(e(this).find(".fileupload-progress")).done(function(){i._trigger("started",t)})},stop:function(t){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),n=i._addFinishedDeferreds();e.when.apply(e,i._getFinishedDeferreds()).done(function(){i._trigger("stopped",t)}),i._transition(e(this).find(".fileupload-progress")).done(function(){e(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%"),e(this).find(".progress-extended").html("&nbsp;"),n.resolve()})},processstart:function(t){return t.isDefaultPrevented()?!1:void e(this).addClass("fileupload-processing")},processstop:function(t){return t.isDefaultPrevented()?!1:void e(this).removeClass("fileupload-processing")},destroy:function(t,i){if(t.isDefaultPrevented())return!1;var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),o=function(){n._transition(i.context).done(function(){e(this).remove(),n._trigger("destroyed",t,i)})};i.url?(i.dataType=i.dataType||n.options.dataType,e.ajax(i).done(o).fail(function(){n._trigger("destroyfailed",t,i)})):o()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(t){return t||(t=e.Deferred()),this._finishedUploads.push(t),t},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var t=e(this),i=t.prop("href"),n=t.prop("download"),o="application/octet-stream";t.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[o,n,i].join(":"))}catch(t){}})},_formatFileSize:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" Gbit/s":e>=1e6?(e/1e6).toFixed(2)+" Mbit/s":e>=1e3?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),i=Math.floor(e/86400);return i=i?i+"d ":"",i+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_renderTemplate:function(t,i){if(!t)return e();var n=t({files:i,formatFileSize:this._formatFileSize,options:this.options});return n instanceof e?n:e(this.options.templatesContainer).html(n).children()},_renderPreviews:function(t){t.context.find(".preview").each(function(i,n){e(n).append(t.files[i].preview)})},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var i=e(t.currentTarget),n=i.closest(".template-upload"),o=n.data("data");i.prop("disabled",!0),o&&o.submit&&o.submit()},_cancelHandler:function(t){t.preventDefault();var i=e(t.currentTarget).closest(".template-upload,.template-download"),n=i.data("data")||{};n.context=n.context||i,n.abort?n.abort():(n.errorThrown="abort",this._trigger("fail",t,n))},_deleteHandler:function(t){t.preventDefault();var i=e(t.currentTarget);this._trigger("destroy",t,e.extend({context:i.closest(".template-download"),type:"DELETE"},i.data()))},_forceReflow:function(t){return e.support.transition&&t.length&&t[0].offsetWidth},_transition:function(t){var i=e.Deferred();return e.support.transition&&t.hasClass("fade")&&t.is(":visible")?t.bind(e.support.transition.end,function(n){n.target===t[0]&&(t.unbind(e.support.transition.end),i.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),i.resolveWith(t)),i},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),i=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),i.find(".start").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),i.find(".cancel").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),i.find(".toggle:checked").closest(".template-download").find(".delete").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(t){i.find(".toggle").prop("checked",e(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var t=this.options;void 0===t.filesContainer?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof e||(t.filesContainer=e(t.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),e.support.fileInput||this._disableFileInputButton()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){e(t,window,document)}):e(jQuery,window,document)}(function(e,t,i,n){"use strict";function o(t,i){this.element=t,this.options=e.extend({},s,i),this._defaults=s,this.ns="."+r+a++,this.isGoodBrowser=Boolean(t.setSelectionRange),this.hadInitialPlaceholder=Boolean(e(t).attr("placeholder")),this._name=r}var r="intlTelInput",a=1,s={allowExtensions:!1,autoFormat:!0,autoHideDialCode:!0,autoPlaceholder:!0,defaultCountry:"",geoIpLookup:null,nationalMode:!0,numberType:"MOBILE",onlyCountries:[],preferredCountries:["us","gb"],utilsScript:""},l={UP:38,DOWN:40,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,ZERO:48,NINE:57,SPACE:32,BSPACE:8,TAB:9,DEL:46,CTRL:17,CMD1:91,CMD2:224},c=!1;e(t).load(function(){c=!0}),o.prototype={_init:function(){return this.options.nationalMode&&(this.options.autoHideDialCode=!1),navigator.userAgent.match(/IEMobile/i)&&(this.options.autoFormat=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.autoCountryDeferred=new e.Deferred,this.utilsScriptDeferred=new e.Deferred,this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests(),[this.autoCountryDeferred,this.utilsScriptDeferred]},_processCountryData:function(){this._setInstanceCountryData(),this._setPreferredCountries()},_addCountryCode:function(e,t,i){t in this.countryCodes||(this.countryCodes[t]=[]);var n=i||0;this.countryCodes[t][n]=e},_setInstanceCountryData:function(){var t;if(this.options.onlyCountries.length){for(t=0;t<this.options.onlyCountries.length;t++)this.options.onlyCountries[t]=this.options.onlyCountries[t].toLowerCase();for(this.countries=[],t=0;t<d.length;t++)-1!=e.inArray(d[t].iso2,this.options.onlyCountries)&&this.countries.push(d[t])}else this.countries=d;for(this.countryCodes={},t=0;t<this.countries.length;t++){var i=this.countries[t];if(this._addCountryCode(i.iso2,i.dialCode,i.priority),i.areaCodes)for(var n=0;n<i.areaCodes.length;n++)this._addCountryCode(i.iso2,i.dialCode+i.areaCodes[n])}},_setPreferredCountries:function(){this.preferredCountries=[];for(var e=0;e<this.options.preferredCountries.length;e++){var t=this.options.preferredCountries[e].toLowerCase(),i=this._getCountryData(t,!1,!0);i&&this.preferredCountries.push(i)}},_generateMarkup:function(){this.telInput=e(this.element),this.telInput.attr("autocomplete","off"),this.telInput.wrap(e("<div>",{"class":"intl-tel-input"})),this.flagsContainer=e("<div>",{"class":"flag-dropdown"}).insertBefore(this.telInput);var t=e("<div>",{tabindex:"0","class":"selected-flag"}).appendTo(this.flagsContainer);this.selectedFlagInner=e("<div>",{"class":"iti-flag"}).appendTo(t),e("<div>",{"class":"arrow"}).appendTo(t),this.isMobile?this.countryList=e("<select>",{"class":"iti-mobile-select"}).appendTo(this.flagsContainer):(this.countryList=e("<ul>",{"class":"country-list v-hide"}).appendTo(this.flagsContainer),this.preferredCountries.length&&!this.isMobile&&(this._appendListItems(this.preferredCountries,"preferred"),e("<li>",{"class":"divider"}).appendTo(this.countryList))),this._appendListItems(this.countries,""),this.isMobile||(this.dropdownHeight=this.countryList.outerHeight(),this.countryList.removeClass("v-hide").addClass("hide"),this.countryListItems=this.countryList.children(".country"))},_appendListItems:function(e,t){for(var i="",n=0;n<e.length;n++){var o=e[n];this.isMobile?(i+="<option data-dial-code='"+o.dialCode+"' value='"+o.iso2+"'>",i+=o.name+" +"+o.dialCode,i+="</option>"):(i+="<li class='country "+t+"' data-dial-code='"+o.dialCode+"' data-country-code='"+o.iso2+"'>",i+="<div class='flag'><div class='iti-flag "+o.iso2+"'></div></div>",i+="<span class='country-name'>"+o.name+"</span>",i+="<span class='dial-code'>+"+o.dialCode+"</span>",i+="</li>")}this.countryList.append(i)},_setInitialState:function(){var e=this.telInput.val();this._getDialCode(e)?this._updateFlagFromNumber(e,!0):"auto"!=this.options.defaultCountry&&(this.options.defaultCountry?this.options.defaultCountry=this._getCountryData(this.options.defaultCountry.toLowerCase(),!1,!1):this.options.defaultCountry=this.preferredCountries.length?this.preferredCountries[0]:this.countries[0],this._selectFlag(this.options.defaultCountry.iso2),e||this._updateDialCode(this.options.defaultCountry.dialCode,!1)),e&&this._updateVal(e)},_initListeners:function(){var t=this;if(this._initKeyListeners(),(this.options.autoHideDialCode||this.options.autoFormat)&&this._initFocusListeners(),this.isMobile)this.countryList.on("change"+this.ns,function(i){t._selectListItem(e(this).find("option:selected"))});else{var i=this.telInput.closest("label");i.length&&i.on("click"+this.ns,function(e){t.countryList.hasClass("hide")?t.telInput.focus():e.preventDefault()});var n=this.selectedFlagInner.parent();n.on("click"+this.ns,function(e){!t.countryList.hasClass("hide")||t.telInput.prop("disabled")||t.telInput.prop("readonly")||t._showDropdown()})}this.flagsContainer.on("keydown"+t.ns,function(e){var i=t.countryList.hasClass("hide");!i||e.which!=l.UP&&e.which!=l.DOWN&&e.which!=l.SPACE&&e.which!=l.ENTER||(e.preventDefault(),e.stopPropagation(),t._showDropdown()),e.which==l.TAB&&t._closeDropdown()})},_initRequests:function(){var i=this;this.options.utilsScript?c?this.loadUtils():e(t).load(function(){i.loadUtils()}):this.utilsScriptDeferred.resolve(),"auto"==this.options.defaultCountry?this._loadAutoCountry():this.autoCountryDeferred.resolve()},_loadAutoCountry:function(){var t=e.cookie?e.cookie("itiAutoCountry"):"";t&&(e.fn[r].autoCountry=t),e.fn[r].autoCountry?this.autoCountryLoaded():e.fn[r].startedLoadingAutoCountry||(e.fn[r].startedLoadingAutoCountry=!0,"function"==typeof this.options.geoIpLookup&&this.options.geoIpLookup(function(t){e.fn[r].autoCountry=t.toLowerCase(),e.cookie&&e.cookie("itiAutoCountry",e.fn[r].autoCountry,{path:"/"}),e(".intl-tel-input input").intlTelInput("autoCountryLoaded")}))},_initKeyListeners:function(){var e=this;this.options.autoFormat&&this.telInput.on("keypress"+this.ns,function(i){if(i.which>=l.SPACE&&!i.ctrlKey&&!i.metaKey&&t.intlTelInputUtils&&!e.telInput.prop("readonly")){i.preventDefault();var n=i.which>=l.ZERO&&i.which<=l.NINE||i.which==l.PLUS,o=e.telInput[0],r=e.isGoodBrowser&&o.selectionStart==o.selectionEnd,a=e.telInput.attr("maxlength"),s=e.telInput.val(),c=a?s.length<a:!0;if(c&&(n||r)){var d=n?String.fromCharCode(i.which):null;e._handleInputKey(d,!0,n),s!=e.telInput.val()&&e.telInput.trigger("input")}n||e._handleInvalidKey()}}),this.telInput.on("cut"+this.ns+" paste"+this.ns,function(){setTimeout(function(){if(e.options.autoFormat&&t.intlTelInputUtils){var i=e.isGoodBrowser&&e.telInput[0].selectionStart==e.telInput.val().length;e._handleInputKey(null,i),e._ensurePlus()}else e._updateFlagFromNumber(e.telInput.val())})}),this.telInput.on("keyup"+this.ns,function(i){if(i.which==l.ENTER||e.telInput.prop("readonly"));else if(e.options.autoFormat&&t.intlTelInputUtils){var n=e.isGoodBrowser&&e.telInput[0].selectionStart==e.telInput.val().length;e.telInput.val()?(i.which==l.DEL&&!n||i.which==l.BSPACE)&&e._handleInputKey():e._updateFlagFromNumber(""),e._ensurePlus()}else e._updateFlagFromNumber(e.telInput.val())})},_ensurePlus:function(){if(!this.options.nationalMode){var e=this.telInput.val(),t=this.telInput[0];if("+"!=e.charAt(0)){var i=this.isGoodBrowser?t.selectionStart+1:0;this.telInput.val("+"+e),this.isGoodBrowser&&t.setSelectionRange(i,i)}}},_handleInvalidKey:function(){var e=this;this.telInput.trigger("invalidkey").addClass("iti-invalid-key"),setTimeout(function(){e.telInput.removeClass("iti-invalid-key")},100)},_handleInputKey:function(e,t,i){var n,o=this.telInput.val(),r=(this._getClean(o),this.telInput[0]),a=0;if(this.isGoodBrowser?(a=this._getDigitsOnRight(o,r.selectionEnd),e?o=o.substr(0,r.selectionStart)+e+o.substring(r.selectionEnd,o.length):n=o.substr(r.selectionStart-2,2)):e&&(o+=e),this.setNumber(o,null,t,!0,i),this.isGoodBrowser){var s;o=this.telInput.val(),a?(s=this._getCursorFromDigitsOnRight(o,a),e||(s=this._getCursorFromLeftChar(o,s,n))):s=o.length,r.setSelectionRange(s,s)}},_getCursorFromLeftChar:function(t,i,n){for(var o=i;o>0;o--){var r=t.charAt(o-1);if(e.isNumeric(r)||t.substr(o-2,2)==n)return o}return 0},_getCursorFromDigitsOnRight:function(t,i){for(var n=t.length-1;n>=0;n--)if(e.isNumeric(t.charAt(n))&&0===--i)return n;return 0},_getDigitsOnRight:function(t,i){for(var n=0,o=i;o<t.length;o++)e.isNumeric(t.charAt(o))&&n++;return n},_initFocusListeners:function(){var e=this;this.options.autoHideDialCode&&this.telInput.on("mousedown"+this.ns,function(t){e.telInput.is(":focus")||e.telInput.val()||(t.preventDefault(),e.telInput.focus())}),this.telInput.on("focus"+this.ns,function(i){var n=e.telInput.val();e.telInput.data("focusVal",n),e.options.autoHideDialCode&&!n&&!e.telInput.prop("readonly")&&e.selectedCountryData.dialCode&&(e._updateVal("+"+e.selectedCountryData.dialCode,null,!0),e.telInput.one("keypress.plus"+e.ns,function(i){if(i.which==l.PLUS){var n=e.options.autoFormat&&t.intlTelInputUtils?"+":"";e.telInput.val(n)}}),setTimeout(function(){var t=e.telInput[0];if(e.isGoodBrowser){var i=e.telInput.val().length;t.setSelectionRange(i,i)}}))}),this.telInput.on("blur"+this.ns,function(){if(e.options.autoHideDialCode){var i=e.telInput.val(),n="+"==i.charAt(0);if(n){var o=e._getNumeric(i);o&&e.selectedCountryData.dialCode!=o||e.telInput.val("")}e.telInput.off("keypress.plus"+e.ns)}e.options.autoFormat&&t.intlTelInputUtils&&e.telInput.val()!=e.telInput.data("focusVal")&&e.telInput.trigger("change")})},_getNumeric:function(e){return e.replace(/\D/g,"")},_getClean:function(e){var t="+"==e.charAt(0)?"+":"";return t+this._getNumeric(e)},_showDropdown:function(){this._setDropdownPosition();var e=this.countryList.children(".active");e.length&&this._highlightListItem(e),this.countryList.removeClass("hide"),e.length&&this._scrollTo(e),this._bindDropdownListeners(),this.selectedFlagInner.children(".arrow").addClass("up")},_setDropdownPosition:function(){var i=this.telInput.offset().top,n=e(t).scrollTop(),o=i+this.telInput.outerHeight()+this.dropdownHeight<n+e(t).height(),r=i-this.dropdownHeight>n,a=!o&&r?"-"+(this.dropdownHeight-1)+"px":"";this.countryList.css("top",a)},_bindDropdownListeners:function(){var t=this;this.countryList.on("mouseover"+this.ns,".country",function(i){t._highlightListItem(e(this))}),this.countryList.on("click"+this.ns,".country",function(i){t._selectListItem(e(this))});var n=!0;e("html").on("click"+this.ns,function(e){n||t._closeDropdown(),n=!1});var o="",r=null;e(i).on("keydown"+this.ns,function(e){e.preventDefault(),e.which==l.UP||e.which==l.DOWN?t._handleUpDownKey(e.which):e.which==l.ENTER?t._handleEnterKey():e.which==l.ESC?t._closeDropdown():(e.which>=l.A&&e.which<=l.Z||e.which==l.SPACE)&&(r&&clearTimeout(r),o+=String.fromCharCode(e.which),t._searchForCountry(o),r=setTimeout(function(){o=""},1e3))})},_handleUpDownKey:function(e){var t=this.countryList.children(".highlight").first(),i=e==l.UP?t.prev():t.next();i.length&&(i.hasClass("divider")&&(i=e==l.UP?i.prev():i.next()),this._highlightListItem(i),this._scrollTo(i))},_handleEnterKey:function(){var e=this.countryList.children(".highlight").first();e.length&&this._selectListItem(e)},_searchForCountry:function(e){for(var t=0;t<this.countries.length;t++)if(this._startsWith(this.countries[t].name,e)){var i=this.countryList.children("[data-country-code="+this.countries[t].iso2+"]").not(".preferred");this._highlightListItem(i),this._scrollTo(i,!0);break}},_startsWith:function(e,t){return e.substr(0,t.length).toUpperCase()==t},_updateVal:function(e,i,n,o,r){var a;if(this.options.autoFormat&&t.intlTelInputUtils&&this.selectedCountryData){a="number"==typeof i&&intlTelInputUtils.isValidNumber(e,this.selectedCountryData.iso2)?intlTelInputUtils.formatNumberByType(e,this.selectedCountryData.iso2,i):!o&&this.options.nationalMode&&"+"==e.charAt(0)&&intlTelInputUtils.isValidNumber(e,this.selectedCountryData.iso2)?intlTelInputUtils.formatNumberByType(e,this.selectedCountryData.iso2,intlTelInputUtils.numberFormat.NATIONAL):intlTelInputUtils.formatNumber(e,this.selectedCountryData.iso2,n,this.options.allowExtensions,r);var s=this.telInput.attr("maxlength");s&&a.length>s&&(a=a.substr(0,s))}else a=e;this.telInput.val(a)},_updateFlagFromNumber:function(t,i){t&&this.options.nationalMode&&this.selectedCountryData&&"1"==this.selectedCountryData.dialCode&&"+"!=t.charAt(0)&&("1"!=t.charAt(0)&&(t="1"+t),t="+"+t);var n=this._getDialCode(t),o=null;if(n){var r=this.countryCodes[this._getNumeric(n)],a=this.selectedCountryData&&-1!=e.inArray(this.selectedCountryData.iso2,r);if(!a||this._isUnknownNanp(t,n))for(var s=0;s<r.length;s++)if(r[s]){o=r[s];break}}else"+"==t.charAt(0)&&this._getNumeric(t).length?o="":t&&"+"!=t||(o=this.options.defaultCountry.iso2);null!==o&&this._selectFlag(o,i)},_isUnknownNanp:function(e,t){return"+1"==t&&this._getNumeric(e).length>=4},_highlightListItem:function(e){this.countryListItems.removeClass("highlight"),e.addClass("highlight")},_getCountryData:function(e,t,i){for(var n=t?d:this.countries,o=0;o<n.length;o++)if(n[o].iso2==e)return n[o];if(i)return null;throw new Error("No country data for '"+e+"'")},_selectFlag:function(e,t){this.selectedCountryData=e?this._getCountryData(e,!1,!1):{},t&&this.selectedCountryData.iso2&&(this.options.defaultCountry={iso2:this.selectedCountryData.iso2}),this.selectedFlagInner.attr("class","iti-flag "+e);var i=e?this.selectedCountryData.name+": +"+this.selectedCountryData.dialCode:"Unknown";this.selectedFlagInner.parent().attr("title",i),this._updatePlaceholder(),this.isMobile?this.countryList.val(e):(this.countryListItems.removeClass("active"),e&&this.countryListItems.find(".iti-flag."+e).first().closest(".country").addClass("active"))},_updatePlaceholder:function(){if(t.intlTelInputUtils&&!this.hadInitialPlaceholder&&this.options.autoPlaceholder&&this.selectedCountryData){var e=this.selectedCountryData.iso2,i=intlTelInputUtils.numberType[this.options.numberType||"FIXED_LINE"],n=e?intlTelInputUtils.getExampleNumber(e,this.options.nationalMode,i):"";this.telInput.attr("placeholder",n)}},_selectListItem:function(e){var t=this.isMobile?"value":"data-country-code";if(this._selectFlag(e.attr(t),!0),this.isMobile||this._closeDropdown(),this._updateDialCode(e.attr("data-dial-code"),!0),this.telInput.trigger("change"),this.telInput.focus(),this.isGoodBrowser){var i=this.telInput.val().length;this.telInput[0].setSelectionRange(i,i)}},_closeDropdown:function(){this.countryList.addClass("hide"),this.selectedFlagInner.children(".arrow").removeClass("up"),e(i).off(this.ns),e("html").off(this.ns),this.countryList.off(this.ns)},_scrollTo:function(e,t){var i=this.countryList,n=i.height(),o=i.offset().top,r=o+n,a=e.outerHeight(),s=e.offset().top,l=s+a,c=s-o+i.scrollTop(),d=n/2-a/2;if(o>s)t&&(c-=d),i.scrollTop(c);else if(l>r){t&&(c+=d);var u=n-a;i.scrollTop(c-u)}},_updateDialCode:function(t,i){var n,o=this.telInput.val();if(t="+"+t,this.options.nationalMode&&"+"!=o.charAt(0))n=o;else if(o){var r=this._getDialCode(o);if(r.length>1)n=o.replace(r,t);else{var a="+"!=o.charAt(0)?e.trim(o):"";n=t+a}}else n=!this.options.autoHideDialCode||i?t:"";this._updateVal(n,null,i)},_getDialCode:function(t){var i="";if("+"==t.charAt(0))for(var n="",o=0;o<t.length;o++){var r=t.charAt(o);if(e.isNumeric(r)&&(n+=r,this.countryCodes[n]&&(i=t.substr(0,o+1)),4==n.length))break}return i},autoCountryLoaded:function(){"auto"==this.options.defaultCountry&&(this.options.defaultCountry=e.fn[r].autoCountry,this._setInitialState(),this.autoCountryDeferred.resolve())},destroy:function(){this.isMobile||this._closeDropdown(),this.telInput.off(this.ns),this.isMobile?this.countryList.off(this.ns):(this.selectedFlagInner.parent().off(this.ns),this.telInput.closest("label").off(this.ns));var e=this.telInput.parent();e.before(this.telInput).remove()},getExtension:function(){return this.telInput.val().split(" ext. ")[1]||""},getNumber:function(e){return t.intlTelInputUtils?intlTelInputUtils.formatNumberByType(this.telInput.val(),this.selectedCountryData.iso2,e):""},getNumberType:function(){return t.intlTelInputUtils?intlTelInputUtils.getNumberType(this.telInput.val(),this.selectedCountryData.iso2):-99},getSelectedCountryData:function(){return this.selectedCountryData||{}},getValidationError:function(){return t.intlTelInputUtils?intlTelInputUtils.getValidationError(this.telInput.val(),this.selectedCountryData.iso2):-99},isValidNumber:function(){var i=e.trim(this.telInput.val()),n=this.options.nationalMode?this.selectedCountryData.iso2:"";return t.intlTelInputUtils?intlTelInputUtils.isValidNumber(i,n):!1},loadUtils:function(t){var i=this,n=t||this.options.utilsScript;!e.fn[r].loadedUtilsScript&&n?(e.fn[r].loadedUtilsScript=!0,e.ajax({url:n,success:function(){e(".intl-tel-input input").intlTelInput("utilsLoaded")},complete:function(){i.utilsScriptDeferred.resolve()},dataType:"script",cache:!0})):this.utilsScriptDeferred.resolve()},selectCountry:function(e){e=e.toLowerCase(),this.selectedFlagInner.hasClass(e)||(this._selectFlag(e,!0),this._updateDialCode(this.selectedCountryData.dialCode,!1))},setNumber:function(e,t,i,n,o){this.options.nationalMode||"+"==e.charAt(0)||(e="+"+e),this._updateFlagFromNumber(e),this._updateVal(e,t,i,n,o)},utilsLoaded:function(){this.options.autoFormat&&this.telInput.val()&&this._updateVal(this.telInput.val()),this._updatePlaceholder()}},e.fn[r]=function(t){var i=arguments;if(t===n||"object"==typeof t){var a=[];return this.each(function(){if(!e.data(this,"plugin_"+r)){var i=new o(this,t),n=i._init();a.push(n[0]),a.push(n[1]),e.data(this,"plugin_"+r,i)}}),e.when.apply(null,a)}if("string"==typeof t&&"_"!==t[0]){var s;return this.each(function(){var n=e.data(this,"plugin_"+r);n instanceof o&&"function"==typeof n[t]&&(s=n[t].apply(n,Array.prototype.slice.call(i,1))),"destroy"===t&&e.data(this,"plugin_"+r,null)}),s!==n?s:this}},e.fn[r].getCountryData=function(){return d},e.fn[r].version="6.0.4";for(var d=[["Afghanistan (\u202b\u0627\u0641\u063a\u0627\u0646\u0633\u062a\u0627\u0646\u202c\u200e)","af","93"],["Albania (Shqip\xebri)","al","355"],["Algeria (\u202b\u0627\u0644\u062c\u0632\u0627\u0626\u0631\u202c\u200e)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (\u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576)","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (\xd6sterreich)","at","43"],["Azerbaijan (Az\u0259rbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (\u202b\u0627\u0644\u0628\u062d\u0631\u064a\u0646\u202c\u200e)","bh","973"],["Bangladesh (\u09ac\u09be\u0982\u09b2\u09be\u09a6\u09c7\u09b6)","bd","880"],["Barbados","bb","1246"],["Belarus (\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c)","by","375"],["Belgium (Belgi\xeb)","be","32"],["Belize","bz","501"],["Benin (B\xe9nin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (\u0f60\u0f56\u0fb2\u0f74\u0f42)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (\u0411\u043e\u0441\u043d\u0430 \u0438 \u0425\u0435\u0440\u0446\u0435\u0433\u043e\u0432\u0438\u043d\u0430)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (\u1780\u1798\u17d2\u1796\u17bb\u1787\u17b6)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (R\xe9publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (\u4e2d\u56fd)","cn","86"],["Colombia","co","57"],["Comoros (\u202b\u062c\u0632\u0631 \u0627\u0644\u0642\u0645\u0631\u202c\u200e)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["C\xf4te d\u2019Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Cura\xe7ao","cw","599",0],["Cyprus (\u039a\u03cd\u03c0\u03c1\u03bf\u03c2)","cy","357"],["Czech Republic (\u010cesk\xe1 republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Rep\xfablica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (\u202b\u0645\u0635\u0631\u202c\u200e)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (F\xf8royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane fran\xe7aise)","gf","594"],["French Polynesia (Polyn\xe9sie fran\xe7aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (\u0395\u03bb\u03bb\u03ac\u03b4\u03b1)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guinea (Guin\xe9e)","gn","224"],["Guinea-Bissau (Guin\xe9 Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (\u9999\u6e2f)","hk","852"],["Hungary (Magyarorsz\xe1g)","hu","36"],["Iceland (\xcdsland)","is","354"],["India (\u092d\u093e\u0930\u0924)","in","91"],["Indonesia","id","62"],["Iran (\u202b\u0627\u06cc\u0631\u0627\u0646\u202c\u200e)","ir","98"],["Iraq (\u202b\u0627\u0644\u0639\u0631\u0627\u0642\u202c\u200e)","iq","964"],["Ireland","ie","353"],["Israel (\u202b\u05d9\u05e9\u05e8\u05d0\u05dc\u202c\u200e)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (\u65e5\u672c)","jp","81"],["Jordan (\u202b\u0627\u0644\u0623\u0631\u062f\u0646\u202c\u200e)","jo","962"],["Kazakhstan (\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait (\u202b\u0627\u0644\u0643\u0648\u064a\u062a\u202c\u200e)","kw","965"],["Kyrgyzstan (\u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d)","kg","996"],["Laos (\u0ea5\u0eb2\u0ea7)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (\u202b\u0644\u0628\u0646\u0627\u0646\u202c\u200e)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (\u202b\u0644\u064a\u0628\u064a\u0627\u202c\u200e)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (\u6fb3\u9580)","mo","853"],["Macedonia (FYROM) (\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (\u202b\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627\u202c\u200e)","mr","222"],["Mauritius (Moris)","mu","230"],["Mexico (M\xe9xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (\u041c\u043e\u043d\u0433\u043e\u043b)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (\u202b\u0627\u0644\u0645\u063a\u0631\u0628\u202c\u200e)","ma","212"],["Mozambique (Mo\xe7ambique)","mz","258"],["Myanmar (Burma) (\u1019\u103c\u1014\u103a\u1019\u102c)","mm","95"],["Namibia (Namibi\xeb)","na","264"],["Nauru","nr","674"],["Nepal (\u0928\u0947\u092a\u093e\u0932)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Cal\xe9donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (\uc870\uc120 \ubbfc\uc8fc\uc8fc\uc758 \uc778\ubbfc \uacf5\ud654\uad6d)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman (\u202b\u0639\u064f\u0645\u0627\u0646\u202c\u200e)","om","968"],["Pakistan (\u202b\u067e\u0627\u06a9\u0633\u062a\u0627\u0646\u202c\u200e)","pk","92"],["Palau","pw","680"],["Palestine (\u202b\u0641\u0644\u0633\u0637\u064a\u0646\u202c\u200e)","ps","970"],["Panama (Panam\xe1)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per\xfa)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (\u202b\u0642\u0637\u0631\u202c\u200e)","qa","974"],["R\xe9union (La R\xe9union)","re","262"],["Romania (Rom\xe2nia)","ro","40"],["Russia (\u0420\u043e\u0441\u0441\u0438\u044f)","ru","7",0],["Rwanda","rw","250"],["Saint Barth\xe9lemy (Saint-Barth\xe9lemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie fran\xe7aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe (S\xe3o Tom\xe9 e Pr\xedncipe)","st","239"],["Saudi Arabia (\u202b\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629\u202c\u200e)","sa","966"],["Senegal (S\xe9n\xe9gal)","sn","221"],["Serbia (\u0421\u0440\u0431\u0438\u0458\u0430)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (\ub300\ud55c\ubbfc\uad6d)","kr","82"],["South Sudan (\u202b\u062c\u0646\u0648\u0628 \u0627\u0644\u0633\u0648\u062f\u0627\u0646\u202c\u200e)","ss","211"],["Spain (Espa\xf1a)","es","34"],["Sri Lanka (\u0dc1\u0dca\u200d\u0dbb\u0dd3 \u0dbd\u0d82\u0d9a\u0dcf\u0dc0)","lk","94"],["Sudan (\u202b\u0627\u0644\u0633\u0648\u062f\u0627\u0646\u202c\u200e)","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (\u202b\u0633\u0648\u0631\u064a\u0627\u202c\u200e)","sy","963"],["Taiwan (\u53f0\u7063)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (\u0e44\u0e17\u0e22)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (\u202b\u062a\u0648\u0646\u0633\u202c\u200e)","tn","216"],["Turkey (T\xfcrkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (\u0423\u043a\u0440\u0430\u0457\u043d\u0430)","ua","380"],["United Arab Emirates (\u202b\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u062d\u062f\u0629\u202c\u200e)","ae","971"],["United Kingdom","gb","44"],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (O\u02bbzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt\xe0 del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Vi\u1ec7t Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Yemen (\u202b\u0627\u0644\u064a\u0645\u0646\u202c\u200e)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],u=0;u<d.length;u++){
var h=d[u];d[u]={name:h[0],iso2:h[1],dialCode:h[2],priority:h[3]||0,areaCodes:h[4]||null}}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var o=n>=0?n:Math.max(i-Math.abs(n),0);i>o;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("[object Function]"!=={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(i=t),n=0;r>n;){var a;Object.prototype.hasOwnProperty.call(o,n)&&(a=o[n],e.call(i,a,n,o)),n++}}),Array.prototype.some||(Array.prototype.some=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=arguments.length>=2?arguments[1]:void 0,o=0;i>o;o++)if(o in t&&e.call(n,t[o],o,t))return!0;return!1}),function(e){"undefined"!=typeof module&&module.exports?module.exports=e(this):"function"==typeof define&&define.amd?define(function(t){return function(){e(t)}}(this)):this.I18n=e(this)}(function(e){"use strict";var t=e&&e.I18n||{},i=Array.prototype.slice,n=function(e){return("0"+e.toString()).substr(-2)},o={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},r={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},a={unit:"$",precision:2,format:"%u%n",delimiter:",",separator:"."},s={precision:3,separator:".",delimiter:""},l=[null,"kb","mb","gb","tb"],c={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{}};return t.reset=function(){this.defaultLocale=c.defaultLocale,this.locale=c.locale,this.defaultSeparator=c.defaultSeparator,this.placeholder=c.placeholder,this.fallbacks=c.fallbacks,this.translations=c.translations},t.initializeOptions=function(){"undefined"==typeof this.defaultLocale&&null!==this.defaultLocale&&(this.defaultLocale=c.defaultLocale),"undefined"==typeof this.locale&&null!==this.locale&&(this.locale=c.locale),"undefined"==typeof this.defaultSeparator&&null!==this.defaultSeparator&&(this.defaultSeparator=c.defaultSeparator),"undefined"==typeof this.placeholder&&null!==this.placeholder&&(this.placeholder=c.placeholder),"undefined"==typeof this.fallbacks&&null!==this.fallbacks&&(this.fallbacks=c.fallbacks),"undefined"==typeof this.translations&&null!==this.translations&&(this.translations=c.translations)},t.initializeOptions(),t.locales={},t.locales.get=function(e){var i=this[e]||this[t.locale]||this["default"];return"function"==typeof i&&(i=i(e)),i instanceof Array==!1&&(i=[i]),i},t.locales["default"]=function(e){var i,n=[],o=[];return e&&n.push(e),!e&&t.locale&&n.push(t.locale),t.fallbacks&&t.defaultLocale&&n.push(t.defaultLocale),n.forEach(function(e){i=e.split("-")[0],~o.indexOf(e)||o.push(e),t.fallbacks&&i&&i!==e&&!~o.indexOf(i)&&o.push(i)}),n.length||n.push("en"),o},t.pluralization={},t.pluralization.get=function(e){return this[e]||this[t.locale]||this["default"]},t.pluralization["default"]=function(e){switch(e){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},t.currentLocale=function(){return this.locale||this.defaultLocale},t.isSet=function(e){return void 0!==e&&null!==e},t.lookup=function(e,t){t=this.prepareOptions(t);var i,n,o,r=this.locales.get(t.locale).slice();r[0];for(e.constructor===Array&&(e=e.join(this.defaultSeparator)),t.scope&&(e=[t.scope,e].join(this.defaultSeparator));r.length;)if(i=r.shift(),n=e.split(this.defaultSeparator),o=this.translations[i]){for(;n.length&&(o=o[n.shift()],void 0!==o&&null!==o););if(void 0!==o&&null!==o)return o}return this.isSet(t.defaultValue)?t.defaultValue:void 0},t.meridian=function(){var e=this.lookup("time"),t=this.lookup("date");return e&&e.am&&e.pm?[e.am,e.pm]:t&&t.meridian?t.meridian:o.meridian},t.prepareOptions=function(){for(var e,t=i.call(arguments),n={};t.length;)if(e=t.shift(),"object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&(this.isSet(n[o])||(n[o]=e[o]));return n},t.createTranslationOptions=function(e,t){var i=[{scope:e}];return this.isSet(t.defaults)&&(i=i.concat(t.defaults)),this.isSet(t.defaultValue)&&(i.push({message:t.defaultValue}),delete t.defaultValue),i},t.translate=function(e,t){t=this.prepareOptions(t);var i,n=this.createTranslationOptions(e,t),o=n.some(function(e){return this.isSet(e.scope)?i=this.lookup(e.scope,t):this.isSet(e.message)&&(i=e.message),void 0!==i&&null!==i?!0:void 0},this);return o?("string"==typeof i?i=this.interpolate(i,t):i instanceof Object&&this.isSet(t.count)&&(i=this.pluralize(t.count,i,t)),i):this.missingTranslation(e)},t.interpolate=function(e,t){t=this.prepareOptions(t);var i,n,o,r,a=e.match(this.placeholder);if(!a)return e;for(var n;a.length;)i=a.shift(),o=i.replace(this.placeholder,"$1"),n=this.isSet(t[o])?t[o].toString().replace(/\$/gm,"_#$#_"):o in t?this.nullPlaceholder(i,e):this.missingPlaceholder(i,e),r=new RegExp(i.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),e=e.replace(r,n);return e.replace(/_#\$#_/g,"$")},t.pluralize=function(e,t,i){i=this.prepareOptions(i);var n,o,r,a,s;if(n=t instanceof Object?t:this.lookup(t,i),!n)return this.missingTranslation(t);for(o=this.pluralization.get(i.locale),r=o(e);r.length;)if(a=r.shift(),this.isSet(n[a])){s=n[a];break}return i.count=String(e),this.interpolate(s,i)},t.missingTranslation=function(e){var t='[missing "';return t+=this.currentLocale()+".",t+=i.call(arguments).join("."),t+='" translation]'},t.missingPlaceholder=function(e,t){return"[missing "+e+" value]"},t.nullPlaceholder=function(){return t.missingPlaceholder.apply(t,arguments)},t.toNumber=function(e,t){t=this.prepareOptions(t,this.lookup("number.format"),r);var i,n,o=0>e,a=Math.abs(e).toFixed(t.precision).toString(),s=a.split("."),l=[];for(e=s[0],i=s[1];e.length>0;)l.unshift(e.substr(Math.max(0,e.length-3),3)),e=e.substr(0,e.length-3);return n=l.join(t.delimiter),t.strip_insignificant_zeros&&i&&(i=i.replace(/0+$/,"")),t.precision>0&&i&&(n+=t.separator+i),o&&(n="-"+n),n},t.toCurrency=function(e,t){return t=this.prepareOptions(t,this.lookup("number.currency.format"),this.lookup("number.format"),a),e=this.toNumber(e,t),e=t.format.replace("%u",t.unit).replace("%n",e)},t.localize=function(e,t,i){switch(i||(i={}),e){case"currency":return this.toCurrency(t);case"number":return e=this.lookup("number.format"),this.toNumber(t,e);case"percentage":return this.toPercentage(t);default:var n;return n=e.match(/^(date|time)/)?this.toTime(e,t):t.toString(),this.interpolate(n,i)}},t.parseDate=function(e){var t,i,n;if("object"==typeof e)return e;if(t=e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var o=1;6>=o;o++)t[o]=parseInt(t[o],10)||0;t[2]-=1,n=t[7]?1e3*("0"+t[7]):null,i=t[8]?new Date(Date.UTC(t[1],t[2],t[3],t[4],t[5],t[6],n)):new Date(t[1],t[2],t[3],t[4],t[5],t[6],n)}else"number"==typeof e?(i=new Date,i.setTime(e)):e.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(i=new Date,i.setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")))):e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/)?(i=new Date,i.setTime(Date.parse(e))):(i=new Date,i.setTime(Date.parse(e)));return i},t.strftime=function(e,i){var r=this.lookup("date"),a=t.meridian();r||(r={}),r=this.prepareOptions(r,o);var s=e.getDay(),l=e.getDate(),c=e.getFullYear(),d=e.getMonth()+1,u=e.getHours(),h=u,p=u>11?1:0,f=e.getSeconds(),m=e.getMinutes(),g=e.getTimezoneOffset(),v=Math.floor(Math.abs(g/60)),y=Math.abs(g)-60*v,b=(g>0?"-":"+")+(v.toString().length<2?"0"+v:v)+(y.toString().length<2?"0"+y:y);return h>12?h-=12:0===h&&(h=12),i=i.replace("%a",r.abbr_day_names[s]),i=i.replace("%A",r.day_names[s]),i=i.replace("%b",r.abbr_month_names[d]),i=i.replace("%B",r.month_names[d]),i=i.replace("%d",n(l)),i=i.replace("%e",l),i=i.replace("%-d",l),i=i.replace("%H",n(u)),i=i.replace("%-H",u),i=i.replace("%I",n(h)),i=i.replace("%-I",h),i=i.replace("%m",n(d)),i=i.replace("%-m",d),i=i.replace("%M",n(m)),i=i.replace("%-M",m),i=i.replace("%p",a[p]),i=i.replace("%S",n(f)),i=i.replace("%-S",f),i=i.replace("%w",s),i=i.replace("%y",n(c)),i=i.replace("%-y",n(c).replace(/^0+/,"")),i=i.replace("%Y",c),i=i.replace("%z",b)},t.toTime=function(e,t){var i=this.parseDate(t),n=this.lookup(e);return i.toString().match(/invalid/i)?i.toString():n?this.strftime(i,n):i.toString()},t.toPercentage=function(e,t){return t=this.prepareOptions(t,this.lookup("number.percentage.format"),this.lookup("number.format"),s),e=this.toNumber(e,t),e+"%"},t.toHumanSize=function(e,t){for(var i,n,o=1024,r=e,a=0;r>=o&&4>a;)r/=o,a+=1;return 0===a?(i=this.t("number.human.storage_units.units.byte",{count:r}),n=0):(i=this.t("number.human.storage_units.units."+l[a]),n=r-Math.floor(r)===0?0:1),t=this.prepareOptions(t,{precision:n,format:"%n%u",delimiter:""}),e=this.toNumber(r,t),e=t.format.replace("%u",i).replace("%n",e)},t.t=t.translate,t.l=t.localize,t.p=t.pluralize,t}),function(e){"undefined"!=typeof module?e(require("i18n")):"function"==typeof define&&define.amd?define(["i18n"],e):e(this.I18n)}(function(e){"use strict";e.translations={"en-US":{time:{formats:{complete_short:"%m/%d/%Y %I:%M %P",two_digits_day_only:"%-d",two_digits_month_only:"%m",date_for_comments:"%b%e",hour_for_comments:"%I:%M %P","default":"%a, %d %b %Y %I:%M:%S %p %Z","long":"%B %d, %Y %I:%M %p","short":"%d %b %I:%M %p"},"short":{minutes:"min",hours:"h",days:"d",months:"mon"},"long":{minutes:"MIN",hours:"HRS",days:"DAYS",months:"MON"},am:"am",pm:"pm"},devise:{confirmations:{confirmed:"Your account was successfully confirmed.",send_instructions:"You will receive an email with instructions about how to confirm your account in a few minutes.",send_paranoid_instructions:"If your email address exists in our database, you will receive an email with instructions about how to confirm your account in a few minutes."},failure:{already_authenticated:"You are already signed in.",inactive:"Your account is not activated yet.",invalid:"Invalid login or password.",locked:"Your account is locked.",last_attempt:"You have one more attempt before your account will be locked.",not_found_in_database:"Invalid login or password.",force_omniauth_to_normal_users:"One of your organizations require you to login with your Google account.",timeout:"Your session expired. Please sign in again to continue.",unauthenticated:"",unconfirmed:"You have to confirm your account before continuing.",invited:"You have a pending invitation, accept it to finish creating your account."},mailer:{confirmation_instructions:{subject:"Confirmation instructions"},reset_password_instructions:{subject:"Reset password instructions",title:"Hello %{username}!",body:"Someone has requested a link to change your password. You can do this through the link below.",change_password:"Change my password",ignore_1:"If you didn't request this, please ignore this email.",ignore_2:"Your password won't change until you access the link above and create a new one."},unlock_instructions:{subject:"Unlock Instructions"},invitation_instructions:{subject1:"%{username} invited you to %{organization_name} organization on Pipefy",subject2:"%{username} invited you to Pipefy",title:"Hello, %{username} invited you to Pipefy",body:"<b>What is Pipefy?</b> With Pipefy you\u2019ll organize and run all your processes in one place - without the help of IT guy or consultants.",accept:"accept invitation",problems:"If you're getting problems to access the link. Copy the following url in your address bar:"}},omniauth_callbacks:{failure:'Could not authenticate you from %{kind} because "%{reason}".',success:"Successfully authenticated from %{kind} account."},passwords:{no_token:"You can't access this page without coming from a password reset email. If you do come from a password reset email, please make sure you used the full URL provided.",send_instructions:"You will receive an email with instructions on how to reset your password in a few minutes.",send_paranoid_instructions:"If your email address exists in our database, you will receive a password recovery link at your email address in a few minutes.",updated:"Your password was changed successfully. You are now signed in.",updated_not_active:"Your password was changed successfully.",edit:{welcome:"Reset your password",welcome_slogan:"Choose your new password and you will be signed in.",password:"New password",send:"Save"},"new":{welcome:"Forgot my password",welcome_slogan:"Fill the field with your account email to receive recovery information",email_placeholder:"Your email",send:"Reset password"}},registrations:{destroyed:"Bye! Your account was successfully cancelled. We hope to see you again soon.",signed_up:"Welcome! You have signed up successfully.",signed_up_but_inactive:"You have signed up successfully. However, we could not sign you in because your account is not yet activated.",signed_up_but_locked:"You have signed up successfully. However, we could not sign you in because your account is locked.",signed_up_but_unconfirmed:"A message with a confirmation link has been sent to your email address. Please open the link to activate your account.",update_needs_confirmation:"You updated your account successfully, but we need to verify your new email address. Please check your email and click on the confirm link to finalize confirming your new email address.",updated:"You updated your account successfully."},sessions:{signed_in:"",signed_out:"","new":{welcome:"Welcome back,",welcome_slogan:"Sign in to your Pipefy account",login_placeholder:"Your username or email",password_placeholder:"Your password"}},unlocks:{send_instructions:"You will receive an email with instructions about how to unlock your account in a few minutes.",send_paranoid_instructions:"If your account exists, you will receive an email with instructions about how to unlock it in a few minutes.",unlocked:"Your account has been unlocked successfully. Please sign in to continue."},invitations:{send_instructions:"An invitation email has been sent to %{email}.",recommendation_sent:"A recommendation email has been sent to %{email}.",invitation_token_invalid:"The invitation token provided is not valid!",updated:"",no_invitations_remaining:"No invitations remaining",invitation_removed:"Your invitation was removed.",edit:{name:"What is your full name?",username:"Choose a username",username_description:"Pick something others will recognize.",password:"Choose a password",password_description:"Pick something secret.",locale:"Choose your language"}}},errors:{messages:{already_confirmed:"was already confirmed, please try signing in",confirmation_period_expired:"needs to be confirmed within %{period}, please request a new one",expired:"has expired, please request a new one",not_found:"not found",not_locked:"was not locked",not_saved:{one:"1 error prohibited this %{resource} from being saved:",other:"%{count} errors prohibited this %{resource} from being saved:"},accepted:"must be accepted",blank:"can't be blank",present:"must be blank",confirmation:"doesn't match %{attribute}",empty:"can't be empty",equal_to:"must be equal to %{count}",even:"must be even",exclusion:"is reserved",greater_than:"must be greater than %{count}",greater_than_or_equal_to:"must be greater than or equal to %{count}",inclusion:"is not included in the list",invalid:"is invalid",less_than:"must be less than %{count}",less_than_or_equal_to:"must be less than or equal to %{count}",not_a_number:"is not a number",not_an_integer:"must be an integer",odd:"must be odd",record_invalid:"Validation failed: %{errors}",restrict_dependent_destroy:{one:"Cannot delete record because a dependent %{record} exists",many:"Cannot delete record because dependent %{record} exist"},taken:"has already been taken",too_long:{one:"is too long (maximum is 1 character)",other:"is too long (maximum is %{count} characters)"},too_short:{one:"is too short (minimum is 1 character)",other:"is too short (minimum is %{count} characters)"},wrong_length:{one:"is the wrong length (should be 1 character)",other:"is the wrong length (should be %{count} characters)"},other_than:"must be other than %{count}"},401:"You're not authenticated, please relogin on Pipefy.",403:"You're not authorized for this request. Contact your organization admin for more information.",404:"We're sorry, the page you\u2019re looking for doesn\u2019t exist.",422:"The change you requested couldn't be processed.",500:"We're sorry, something went wrong!",format:"%{attribute} %{message}",template:{body:"There were problems with the following fields:",header:{one:"1 error prohibited this %{model} from being saved",other:"%{count} errors prohibited this %{model} from being saved"}}},activerecord:{attributes:{card:{assignees:"Assignees",id:"Number",card_id:"ID",created_by:"Creator",current_phase:"Current phase",phase:"Phase",pipe:"Pipe",title:"Title",labels:"Labels",due_date:"Due Date",finished_at:"Finished at",created_at:"Created at"},database_field:{validation:"Validation",type:"Type",options:"Options"},field:{default_value:"Default value",description:"Description",index:"Index",label:"Field label",options:"Options",phase:"Phase",pipe:"Pipe",required:"This field is required",type:"Type",type_id:"Type"},field_type:{component:"Component",name:"Name",validator:"Validator"},automated_message_setup:{from_name:"From name",from_email:"From e-mail",send_manually:"Send manually",send_on_leave_phase:"Send whenever a card leaves this phase",send_on_enter_phase:"Send whenever a card enters this phase"},automated_message:{from_name:"From name",from_email:"From e-mail",automated_message_setup:"E-mail template setup",sent_by:"Sender"},email_template:{name:"Name",subject:"Subject",body:"Content"},organization:{name:"Organization name",billing:"Organization billing e-mail",pipes:"Pipes",users:"Users"},phase:{cards:"Cards",done:"Done",automated_message_setups:"E-mail templates",fields:"Fields",index:"Index",jump_targets:"Action buttons",lateness_time:"Late alert",lateness_time_by_unit:"Late alert",name:"Phase name",pipe:"Pipe",connected_pipes:"Connected pipes",connected_pipe_ids:"Connected pipes",team_members:"Assigned",team_member_ids:"Assigned"},pipe:{form:"Form",name:"Pipe name",email_templates:"E-mail templates",expiration_time:"Expired alert",expiration_time_by_unit:"Expired alert",organization:"Organization",phases:"Phases",members:"Members",member_ids:"Members",title_field:"Card title",title_field_id:"Card title"},pipe_connections:{pipe:"Pipe",pipe_id:"Pipe",required:"Required"},user:{avatar:"Avatar",locale:"Language",login:"Login",email:"E-mail",name:"Name",organization_ids:"Organizations",organizations:"Organizations",password:"Password",password_confirmation:"Password confirmation",username:"Username",authentication_token:"API key"}},errors:{messages:{invalid_move:"Your card cannot be moved in this direction",invalid_value:"Invalid value",invalid_handlebars:"contains invalid handlebars code"},models:{card_field_value:{attributes:{value:{invalid_format:'"%{value}" is not in a valid format',invalid_option:"is not a valid option"},field:{is_not_in_phase:"is not in the phase %{phase}"}}},card_phase_detail_time_entry:{only_one_finish_nil:"There must only be one opened time entry by card in each phase"},card:{field_error:'Error on field "%{label}": %{field_msg}',required_connected_cards_creation_to_move:'One or more cards connected to "%{pipe_name}" pipe must be created for this card to move to the next phase.',required_connected_cards_finish_to_move:'All cards connected to "%{pipe_name}" pipe must be done before moving this card to the next phase.',required_connected_cards_creation_to_finish:'Creating one or more cards connected to "%{pipe_name}" pipe on "%{phase_name}" phase is a requirement for the parent card to be done.',required_connected_cards_finish_to_finish:'All cards connected to "%{pipe_name}" pipe on "%{phase_name}" phase must be done before the parent card can be done.',required_field:'Field "%{label}" is required! Please fill it and you\'ll be ready to go!',invalid_target_phase:"This card can't be moved to this phase."},database_field:{attributes:{validation:{not_supported:"%{validation} not supported"},type:{not_supported:"%{type} not supported"}},title_field_must_be_required:"The title field must be required"},field:{pipe_title_field:"Error saving pipe title field: %{message}",attributes:{type:{is_not_editable:'"%{type_name}" is not editable'}}},phase_team_membership:{attributes:{user:{not_member_of_pipe:"is not a member of this phase's pipe"}}},pipe_membership:{attributes:{member:{not_member_of_organization:"is not a member of this pipe's organization"}}},pipe:{repeated_email_inbox_field:"You can't use the same field for two or more email inbox mapped fields"},user:{attributes:{username:{invalid:"is invalid! Usernames must contain only numbers, letters, underscore '_' or hyphen '-'"}},force_omniauth_email_change:"You can't change your registered e-mail because you're in an organization that requires you to login with Google."}}},models:{card:{one:"card",other:"cards"},card_field_value:{one:"field value",other:"field values"},checklist:{one:"checklist",other:"checklists"},checklist_item:{one:"checklist item",other:"checklist items"},comment:{one:"comment",other:"comments"},field:{one:"field",other:"fields"},field_type:{one:"field type",other:"field types"},organization:{one:"organization",other:"organizations"},phase:{one:"phase",other:"phases"},pipe:{one:"pipe",other:"pipes"},user:{one:"user",other:"users"}}},layouts:{application:{user_profile:"user profile",organization_link_description:"Your organization",checkout_new_pipefy:"Check out the new Pipefy",new_organization:{title:"Create new organization",description:"Create a brand new organization to add new pipes to"},user_settings:{title:"Settings for %{name}",description:"Username, e-mail, language, etc..."},org_settings:{title:"Settings for %{name}",description:"Name, members, permissions, etc..."}}},notification_mailer:{card_assignee:{subject:"A card was assigned to you",title:"There's a new card assigned to you!",what:"What?",where:"Where?",where_value:"%{pipe_name} at %{organization_name}",which_phase:"Which phase?",when:"When?",who:"Who assigned it to you?",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},mention:{subject:"%{mentioned_by} mentioned you in %{card_title}",title:"%{mentioned_by} mentioned you",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},new_card:{subject:"New card on %{pipe_name}",title:"There's a new card on %{pipe_name}!",pipe_on_organization:"%{pipe_name} on %{organization_name}",who_created:"Who created?",view_card:"View card",unsubscribe:"unsubscribe"},move_card:{subject:"%{card_title} was moved to %{phase_name}",title:"%{card_title} was moved to %{phase_name}",was_on_x_for:"Was on phase %{phase_name} for...",moved_to:"Moved to?",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},done_card:{subject:"%{card_title} is done!",title:"A card was finished! _o/",done_by:"Done by?",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},new_comment:{subject:"%{username} commented one of your cards",title:"%{username} left a comment on one of your cards",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},new_checklist:{subject:"New checklist on %{card_title}",title:"A new checklist was added on %{card_title}",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},new_role:{subject:"You were added on %{resource_name}",title:"You were added on %{resource_name}",what:"What %{resource_type}?",who:"Who added you?",when:"When?",permission:"Permission:",view_resource:"View %{resource_type}",unsubscribe:"unsubscribe"},expired_card:{subject:"Expired alert - %{card_title}",title:"%{card_title} just got expired!",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",help:"What is an expired alert?",help_description:"You can define a time limit for cards to stay open in a process. When a card reaches this time limit, the expired alert is triggered.",view_card:"View card",unsubscribe:"unsubscribe"},late_card:{subject:"Late alert - %{card_title}",title:"%{card_title} just got late!",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",help:"What is a late alert?",help_description:"You can define a time limit for cards to stay on a phase. When a card reaches this time limit, the late alert is triggered.",view_card:"View card",unsubscribe:"unsubscribe"},overdue_card:{subject:"Overdue alert - %{card_title}",title:"%{card_title} just got overdue",due_date:"Due date",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",help:"What is an overdue alert?",help_description:"It\u2019s a reminder triggered when a card reaches its due date and is still open.",view_card:"View card",unsubscribe:"unsubscribe"}},report_export_mailer:{report_export_complete:{download_report:"Download Report"}},registration_mailer:{recommend:{subject:"%{username} invited you to join Pipefy",title:"Hello, %{username} invited you to join Pipefy",body:"<b>What is Pipefy?</b><br>With Pipefy you\u2019ll easily organize and run all your processes in one place, leaving inefficient manual forms, spreadsheets and e-mail threads in the past.",accept:"Accept invitation",problems:"If you're having trouble accessing the link, copy the following URL to your address bar:"}},cards:{create:{success:"Card successfully created"},destroy:{success:"Card successfully deleted"},update:{success:"Card successfully updated"},show:{cannot_open_draft:"This card cannot be opened, it is a someone else's draft card.",choose:"Choose",next_step:"Next Step",onboard:{left_side:"<h2>On the left</h2><p>What do you find here?</p><p> - The task's title and details;<br> - What happened on previous phases.</p>",right_side:"<h2>On the right</h2><p>What do you find here?</p><p> - Intructions to be followed;<br> - What needs to be done next.</p>",setup:"<h2>How to edit this phase</h2><p>You can easily modify everything you need to make your workflow fit your needs. You can edit this phase by:</p><p> - Adding, removing and reordering fields;<br> - Adding checklists, due dates, approvals, instructions, attachments, responsibles and others...</p>",actions:"<h2>How to move a card forward</h2><p>When the phase's requirements are completed, move the cards to the next step.</p>",moved:"<h2>The next step</h2><p>Check what needs to be done in the next phase of your process.</p>"}}},database_tables:{messages:{required:"The field %{field} is required",not_unique:"The field %{field} must have a unique value",validation_dont_match:{email:"The field %{field} value is not a valid email",custom:"The field %{field} value does not match the custom validation: %{validation_pattern}"}},index:{create_database_table:"Create new table"},"new":{title:"New Table"},edit:{title:"Edit Table"},field_types:{short_text:"Text",long_text:"Text",integer_number:"Number",decimal_number:"Number",currency_number:"Number","boolean":"Checkbox",date:"Date",datetime:"Date",time:"Time",email:"E-mail",select:"Select",phone:"Phone",database_lookup:"Database lookup",vertical_radio:"Radio",horizontal_radio:"Radio",vertical_checklist:"Checklist",horizontal_checklist:"Checklist"},form:{name:"Name",description:"Description",delete_title:"Delete Table",delete_description:"Once you delete this table, there is no going back. Please be certain.",delete_button:"Delete Table"},database_table:{add_record:"Add Record",database_settings:"Edit Table","delete":"Delete",edit_fields:"Edit Fields",records:"Records",view_records:"View Records"}},database_fields:{index:{add_fields_to:"Add fields",back_to_records:"Back to records",title:"Fields",your_fields:"Your fields"},"new":{fields:"Fields",title:"New field"},form:{description:"Description",name:"Name",required:"This field is required",advanced_settings:"Advanced options",unique:"This field must have a unique value",title_field:"This field must be used as the title for the records",delete_title:"Delete Field",delete_description:"Once you delete this field, there is no going back. Please be certain.",delete_button:"Delete Field",type:"Type",validation_pattern_placeholder:"Write your own regex pattern to match",add_option:"Add option",database_lookup_table:"Table",database_lookup_table_description:"Select the table which the field will show the records",can_create_database_record:"The user can create records on this table from this field",can_have_multiple_database_records:"The user can select or create multiple database records"},edit:{title:"Edit field"},destroy:{success:"Your field was succesfully deleted"},move_up:{success:"Your field was succesfully updated"},move_down:{success:"Your field was succesfully updated"},fields_list:{title_field:"TITLE"}},database_records:{show:{related_pipes:"Related Pipes",current_phase:"Current phase"},index:{title:"Records",add_new:"Add new",save:"Save",settings:"TABLE SETTINGS",fields:"Edit Fields"},"new":{back_to_records:"Back to records",title:"New record"},edit:{title:"Edit record"},form:{delete_title:"Delete Record",delete_description:"Once you delete this record, there is no going back. Please be certain.",delete_button:"Delete Record"},get_data:{no_title:"<no title>"}},setup:{call_to_back_title:"You are changing your settings",back_to_pipe:"Back to pipe",breadcrumb_preffix:"You are on:"},field_types:{create:{success:"Field type successfully created"},destroy:{success:"Field type successfully deleted"},update:{success:"Field type successfully updated"}},fields:{"new":{title:"New field"},edit:{title:"Field settings"},create:{success:"Field successfully created"},destroy:{success:"Field successfully deleted"},form:{delete_title:"Delete Field",delete_description:"Once you delete this field, there is no going back. Please be certain.",delete_button:"Delete Field","new":"New field",label:"Field label",label_description:"This will be the field's title...",type:"Type",type_description:"Date, short text, selection, checklist\u2026 What do you want to add to this phase?",settings:"Field settings",required:"This field is required",editable:"This field is editable on other phases",due_date:"This field must be used for due date",description:"Description",description_description:"Explain with a few words what should be informed in this field.",help:"Help text",help_description:"Give your users further information and tips about this field.",preview:"Preview",preview_description:"Check how the help text will be shown on your cards.",options:"Options",options_description:"Add the options, one per line, for these field types: select, radio or checklist.",go_to_phase_settings:"go to phase settings",database_table:"Table",database_table_description:"Select the table which the field will show the records",can_have_multiple_database_records:{label:"Number of entries","false":{label:"Single entry",sub:"A single database entry can be related to a card."},"true":{label:"Multiple entries",sub:"Multiple entries from your database can be related to your cards."}},database_field_layout:{label:"Field function",
only_create:{label:"Create database records",sub:"You can only create new records on your database using this field."},only_search:{label:"Search database records",sub:"You can only search among the existing records on your database using this field."},search_and_create:{label:"Search and create database records",sub:"You can search among the existing records of your database and create new ones with this field."}}},update:{success:"Field successfully updated"}},automated_message_setups:{"new":{title:"New e-mail template"},edit:{title:"E-mail template settings"},create:{success:"E-mail template successfully configured"},destroy:{success:"E-mail template configuration successfully deleted"},update:{success:"E-mail template successfully updated"},form:{email_template:"E-mail template",handlebars_completion:"Generate dynamic content",handlebars_completion_description:"","new":"New e-mail template configuration",from_name:"Sender name",from_name_description:"What's the name of the person sending this e-mail?",from_email:"Sender e-mail",from_email_description:"What's the e-mail address of the person sending this e-mail?",to_email:"Receiver e-mail",to_email_description:"What are the e-mail addresses of the people you're sending this message to? (comma separated)",settings:"Settings",go_to_phase_settings:"go to phase settings",delete_title:"Delete E-mail Template",delete_description:"Once you delete this e-mail template, there is no going back. Please be certain.",delete_button:"Delete E-mail Template"}},email_templates:{"new":{title:"New e-mail template"},edit:{title:"E-mail template settings"},handlebars_completion:{entity:"Entity",entity_description:"",property:"Property",property_description:"",completion:"Handlebars",completion_description:"Copy and paste this where you'd like the selected property value to appear"},form:{handlebars_completion:"Generate dynamic content",handlebars_completion_description:"","new":"New e-mail template",name:"Name",name_description:"Inform a name to identify your e-mail template",subject:"Subject",subject_description:"This will be the subject for all the e-mails you send using this template",body:"Content",body_description:"Here goes your e-mail's content",markdown_help:"Need help formatting your text with markdown? Check out these instructions.",go_to_pipe_settings:"go to pipe settings",preview:"Preview",delete_title:"Delete E-mail Template",delete_description:"Once you delete this e-mail template, there is no going back. Please be certain.",delete_button:"Delete E-mail Template"},create:{success:"E-mail template successfully created"},update:{success:"E-mail template successfully updated"},destroy:{success:"E-mail template successfully deleted"}},labels:{"new":{title:"New label"},edit:{title:"Label settings"},create:{success:"Label successfully created."},destroy:{success:"Label successfully deleted."},update:{success:"Label successfully updated."},form:{"new":"New label",label_settings:"Label Settings",color:"Color",color_description:"This color will be used to mark cards with this label. Avoid creating labels with similar colors.",name:"Name",name_description:"Choose a name for your label",go_to_pipe_settings:"go to pipe settings",delete_title:"Delete Label",delete_description:"Once you delete this label, there is no going back. Please be certain.",delete_button:"Delete Label"}},organizations:{create:{success:"Organization successfully created"},current:{success:"Organization's statistics successfully updated",fail:"Sorry, something went wrong, we could not update your organization's statistics"},destroy:{success:"Organization successfully deleted"},empty:{title:"You don't have any organization yet",details:"Let's create one and start to work, it's easy!",create_first_organization:"Create your first organization"},form:{name:"Organization name",name_description:"Your awesome organization's name goes here!",locale:"Language",locale_description:"This languange will be used for all users invited to this organization",members:"Members",members_description:"Who can access this organization?",add_user:"Add user",other_settings:"Settings",only_admin_can_invite_users:"Only admin can invite users to this org",only_admin_can_create_pipes:"Only admin can create pipes in this org",single_sign_on:"Single Sign-on",force_omniauth_to_normal_users:"Require this organization's users login with Google",delete_title:"Delete Organization",delete_description:"Once you delete your organization, there is no going back. Please be certain.",delete_button:"Delete Organization"},index:{confirm_destroy:"Are you sure that you want to delete this organization?"},"new":{title:"New organization"},edit:{title:"Organization settings"},onboard_new:{setup_organization:"Setup <strong>your organization</strong>",its_simple:"It\u2019s simple and takes less than a minute",name_placeholder:"Organization Name",team_size_placeholder:"Team size"},pipe:{open_cards:{one:"open",other:"open"},done_cards:{one:"done",other:"done"},private_pipe_title:"This pipe is private. The organization's members won't be able to see it unless they're invited",view_pipe:"View this pipe",join_pipe:"Join this pipe",leave_pipe:"Leave this pipe",invite_member:"Invite team member",metrics:"Metrics",reports:"Reports",settings:"Settings",duplicate:"Duplicate this pipe","delete":"Delete this pipe"},show:{create_card:"Create card",invite_members:"Invite team members",joined_pipes:"Joined pipes",unjoined_pipes:"Unjoined pipes",create_new_pipe:"Add new pipe",pipe_create_call_to_action:"Add a new process to your organization",import_template:{title:"Import free template",description:"Free templates, developed based on the market\u2019s best practices."},filter_description:"Select a time period to filter your pipe's numbers",filters:{today:"Today",yesterday:"Yesterday",this_week:"This week",last_week:"Last week",this_month:"This month",last_month:"Last month",all_time:"All time",custom:"Custom",custom_modal:{to:"to",apply:"Apply"}}},update:{success:"Organization successfully updated"},user:{assigned_cards:"assigned",doing_cards:"doing",moved_cards:"moved"}},passwords:{create:{complete_registration:"You haven't completed your registration yet, please complete it and you'll be ready to go!",new_invitation_sent:"This e-mail was already invited to be part of a Pipefy organization. We\u2019ll resend the invitation, please check your inbox and follow the instructions for signing in."}},phases:{"new":{title:"New phase"},create:{success:"Phases successfully created"},destroy:{success:"Phases successfully deleted"},edit:{start_form_title:"Start form settings",title:"Phase settings"},form:{start_form:"Start form","new":"New phase",start_form_settings:"Start Form Settings",start_form_description:"What do you want users to inform when creating a card in your pipe?",phase_settings:"Phase Settings",name:"Phase name",name_description:"We don't need to explain this, do we?",start_form_fields_description:"What do you want users to inform when creating a card?",phase_fields_description:"What do you want users to inform you in this phase?",create_new_field:"Create a new field",done:"This phase is an end of process",advanced_options:"Advanced Options",assigned:"Assigned",assigned_description:"Want this phase to always be automatically assigned to an user? Pick who to assign it to.",card_title:"Card title",card_title_description:"Define which field will be used as the card's title.",pipe_connections:"Pipe connections",pipe_connections_description:"Connect your pipe to share & relate cards with other processes.",create_new_pipe_connection:"Create a new pipe connection",automated_message_setups:"E-mail templates",automated_message_setups_description:"Configure custom e-mail messages to send manually or when certain phase movements occur.",create_new_automated_message_setup:"Configure new e-mail template",description:"Description",description_description:"Add a text description for each phase to be shown in your pipe.",late_alert:"Late alert",late_alert_description:"Define a maximum time (SLA) for a card to stay in this phase.",action_buttons:"Action buttons",action_buttons_description:"Choose which phases your cards can be moved to (like skipping a step or jumping straight to the end).",go_to_pipe:"go to pipe",go_to_pipe_settings:"go to pipe settings",only_admin_can_move_to_previous:"Only admin users can move cards from this phase to the previous phase",public_form:"Share this form",public_form_url:"Public URL",public_form_embed_code:"Embed code",email_inbox:"E-mail Inbox",email_inbox_description:"Create cards through received e-mails",email_address:"E-mail address",email_setup:"Setup your fields",email_from_name_field:"Sender name",dont_have_short_text:"You don't have any short text field to receive this data",add_short_text:"Add a new short text field",email_from_address_field:"Sender e-mail address",dont_have_email:"You don't have any e-mail field to receive this data",add_email:"Add a new e-mail field",email_subject_field:"Subject",dont_have_long_text:"You do not have any long text field to receive this data",add_long_text:"Add a new long text field",email_body_field:"Body",email_attachment_field:"Attachments",dont_have_attachment:"You do not have any attachment field to receive this data",add_attachment:"Add a new attachment field",delete_title:"Delete Phase",delete_description:"Once you delete this phase, there is no going back. Please be certain.",delete_button:"Delete Phase"},update:{success:"Phase successfully updated"}},pipe_connections:{"new":{title:"New pipe connection"},edit:{title:"Pipe connection settings"},create:{success:"Pipe connection successfully created"},destroy:{success:"Pipe connection successfully deleted"},form:{pipe:"Pipe",pipe_description:"The pipe you want users to create connected cards with",settings:"Pipe connection settings",create_manually:"Allow connected cards to be created manually",required_connected_cards_creation_to_move:"One or more connected cards must be created for this card to move to the next phase",required_connected_cards_finish_to_move:"All connected cards must be done before moving this card to the next phase",required_connected_cards_creation_to_finish:"Creating connected cards is a requirement for the parent card to be done",required_connected_cards_finish_to_finish:"All connected cards originated from this pipe must be done before the parent card can be done",go_to_phase_settings:"go to phase settings",delete_title:"Delete Pipe Connection",delete_description:"Once you delete this pipe connection, there is no going back. Please be certain.",delete_button:"Delete Pipe Connection"},update:{success:"Pipe connection successfully updated"}},pipes:{"new":{title:"New pipe"},clone:{success:"Pipe successfully imported",no_current_organization:"You don't have an organization selected, plese select one and try again"},create:{success:"Pipe successfully created"},destroy:{success:"Pipe successfully deleted"},edit_permissions:{admin_members:"Admin members",admin_members_description:"Who can edit this pipe's settings?",worker_members:"Worker members",worker_members_description:"Who can create, open, edit and delete cards on this pipe?",creator_members:"Creator members",creator_members_description:"Who can create cards on this pipe?",go_to_pipe_settings:"go to pipe settings"},filter_modal:{title:"Filter cards",button:"Filter cards",by_label:"BY LABEL",by_title:"Filter by card title",dont_have_label:"You haven't created any labels",by_member:"BY MEMBER",dont_have_member:"You haven't added any members to your pipe",clear:"Clear filter"},form:{"new":"New pipe",clone_to:"clone to",pipe_settings:"Pipe Settings",other_settings:"Settings",only_assignees_can_edit_cards:"Only assignees and admin users are allowed to edit cards on this pipe",only_admin_can_remove_cards:"Only admin users are allowed to delete cards on this pipe","public":"This pipe is public for all organization's members",name:"Name",name_description:"The name of your process. Inside it, the tasks - called cards - will move laterally through multiple phases, until they are finished.",start_form:"Start form",start_form_description:"What do you want users to inform when creating a card in your pipe?",setup_start_form:"Setup your start form",phases_description:"Buy the necessary ingredients, cook and serve... Add your process' steps!",email_templates_description:"These are the e-mails you can send directly from cards on this pipe",create_phase:"Create new phase",create_email_template:"Create new e-mail template",members:"Members",members_description:"Everyone that can create cards and view the information inside your Pipe.",add_member:"Add team member",labels:"Labels",labels_description:"Use colored labels to identify different types of cards. Edit as you wish!",create_label:"Create new label",advanced_options:"Advanced Options",expired:"Expired alert",expired_description:"Define a maximum time (SLA) for a card to be finished in this pipe.",go_to_pipe:"go to pipe",delete_title:"Delete Pipe",delete_description:"Once you delete your process definition, there is no going back. Please be certain.",delete_button:"Delete Pipe"},update:{success:"Pipe successfully updated"},update_permissions:{success:"Pipe successfully updated"},edit:{title:"Pipe settings",new_phase:"add phase"},show:{"export":"export",metrics:"metrics",reports:"reports",manage:"manage",add_members:"add team members",filter:"filter",filter_on:"filtering is on",clear_filter:"Clear filter",join_pipe_title:"You haven't joined this pipe yet",join_pipe_subtitle:"Join it to view and edit the cards content",join_pipe_button:"Join this pipe",click_here:'Se estiver demorando muito, por favor <a href="%{url}">clique aqui</a> para verificar novamente.',title:"Just a minute<strong>Your <span>pipe</span> is being created</strong>"},show_cloning:{title:"Just a minute<strong>Your <span>pipe</span> is being created</strong>",click_here:'If this is taking too long, please <a href="%{url}">click here</a> to check it again.'},start_form:{create_card_on_cloning_pipe:"This pipe is being cloned, you can't create cards on it yet."}},pipe_clones:{show:{title:"Just a minute<strong>Your <span>pipe</span> is being created</strong>",error_message:'There was an error cloning this pipe <a href="%{url}">click here</a> to go back to the pipe\'s page.'},show_cloning:{title:"Just a minute<strong>Your <span>pipe</span> is being created</strong>",click_here:'If this is taking too long, please <a href="%{url}">click here</a> to check it again.'}},registration_industries:{general:{title:"Dozens of <strong>free templates</strong> based on the market's best practices",subtitle:"Choose one of the options below to get started:"},index:{title:"Run all your processes in <strong>just one place</strong>",subtitle:"Create your first process to learn how Pipefy works. Choose a template from our directory's categories:",marketing_and_sales:"Marketing & Sales",it:"IT",operations:"Operations",human_resources:"Human Resources"},show:{marketing:[{id:814,title:"Sales Pipeline",description:"A simple \u2013 but complete \u2013 step-by-step process, specially designed to help you run and track all the stages of your Sales Pipeline!"},{id:1465,title:"Content Marketing",description:"Easily follow your content marketing and lead nurturing processes with this complete, step-by-step template!"},{id:1466,title:"Marketing Requests",description:"Step-by-step process for internal marketing requests management \u2013  campaigns, e-mail marketing, among others!"},{id:592,title:"Task Management with Kanban",description:"Enhance your teamwork \u2013 and be more effective \u2013 through better management of your weekly tasks and goals!"}],it:[{id:726,title:"Agile Software Development",description:"A process based on the best practices of Scrum and Agile Software Development!"},{id:794,title:"Bug Tracking",description:"A template focused on helping your team properly track and prioritize your bug fixing!"},{id:1817,title:"IT Service Desk",description:"Simple step-by-step process focused on creating, managing and tracking all the tickets created for the IT department!"},{id:792,title:"Product Roadmap",description:"Learn how to prioritize your features and improvements and to better manage your product roadmap!"}],operations:[{id:592,title:"Task Management with Kanban",description:"Enhance your teamwork \u2013 and be more effective \u2013 through better management of your weekly tasks and goals!"},{id:831,title:"Purchase Process",description:"A step-by-step workflow for efficient procurement teams! Leave e-mails and spreadsheet requisitions in the past!"},{id:933,title:"Reimbursement of Expenses",description:"A process designed to help you centralize your team\u2019s expense reporting and coordinate reimbursements."},{id:1594,title:"Customer Helpdesk",description:"A template designed to help you have better customer service by easily managing your tickets and requisitions!!"}],human_resources:[{id:912,title:"Staff Recruitment",description:"Hire the best candidates by following this step-by-step process based on selection processes' best practices!"},{id:913,title:"Candidates Screening & Interviews",description:"Boost your Staff Recruitment with this step-by-step process for screening and interviewing your candidates!"},{id:1472,title:"HR Requests",description:"Organized process developed for receiving and tracking all requisitions made to HR teams."},{id:1469,title:"Vacation Request",description:"A simple step-by-step process designed for your team to request and schedule vacations."}]}},registrations:{general:{create_account:"Create your free account",setup_profile:"Setup your profile",setup_organization:"Setup your organization",terms:'By signing up, you agree to the <a href="http://www.pipefy.com/use-terms/" target="_blank">Terms of Service</a> and <a href="http://www.pipefy.com/privacy-policy" target="_blank">Privacy Policy</a>, including Cookie Use.'},new_form:{create_account:"Create your <strong>free account</strong>",its_simple:"It\u2019s simple and takes less than a minute",email_description:"Your work e-mail",password_description:"Your password"},create:{invitation_not_accepted_yet:"This e-mail was already invited to be part of a Pipefy organization. We\u2019ll resend the invitation, please check your inbox and follow the instructions for signing in."},edit:{about_you:"More <strong>about you</strong>",its_simple:"It\u2019s simple, takes less than a minute",name_description:"Your full name",phone_description:"Your phone (complete with country code)"}},reports:{index:{export_report:"Export Report",edit_report:"Edit Report",created_by:"Created by",updated_at:"Updated at",create_new_report:"Create new report"},"new":{new_report:"New report",save:"Save report","export":"Export report",create:"Save report"},show:{save:"Save report","export":"Export report"},title:"Reports",cards:"cards",create_modal_header:"Type the name of your new report",edit_name_header:"Edit report name",general_attributes:"General",saved:"Your report was successfully saved",not_saved:"Your report couldn't be saved",export_success:"You will be e-mailed a CSV with this report data",export_complete_subject:"Your report was successfully exported",export_ready_download:"Your CSV export of %{pipe} is ready to be downloaded",report_name:"Name"},users:{auth_token:{invalid_password:"The password you typed is incorrect, please try again"},create:{success:"User successfully created"},destroy:{success:"User successfully deleted"},edit:{title:"User Settings",change_avatar:"Create or Edit your avatar at",email_notification_enabled:"I want to receive e-mail notifications",confirm:"You will be logged out after destroy the user. Are you sure you want to delete this user?",auth_token_description:"Copy this to the tool you want to integrate with Pipefy",show_auth_token:"Show API key",notifications:"Notifications",delete_title:"Delete Account",delete_description:"Once you delete your account, there is no going back. Please be certain.",delete_button:"Delete Account"},update:{success:"User successfully updated"}},user_settings:{title:"User Settings",notifications:{title:"Notifications"},user_notification_preferences:{title:"Email Notifications"},user_pipe_notification_preferences:{title:"Custom Notifications"},update:{success:"Settings updated."}},notification_preferences:{email_me_when:"Email me when:",disabled:"Every email notification is disabled. You will not recieve any e-mail from Pipefy",added_or_mention:"When i get added to a Pipe or Organization or mentioned/assigned to a Card",card_moved_expired_or_late:"When a card is moved, expires, becomes late or overdue",card_comment_or_checklist_created:"When a new comment or checklist is created"},welcome:{play_video:"PLAY VIDEO",next_step:"Next step",replay_video:"or play the video again...",skip_video:"Skip this video",skip_step:"Skip this step",its_simple:"It\u2019s simple, takes less than a minute",invite_members:{title:"Invite your <b>team members</b>",email_placeholder:"Enter member e-mail",add_field:"Add another e-mail"},index:{slide1:{title:"Welcome aboard!",details:"With Pipefy you\u2019ll be able to organize and run all your processes in one place - without any help from IT guys or consultants. This is your dashboard:"},slide2:{title:"How Pipefy works?",details:"<b>Processes are called Pipes:</b> Inside them, the tasks - called cards - move laterally through multiple phases until they get to the end, to be marked as done.",card:"Card",pipe:"Pipe"},slide3:{title:"How can you create a card?",details:'<b>To create a card in a pipe, fill a start form.</b> Ex: to request the purchase of a new laptop, John fills the start form on "Purchase Process" informing he needs a new laptop.'},slide4:{title:"Pipe: your process seen as a production line!",details:"Then, the card will be added to the Pipe at its first phase and will follow all the steps of your process."},slide5:{title:"Foolproof workflow",details:"On each phase, you will find two main sets of information:"},slide6:{title:"Guide your team through each step",details:"Structure your process by adding detailed instructions to be followed in each phase"},done:"I\u2019m done, take me to my dashboard!"},congrats_modal:{title:"Congratulations!",description:"You\u2019ve just created <br/>your first process.",button:"Try it!"},how_it_works:{title:"The tasks are called cards",call_to_action:"Click and open your card",call_to_action_description:"to discover what has to be done in this phase."},finish:{title:"First step: Create your first process",details:"What\u2019s the secret of sucessful execution teams? They create and follow specific processes to help guiding them. This is how they guarantee that everything is always done right and efficiently.<br><br>Now it's your turn, choose one template to get started:",sales:{title:"Marketing / Sales",items:[{title:"Sales Pipeline",pipe_id:814},{title:"Content Marketing",pipe_id:1465},{title:"Marketing Requests",pipe_id:1466},{title:"Task Management with Kanban",pipe_id:592}]},it:{title:"IT / Software",items:[{title:"Agile Software Development",pipe_id:726},{title:"Bug Tracking",pipe_id:794},{title:"Product Roadmap",pipe_id:792}]},human_resources:{title:"Human Resources",items:[{title:"Staff Recruitment",pipe_id:912},{title:"Candidates Screening & Interviews",pipe_id:913},{title:"HR Requests",pipe_id:1472},{title:"Vacation Request",pipe_id:1469}]},management:{title:"Operations",items:[{title:"Task Management with Kanban",pipe_id:592},{title:"Purchase Process",pipe_id:831},{title:"Reimbursement of Expenses",pipe_id:933},{title:"Customer Helpdesk",pipe_id:1594}]}}},organization_seeder:{pipe_name:"Sales Pipeline (sample)",phases:{form:{name:"Form"},first_contact:{name:"First Contact",description:"Here is where you add the opportunities you created. Get in touch!"},meeting_arranged:{name:"Meeting Arranged",description:"How hot is this opportunity? Qualify the deal and the customer's needs."},needs_discovered:{name:"Needs Discovered",description:"Show time! Create and present the best proposal!"},proposal_delivered:{name:"Proposal Delivered",description:"Make the deal happen! It's time to follow-up and negotiate."},won:{name:"Won",description:"Congratulations!"},lost:{name:"Lost",description:"Rest in peace..."}},fields:{form:{instructions:{name:"Instructions",description:"Everything begins with the launchpad. You create a start form like this for each pipe so your team will always have to fill it before creating a task. For a sales pipeline this, it must contain all the basic information about the new lead you'll need to start a negotiation."},name:{name:"Name",description:"Customer's first name! Ex: John"},company:{name:"Company",description:"Ex: ABC Company"},email:{name:"E-mail",description:"customeremail@domain.com"},phone:{name:"Phone"},more_details:{name:"More details",description:"Do you have other details to share? Add them here."}},first_contact:{instructions:{name:"Instructions",description:'Here is how your pipe works. On the left you\'ll see all the information filled in the start form and everything you must know. On the right, what\u2019s expected from you in this phase. PS: You can add instructions for your team members, just like we did here. After all the fields are filled, move this card to "Meeting arranged"...'},about:{name:"About the call",description:"How was the call? Add here any further details about the customer and his needs."},date:{name:"Date",description:"Meeting scheduled for..."},time:{name:"Time",description:"Ex: 6 pm."},where:{name:"Where?",options:{opt1:"At our office",opt2:"At the client's office",opt3:"Skype call"}},more_details:{name:"More details about the next meeting",description:"What's the meeting's agenda? Something you need to organize? Anyone else coming with you?"}},meeting_arranged:{needs:{name:"What are the customer's needs?",description:"Who is your customer? What are his/her needs?"},purchaser_of:{name:"Potential purchaser of",description:"Please check the services/products you're planning to offer this customer.",options:{opt1:"Service A",opt2:"Service B",opt3:"Service C",opt4:"Support",opt5:"Maintenance",opt6:"Product Z"}},have_budget:{name:"Does this customer have a budget?",options:{opt1:"yes",opt2:"no",opt3:"not clear"}},size:{name:"Company size",description:"How big is this deal?",options:{opt1:"Small",opt2:"Medium",opt3:"Large"}},next_steps:{name:"What are the next steps of this process?",options:{opt1:"Send samples",opt2:"Create proposal",opt3:"Wait for the customer's decision",opt4:"Discover deeper/more specific needs"}}},needs_discovered:{send:{name:"Send samples?",options:{opt1:!0,opt2:!1}},reference:{name:"Ask the customer for references?",options:{opt1:!0,opt2:!1}},decision_person:{name:"Who is the decision maker?",description:"Always sell your product/service directly to the person with need, resources and decision-making power."},expected_close:{name:"Expected closing date"},sent_on:{name:"Proposal sent on"},more_details:{name:"More details"},quality:{name:"Quality checklist",options:{opt1:"Add contact to Salesforce",opt2:"Create customer's folder on dropbox",opt3:"Add the sent proposal to the dropbox folder",opt4:"Run a background check on the customer's financial condition"}},follow_up:{name:"Follow-up on"}},proposal_delivered:{instructions:{name:"Instructions",description:"The follow-up process is the most important part of your job. Create urgency, push the client, help him decide by asking for his questions and concerns. After 30 days of unsuccessful negotiation, consider the deal lost."},more_details:{name:"More details"}}}},pipe_seeder:{start_form:{name:"Start form",field:"What?"},inbox:{name:"Inbox",description:"Here comes all the tasks people created in this pipe."},doing:{name:"Doing",description:"Show time! Here comes the tasks people are currently working on."},done:{name:"Done",description:"Rest in peace\u2026 Here are all your finished tasks."}},views:{automated_messages:{title:"Sent messages"},cards:{checklists_tab:{create_checklist_button:"Create new checklist"},item:{horizontal_drag_error:"You can't drag and drop this card because it has required fields. Fill them and use the action buttons to the card between phases! =)"},connected_cards:{title:"Connected cards",cannot_open:"Sorry, you're not able to open this card"},edit:{destroy_success:"Card successfully deleted",destroy_error:"You don't have permission to delete cards in this pipe, please contact you organization admin",message_sent:"Message successfully sent",view_database_record:"View %{title} record"},details:{add_label:"add label",closed_by_move:"This card was moved to the phase %{phase_name}.",reload_card:"Reload card",click_to_edit:"Click to edit",new_record:"Add %{query} as a new record",empty_new_record:"Add a new record",select_record:"Select a record"}},comments:{title:"Comments"},checklists:{title:"Checklists"},database_tables:{search_in:"Search in %{in}"},launchpad_form:{create_success:"Card successfully created!",close_confirm_text:"You'll lose all the information you filled in this card",close_confirm_button:"Close it anyway"},pipes:{onboard:{title:"<h2>This is your pipe!</h2><p>In your process, the tasks - called cards - will move laterally through multiple phases until they get finished.</p>",phase:"<h2>Phases</h2><p>Each phase requires different things to be done, and every card that passes through them must follow its specific rules."}},public_form:{create_card_label:"Send",reload_button_text:"Create another response",success_message:"Submission <strong>successfully</strong> received"},fields:{edit:{confirmation_text:"If you change the field type, you'll lose all the values set for it on your cards.",confirmation_button:"Yes, change it"}}},templates:{automated_messages:{sent_at:"Sent at"},card_field_components:{help:"Help",learn_more:"learn more"},pipes:{more_phases:"Need more phases?",pimp_your_pipe:"Pimp your pipe... You can add as many phases as you need!",create_phase:"create phase"},phases:{card_not_created:"Next step: Create a card and move it forward to find out what you have to do in each phase!",create_card:"add new card",edit_phase:"Edit this phase"},launchpad:{title:"Launchpad",all:"All"},launchpad_form:{title:"Create new card on",edit_form:"Edit this form",create_card:"Create card"},cards:{send_message:"Send message",expired_short:"EXP",late_short:"LATE",start:"START",done:"DONE",total:"TOTAL",parent_title:"Parent:",go_to_card:"Go to card",back_to:"back to",move_to:"move to",add_member:"assign user",add_more:"add more",add:"Add",checklist:"Checklist",add_connected_card:"Connected cards","new":"New",expired:"EXPIRED",late:"LATE",add_fields_description:"You didn't add any standard fields to this phase yet. Build your workflow to suit your needs!",add_fields:"add fields",more:"more...",destroy:"Delete",info_tab:"Information",checklists_tab:"Checklists",parent_info_tab:"Parent Information",create_connected_card:"create connected card",write_comment:"Write a comment",post_comment:"post comment",due:"DUE",parent_info_title:"Parent Information",this_info_title:"Information",now_on:"Now on",what_happened:"What happened on",connected_with:"This card is connected to",previous_phases:"Previous phases"},card_phase_detail:{start_form:"Start form"}},utils:{delete_description:"You won't be able to recover this information or any of its dependencies!",delete_confirmation:"Yes, delete it!"},add:"Add",and:"and",turn_on:"Turn On",turn_off:"Turn Off",app_description:"The easiest way to manage your business processes and routines",back:"back",cancel:"cancel",card:"card",clone_name:"%{new_name} (copy %{index})",connect_with_google:"Connect with Google",confirm_sentence:"Are you sure?",created_at:"created at",create_card:"create card",create_your_account:"Create your free account now",database:"database",dashboard:"dashboard",destroy:"delete",done:"done",done_card:"done card",draft:"Draft",duration:"duration",edit:"edit",enabled:"enabled",disabled:"disabled",english:"English (UK)",english_us:"English (United States)",expired:"expired",forgot_password:"Forgot your password?",getting_started:"Help",help:"Help",home_page:"home",invitation_button_description:"invite user",invitation_mail_placeholder:"Ex: steve@pipefy.com, kanye.west@pipefy.com",invitation_header:"Invite team member",invitation_send:"Invite team member",invitation_single_success_message:'The user "%{username}" was added to your team members',invitation_multiple_success_message:"Your invites were sent",invitations_email_label:"E-mail addresses or usernames",invitations_email_hint:"You can enter <strong>multiple e-mail addresses</strong> separated by commas",
invitations_billing_disclaimer:"You will be charged on your next invoice.",invitations_billing_faq_url:"http://www.pipefy.com/help/billing-faq",invitations_billing_faq_link_text:"See our billing FAQ",label:"label",late:"late",lead_time:"lead time",loading:"loading...",logout:"logout",name:"name",next:"next",next_step:"Next step","new":"new",no_name:"(no name)",none:"none",ok:"OK",or:"or",on_preposition:"on",on_time:"on time",open_card:"open card",organization:"organization",password:"Password",phase:"phase",pipe:"pipe",portuguese:"Portuguese",save:"save",saved:"saved",send:"send",sign_in:"Sign in",short_config:"Config",show:"show",started_at:"started at",total:"total",update:"update",what:"What?",when:"When?",where:"Where?",who:"Who?",which_phase:"Which phase?",leadtime:"Leadtime",remove_org_user_confirmation:"This will remove this user from this organization and all of its pipes, phases and cards.",remove_pipe_user_confirmation:"This will remove this user from this pipe and all of its phases and cards.",title:"title",to_search:"search",search:"search",search_for:"search for","default":"Default",custom:"Custom",metrics:{title:"Pipe metrics",cumulative_flow:"Cumulative Flow",phases_total:"Phases Total",happening_now:"Happening now",productivity_report:"Productivity Report",this_period:"This period",lifetime:"Lifetime",today:"Today",yesterday:"Yesterday",current_week:"Current week",last_week:"Last week",current_month:"Current month",last_month:"Last month",current_year:"Current year"},database_field_types:{long_text:"Long text",short_text:"Short text",integer_number:"Integer number",decimal_number:"Decimal number",currency_number:"Currency number","boolean":"Checkbox",date:"Date",datetime:"Datetime",time:"Time",select:"Select",phone:"Phone",database_lookup:"Database lookup",vertical_radio:"Vertical radio",horizontal_radio:"Horizontal radio",vertical_checklist:"Vertical checklist",horizontal_checklist:"Horizontal checklist"},database_field_validations:{none:"None",email:"E-mail",custom:"Custom"},selectpicker:{nothing_selected:"Choose an option",no_results:"No results match",count:"{0} of {1} selected"},organization_industry:{operations:"Operations",marketing:"Marketing",it:"IT / Software development",human_resources:"Human resources"},role_descriptions:{admin:"admin",normal:"normal",worker:"worker",creator:"creator"},menu:{user_profile:"Profile",user_notification:"Notifications"},date:{abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],formats:{"default":"%m/%d/%Y","long":"%B %d, %Y","short":"%b %d"},month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],order:["month","day","year"]},datetime:{distance_in_words:{about_x_hours:{one:"about 1 hour",other:"about %{count} hours"},about_x_months:{one:"about 1 month",other:"about %{count} months"},about_x_years:{one:"about 1 year",other:"about %{count} years"},almost_x_years:{one:"almost 1 year",other:"almost %{count} years"},half_a_minute:"half a minute",less_than_x_minutes:{one:"less than a minute",other:"less than %{count} minutes"},less_than_x_seconds:{one:"less than 1 second",other:"less than %{count} seconds"},over_x_years:{one:"over 1 year",other:"over %{count} years"},x_days:{one:"1 day",other:"%{count} days"},x_minutes:{one:"1 minute",other:"%{count} minutes"},x_months:{one:"1 month",other:"%{count} months"},x_seconds:{one:"1 second",other:"%{count} seconds"}},prompts:{day:"Day",hour:"Hour",minute:"Minute",month:"Month",second:"Seconds",year:"Year"}},helpers:{select:{prompt:"Please select"},submit:{create:"Create %{model}",submit:"Save %{model}",update:"Update %{model}"}},number:{currency:{format:{delimiter:",",format:"%u%n",precision:2,separator:".",significant:!1,strip_insignificant_zeros:!1,unit:"$"}},format:{delimiter:",",precision:3,separator:".",significant:!1,strip_insignificant_zeros:!1},human:{decimal_units:{format:"%n %u",units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},format:{delimiter:"",precision:3,significant:!0,strip_insignificant_zeros:!0},storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},gb:"GB",kb:"KB",mb:"MB",tb:"TB"}}},percentage:{format:{delimiter:"",format:"%n%"}},precision:{format:{delimiter:""}}},support:{array:{last_word_connector:", and ",two_words_connector:" and ",words_connector:", "}}},en:{date:{formats:{"default":"%Y/%m/%d","short":"%b %d","long":"%B %d, %Y"},day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],order:["year","month","day"]},time:{formats:{"default":"%a, %d %b %Y %H:%M:%S %z","short":"%d %b %H:%M","long":"%B %d, %Y %H:%M",complete_short:"%d/%m/%Y %H:%M",two_digits_day_only:"%-d",two_digits_month_only:"%m",date_for_comments:"%b%e",hour_for_comments:"%I:%M %P"},am:"am",pm:"pm","short":{minutes:"min",hours:"h",days:"d",months:"mon"},"long":{minutes:"MIN",hours:"HRS",days:"DAYS",months:"MON"}},support:{array:{words_connector:", ",two_words_connector:" and ",last_word_connector:", and "}},number:{format:{separator:".",delimiter:",",precision:3,significant:!1,strip_insignificant_zeros:!1},currency:{format:{format:"%u%n",unit:"$",separator:".",delimiter:",",precision:2,significant:!1,strip_insignificant_zeros:!1}},percentage:{format:{delimiter:"",format:"%n%"}},precision:{format:{delimiter:""}},human:{format:{delimiter:"",precision:3,significant:!0,strip_insignificant_zeros:!0},storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB",tb:"TB"}},decimal_units:{format:"%n %u",units:{unit:"",thousand:"Thousand",million:"Million",billion:"Billion",trillion:"Trillion",quadrillion:"Quadrillion"}}}},errors:{format:"%{attribute} %{message}",messages:{inclusion:"is not included in the list",exclusion:"is reserved",invalid:"is invalid",confirmation:"doesn't match %{attribute}",accepted:"must be accepted",empty:"can't be empty",blank:"can't be blank",present:"must be blank",too_long:{one:"is too long (maximum is 1 character)",other:"is too long (maximum is %{count} characters)"},too_short:{one:"is too short (minimum is 1 character)",other:"is too short (minimum is %{count} characters)"},wrong_length:{one:"is the wrong length (should be 1 character)",other:"is the wrong length (should be %{count} characters)"},not_a_number:"is not a number",not_an_integer:"must be an integer",greater_than:"must be greater than %{count}",greater_than_or_equal_to:"must be greater than or equal to %{count}",equal_to:"must be equal to %{count}",less_than:"must be less than %{count}",less_than_or_equal_to:"must be less than or equal to %{count}",other_than:"must be other than %{count}",odd:"must be odd",even:"must be even",taken:"has already been taken",already_confirmed:"was already confirmed, please try signing in",confirmation_period_expired:"needs to be confirmed within %{period}, please request a new one",expired:"has expired, please request a new one",not_found:"not found",not_locked:"was not locked",not_saved:{one:"1 error prohibited this %{resource} from being saved:",other:"%{count} errors prohibited this %{resource} from being saved:"},record_invalid:"Validation failed: %{errors}",restrict_dependent_destroy:{one:"Cannot delete record because a dependent %{record} exists",many:"Cannot delete record because dependent %{record} exist"}},401:"You're not authenticated, please relogin on Pipefy.",403:"You're not authorized for this request. Contact your organization admin for more information.",404:"We're sorry, the page you\u2019re looking for doesn\u2019t exist.",422:"The change you requested couldn't be processed.",500:"We're sorry, something went wrong!",template:{body:"There were problems with the following fields:",header:{one:"1 error prohibited this %{model} from being saved",other:"%{count} errors prohibited this %{model} from being saved"}}},activerecord:{errors:{messages:{record_invalid:"Validation failed: %{errors}",restrict_dependent_destroy:{one:"Cannot delete record because a dependent %{record} exists",many:"Cannot delete record because dependent %{record} exist"},invalid_move:"Your card cannot be moved in this direction",invalid_value:"Invalid value",invalid_handlebars:"contains invalid handlebars code"},models:{card_field_value:{attributes:{value:{invalid_format:'"%{value}" is not in a valid format',invalid_option:"is not a valid option"},field:{is_not_in_phase:"is not in the phase %{phase}"}}},card_phase_detail_time_entry:{only_one_finish_nil:"There must only be one opened time entry by card in each phase"},card:{field_error:'Error on field "%{label}": %{field_msg}',required_connected_cards_creation_to_move:'One or more cards connected to "%{pipe_name}" pipe must be created for this card to move to the next phase.',required_connected_cards_finish_to_move:'All cards connected to "%{pipe_name}" pipe must be done before moving this card to the next phase.',required_connected_cards_creation_to_finish:'Creating one or more cards connected to "%{pipe_name}" pipe on "%{phase_name}" phase is a requirement for the parent card to be done.',required_connected_cards_finish_to_finish:'All cards connected to "%{pipe_name}" pipe on "%{phase_name}" phase must be done before the parent card can be done.',required_field:'Field "%{label}" is required! Please fill it and you\'ll be ready to go!',invalid_target_phase:"This card can't be moved to this phase."},database_field:{attributes:{validation:{not_supported:"%{validation} not supported"},type:{not_supported:"%{type} not supported"}},title_field_must_be_required:"The title field must be required"},field:{pipe_title_field:"Error saving pipe title field: %{message}",attributes:{type:{is_not_editable:'"%{type_name}" is not editable'}}},phase_team_membership:{attributes:{user:{not_member_of_pipe:"is not a member of this phase's pipe"}}},pipe_membership:{attributes:{member:{not_member_of_organization:"is not a member of this pipe's organization"}}},pipe:{repeated_email_inbox_field:"You can't use the same field for two or more email inbox mapped fields"},user:{attributes:{username:{invalid:"is invalid! Usernames must contain only numbers, letters, underscore '_' or hyphen '-'"}},force_omniauth_email_change:"You can't change your registered e-mail because you're in an organization that requires you to login with Google."}}},attributes:{card:{assignees:"Assignees",id:"Number",card_id:"ID",created_by:"Creator",current_phase:"Current phase",phase:"Phase",pipe:"Pipe",title:"Title",labels:"Labels",due_date:"Due Date",finished_at:"Finished at",created_at:"Created at"},database_field:{validation:"Validation",type:"Type",options:"Options"},field:{default_value:"Default value",description:"Description",index:"Index",label:"Field label",options:"Options",phase:"Phase",pipe:"Pipe",required:"This field is required",type:"Type",type_id:"Type"},field_type:{component:"Component",name:"Name",validator:"Validator"},automated_message_setup:{from_name:"From name",from_email:"From e-mail",send_manually:"Send manually",send_on_leave_phase:"Send whenever a card leaves this phase",send_on_enter_phase:"Send whenever a card enters this phase"},automated_message:{from_name:"From name",from_email:"From e-mail",automated_message_setup:"E-mail template setup",sent_by:"Sender"},email_template:{name:"Name",subject:"Subject",body:"Content"},organization:{name:"Organization name",billing:"Organization billing e-mail",pipes:"Pipes",users:"Users"},phase:{cards:"Cards",done:"Done",automated_message_setups:"E-mail templates",fields:"Fields",index:"Index",jump_targets:"Action buttons",lateness_time:"Late alert",lateness_time_by_unit:"Late alert",name:"Phase name",pipe:"Pipe",connected_pipes:"Connected pipes",connected_pipe_ids:"Connected pipes",team_members:"Assigned",team_member_ids:"Assigned"},pipe:{form:"Form",name:"Pipe name",email_templates:"E-mail templates",expiration_time:"Expired alert",expiration_time_by_unit:"Expired alert",organization:"Organization",phases:"Phases",members:"Members",member_ids:"Members",title_field:"Card title",title_field_id:"Card title"},pipe_connections:{pipe:"Pipe",pipe_id:"Pipe",required:"Required"},user:{avatar:"Avatar",locale:"Language",login:"Login",email:"E-mail",name:"Name",organization_ids:"Organizations",organizations:"Organizations",password:"Password",password_confirmation:"Password confirmation",username:"Username",authentication_token:"API key"}},models:{card:{one:"card",other:"cards"},card_field_value:{one:"field value",other:"field values"},checklist:{one:"checklist",other:"checklists"},checklist_item:{one:"checklist item",other:"checklist items"},comment:{one:"comment",other:"comments"},field:{one:"field",other:"fields"},field_type:{one:"field type",other:"field types"},organization:{one:"organization",other:"organizations"},phase:{one:"phase",other:"phases"},pipe:{one:"pipe",other:"pipes"},user:{one:"user",other:"users"}}},datetime:{distance_in_words:{half_a_minute:"half a minute",less_than_x_seconds:{one:"less than 1 second",other:"less than %{count} seconds"},x_seconds:{one:"1 second",other:"%{count} seconds"},less_than_x_minutes:{one:"less than a minute",other:"less than %{count} minutes"},x_minutes:{one:"1 minute",other:"%{count} minutes"},about_x_hours:{one:"about 1 hour",other:"about %{count} hours"},x_days:{one:"1 day",other:"%{count} days"},about_x_months:{one:"about 1 month",other:"about %{count} months"},x_months:{one:"1 month",other:"%{count} months"},about_x_years:{one:"about 1 year",other:"about %{count} years"},over_x_years:{one:"over 1 year",other:"over %{count} years"},almost_x_years:{one:"almost 1 year",other:"almost %{count} years"}},prompts:{year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",second:"Seconds"}},helpers:{select:{prompt:"Please select"},submit:{create:"Create %{model}",update:"Update %{model}",submit:"Save %{model}"},page_entries_info:{one_page:{display_entries:{zero:"No %{entry_name} found",one:"Displaying <b>1</b> %{entry_name}",other:"Displaying <b>all %{count}</b> %{entry_name}"}},more_pages:{display_entries:"Displaying %{entry_name} <b>%{first}&nbsp;-&nbsp;%{last}</b> of <b>%{total}</b> in total"}}},mongoid:{errors:{messages:{blank_in_locale:"can't be blank in %{location}",message_title:"message",summary_title:"summary",resolution_title:"resolution",ambiguous_relationship:{message:"Ambiguous relations %{candidates} defined on %{klass}.",summary:"When Mongoid attempts to set an inverse document of a relation in memory, it needs to know which relation it belongs to. When setting %{name}, Mongoid looked on the class %{inverse} for a matching relation, but multiples were found that could potentially match: %{candidates}.",resolution:"On the %{name} relation on %{inverse} you must add an :inverse_of option to specify the exact relationship on %{klass} that is the opposite of %{name}."},callbacks:{message:"Calling %{method} on %{klass} resulted in a false return from a callback.",summary:"If a before callback returns false when using Document.create!, Document#save!, or Document#update_attributes! this error will get raised since the document did not actually get saved.",resolution:"Double check all before callbacks to make sure they are not unintentionally returning false."},calling_document_find_with_nil_is_invalid:{message:"Calling Document.find with nil is invalid.",summary:"Document.find expects the parameters to be 1 or more ids, and will return a single document if 1 id is provided, otherwise an array of documents if multiple ids are provided.",resolution:"Most likely this is caused by passing parameters directly through to the find, and the parameter either is not present or the key from which it is accessed is incorrect."},document_not_destroyed:{message:"%{klass} with id %{id} was not destroyed.",summary:"When calling %{klass}#destroy! and a callback halts the destroy callback chain by returning a false value, the deletion will not actually occur.",resolution:"Check the before/after destroy callbacks to ensure that the return values are truthy for the chain to continue."},document_not_found:{message:"Document(s) not found for class %{klass} with id(s) %{missing}.",summary:"When calling %{klass}.find with an id or array of ids, each parameter must match a document in the database or this error will be raised. The search was for the id(s): %{searched} (%{total} total) and the following ids were not found: %{missing}.",resolution:"Search for an id that is in the database or set the Mongoid.raise_not_found_error configuration option to false, which will cause a nil to be returned instead of raising this error when searching for a single id, or only the matched documents when searching for multiples."},document_with_attributes_not_found:{message:"Document not found for class %{klass} with attributes %{attributes}.",summary:"When calling %{klass}.find_by with a hash of attributes, all attributes provided must match a document in the database or this error will be raised.",resolution:"Search for attributes that are in the database or set the Mongoid.raise_not_found_error configuration option to false, which will cause a nil to be returned instead of raising this error."},eager_load:{message:"Eager loading :%{name} is not supported since it is a polymorphic belongs_to relation.",summary:"Mongoid cannot currently determine the classes it needs to eager load when the relation is polymorphic. The parents reside in different collections so a simple id lookup is not sufficient enough.",resolution:"Don't attempt to perform this action and have patience, maybe this will be supported in the future."},invalid_collection:{message:"Access to the collection for %{klass} is not allowed.",summary:"%{klass}.collection was called, and %{klass} is an embedded document - it resides within the collection of the root document of the hierarchy.",resolution:"For access to the collection that the embedded document is in, use %{klass}#_root.collection, or do not attempt to persist an embedded document without a parent set."},invalid_config_option:{message:"Invalid configuration option: %{name}.",summary:"A invalid configuration option was provided in your mongoid.yml, or a typo is potentially present. The valid configuration options are: %{options}.",resolution:"Remove the invalid option or fix the typo. If you were expecting the option to be there, please consult the following page with repect to Mongoid's configuration:\n\n \xa0\xa0http://mongoid.org/en/mongoid/docs/installation.html"},invalid_field:{message:"Defining a field named '%{name}' is not allowed.",summary:"Defining this field would override the method '%{name}', which would cause issues with expectations around the original method and cause extremely hard to debug issues. The original method was defined in:\n \xa0\xa0Object: %{origin}\n \xa0\xa0File: %{file}\n \xa0\xa0Line: %{line}",resolution:"Use Mongoid.destructive_fields to see what names are not allowed, and don't use these names. These include names that also conflict with core Ruby methods on Object, Module, Enumerable, or included gems that inject methods into these or Mongoid internals."},invalid_field_option:{message:"Invalid option :%{option} provided for field :%{name}.",summary:"Mongoid requires that you only provide valid options on each field definition in order to prevent unexpected behaviour later on.",resolution:"When defining the field :%{name} on '%{klass}', please provide valid options for the field. These are currently: %{valid}. If you meant to define a custom field option, please do so first like so:\n\n \xa0\xa0Mongoid::Fields.option :%{option} do |model, field, value|\n \xa0\xa0\xa0\xa0# Your logic here...\n \xa0\xa0end\n \xa0\xa0class %{klass}\n \xa0\xa0\xa0\xa0include Mongoid::Document\n \xa0\xa0\xa0\xa0field :%{name}, %{option}: true\n \xa0\xa0end\n\n"},invalid_includes:{message:"Invalid includes directive: %{klass}.includes(%{args})",summary:"Eager loading in Mongoid only supports providing arguments to %{klass}.includes that are the names of relations on the %{klass} model, and only supports one level of eager loading. (ie, eager loading associations not on the %{klass} but one step away via another relation is not allowed.",resolution:"Ensure that each parameter passed to %{klass}.includes is a valid name of a relation on the %{klass} model. These are: %{relations}."},invalid_index:{message:"Invalid index specification on %{klass}: %{spec}, %{options}",summary:"Indexes in Mongoid are defined as a hash of field name and direction/2d pairs, with a hash for any additional options.",resolution:"Ensure that the index conforms to the correct syntax and has the correct options.\n\n Valid options are:\n \xa0\xa0background: true|false\n \xa0\xa0database: 'database_name'\n \xa0\xa0drop_dups: true|false\n \xa0\xa0name: 'index_name'\n \xa0\xa0sparse: true|false\n \xa0\xa0unique: true|false\n \xa0\xa0min: 1\n \xa0\xa0max: 1\n \xa0\xa0bits: 26\n \xa0\xa0bucket_size : 1\n \xa0\xa0weights: { content: 1, title: 2 }\n \xa0\xa0expire_after_seconds: number_of_seconds\n Valid types are: 1, -1, '2d', '2dsphere', 'geoHaystack', 'text', 'hashed'\n\n Example:\n \xa0\xa0class Band\n \xa0\xa0\xa0\xa0include Mongoid::Document\n \xa0\xa0\xa0\xa0index({ name: 1, label: -1 }, { sparse: true })\n \xa0\xa0\xa0\xa0index({ location: '2d' }, { background: true })\n \xa0\xa0end\n\n"},invalid_options:{message:"Invalid option :%{invalid} provided to relation :%{name}.",summary:"Mongoid checks the options that are passed to the relation macros to ensure that no ill side effects occur by letting something slip by.",resolution:"Valid options are: %{valid}, make sure these are the ones you are using."},invalid_path:{message:"Having a root path assigned for %{klass} is invalid.",summary:"Mongoid has two different path objects for determining the location of a document in the database, Root and Embedded. This error is raised when an embedded document somehow gets a root path assigned.",resolution:"Most likely your embedded model, %{klass} is also referenced via a has_many from a root document in another collection. Double check the relation definitions and fix any instances where embedded documents are improperly referenced from other collections."},invalid_scope:{message:"Defining a scope of value %{value} on %{klass} is not allowed.",summary:"Scopes in Mongoid must be procs that wrap criteria objects.",resolution:"Change the scope to be a proc wrapped critera.\n\n Example:\n \xa0\xa0class Band\n \xa0\xa0\xa0\xa0include Mongoid::Document\n \xa0\xa0\xa0\xa0scope :inactive, ->{ where(active: false) }\n \xa0\xa0end\n\n"},invalid_storage_options:{message:"Invalid options passed to %{klass}.store_in: %{options}.",summary:"The :store_in macro takes only a hash of parameters with the keys :database, :collection, or :client.",resolution:"Change the options passed to store_in to match the documented API, and ensure all keys in the options hash are symbols.\n\n Example:\n \xa0\xa0class Band\n \xa0\xa0\xa0\xa0include Mongoid::Document\n \xa0\xa0\xa0\xa0store_in collection: 'artists', database: 'secondary'\n \xa0\xa0end\n\n"},invalid_storage_parent:{message:"Invalid store_in call on class %{klass}.",summary:"The :store_in macro can only be called on a base Mongoid Document",resolution:"Remove the store_in call on class %{klass}, as it will use its parent store configuration. Or remove the hierarchy extension for this class."},invalid_time:{message:"'%{value}' is not a valid Time.",summary:"Mongoid tries to serialize the values for Date, DateTime, and Time into proper UTC times to store in the database. The provided value could not be parsed.",resolution:"Make sure to pass parsable values to the field setter for Date, DateTime, and Time objects. When this is a String it needs to be valid for Time.parse. Other objects must be valid to pass to Time.local."},inverse_not_found:{message:"When adding a(n) %{klass} to %{base}#%{name}, Mongoid could not determine the inverse foreign key to set. The attempted key was '%{inverse}'.",summary:"When adding a document to a relation, Mongoid attempts to link the newly added document to the base of the relation in memory, as well as set the foreign key to link them on the database side. In this case Mongoid could not determine what the inverse foreign key was.",resolution:'If an inverse is not required, like a belongs_to or has_and_belongs_to_many, ensure that :inverse_of => nil is set on the relation. If the inverse is needed, most likely the inverse cannot be figured out from the names of the relations and you will need to explicitly tell Mongoid on the relation what the inverse is.\n\n Example:\n \xa0\xa0class Lush\n \xa0\xa0\xa0\xa0include Mongoid::Document\n \xa0\xa0\xa0\xa0has_one :whiskey, class_name: "Drink", inverse_of: :alcoholic\n \xa0\xa0end\n\n \xa0\xa0class Drink\n \xa0\xa0\xa0\xa0include Mongoid::Document\n \xa0\xa0\xa0\xa0belongs_to :alcoholic, class_name: "Lush", inverse_of: :whiskey\n \xa0\xa0end'},invalid_set_polymorphic_relation:{message:"The %{name} attribute can't be set to an instance of %{other_klass} as %{other_klass} has multiple relations referencing %{klass} as %{name}.",summary:"If the parent class of a polymorphic relation has multiple definitions for the same relation, the values must be set from the parent side and not the child side since Mongoid cannot determine from the child side which relation to go in.",resolution:"Set the values from the parent, or redefine the relation with only a single definition in the parent."},invalid_value:{message:"Value of type %{value_class} cannot be written to a field of type %{field_class}",summary:"Tried to set a value of type %{value_class} to a field of type %{field_class}",resolution:"Verify if the value to be set correspond to field definition"},mixed_relations:{message:"Referencing a(n) %{embedded} document from the %{root} document via a relational association is not allowed since the %{embedded} is embedded.",summary:"In order to properly access a(n) %{embedded} from %{root} the reference would need to go through the root document of %{embedded}. In a simple case this would require Mongoid to store an extra foreign key for the root, in more complex cases where %{embedded} is multiple levels deep a key would need to be stored for each parent up the hierarchy.",resolution:"Consider not embedding %{embedded}, or do the key storage and access in a custom manner in the application code."},mixed_client_configuration:{message:"Both uri and standard configuration options defined for client: '%{name}'.",summary:"Instead of simply giving uri or standard options a preference order, Mongoid assumes that you have made a mistake in your configuration and requires that you provide one or the other, but not both. The options that were provided were: %{config}.",resolution:"Provide either only a uri as configuration or only standard options."},nested_attributes_metadata_not_found:{message:"Could not find metadata for relation '%{name}' on model: %{klass}.",summary:"When defining nested attributes for a relation, Mongoid needs to access the metadata for the relation '%{name}' in order if add autosave functionality to it, if applicable. Either no relation named '%{name}' could be found, or the relation had not been defined yet.",resolution:"Make sure that there is a relation defined named '%{name}' on %{klass} or that the relation definition comes before the accepts_nested_attributes_for macro in the model - order matters so that Mongoid has access to the metadata.\n\n Example:\n \xa0\xa0class Band\n \xa0\xa0\xa0\xa0include Mongoid::Document\n \xa0\xa0\xa0\xa0has_many :albums\n \xa0\xa0\xa0\xa0accepts_nested_attributes_for :albums\n \xa0\xa0end\n\n"},no_default_client:{message:"No default client configuration is defined.",summary:"The configuration provided settings for: %{keys}, but Mongoid requires a :default to be defined at minimum.",resolution:"If configuring via a mongoid.yml, ensure that within your :clients section a :default client is defined.\n\n Example:\n \xa0\xa0development:\n \xa0\xa0\xa0\xa0clients:\n \xa0\xa0\xa0\xa0\xa0\xa0default:\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0hosts:\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0- localhost:27017\n\n"},no_environment:{message:"Could not load the configuration since no environment was defined.",summary:"Mongoid attempted to find the appropriate environment but no Rails.env, Sinatra::Base.environment, RACK_ENV, or MONGOID_ENV could be found.",resolution:"Make sure some environment is set from the mentioned options. Mongoid cannot load configuration from the yaml without knowing which environment it is in, and we have considered defaulting to development an undesireable side effect of this not being defined."},no_map_reduce_output:{message:"No output location was specified for the map/reduce operation.",summary:"When executing a map/reduce, you must provide the output location of the results. The attempted command was: %{command}.",resolution:"Provide the location that the output of the operation is to go by chaining an #out call to the map/reduce.\n\n Example:\n \xa0\xa0Band.map_reduce(map, reduce).out(inline: 1)\n\n Valid options for the out function are:\n \xa0\xa0inline:  1\n \xa0\xa0merge:   'collection-name'\n \xa0\xa0replace: 'collection-name'\n \xa0\xa0reduce:  'collection-name'\n\n"},no_metadata:{message:"Metadata not found for document of type %{klass}.",summary:"Mongoid sets the metadata of a relation on the document when it is either loaded from within the relation, or added to one. The presence of the metadata is required in order to provide various functionality around relations. Most likely you are getting this error because the document is embedded and was attempted to be persisted without being associated with a parent, or the relation was not properly defined.",resolution:"Ensure that your relations on the %{klass} model are all properly defined, and that the inverse relations are also properly defined. Embedded relations must have both the parent (embeds_one/embeds_many) and the inverse (embedded_in) present in order to work properly."},no_parent:{message:"Cannot persist embedded document %{klass} without a parent document.",summary:"If the document is embedded, in order to be persisted it must always have a reference to its parent document. This is most likely caused by either calling %{klass}.create or %{klass}.create! without setting the parent document as an attribute.",resolution:"Ensure that you've set the parent relation if instantiating the embedded document directly, or always create new embedded documents via the parent relation."},no_client_config:{message:"No configuration could be found for a client named '%{name}'.",summary:"When attempting to create the new client, Mongoid could not find a client configuration for the name: '%{name}'. This is necessary in order to know the host, port, and options needed to connect.",resolution:"Double check your mongoid.yml to make sure under the clients key that a configuration exists for '%{name}'. If you have set the configuration programatically, ensure that '%{name}' exists in the configuration hash."},no_clients_config:{message:"No clients configuration provided.",summary:"Mongoid's configuration requires that you provide details about each client that can be connected to, and requires in the clients config at least 1 default client to exist.",resolution:"Double check your mongoid.yml to make sure that you have a top-level clients key with at least 1 default client configuration for it. You can regenerate a new mongoid.yml for assistance via `rails g mongoid:config`.\n\n Example:\n \xa0\xa0development:\n \xa0\xa0\xa0\xa0clients:\n \xa0\xa0\xa0\xa0\xa0\xa0default:\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0database: mongoid_dev\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0hosts:\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0- localhost:27017\n\n"},no_client_database:{message:"No database provided for client configuration: :%{name}.",summary:"Each client configuration must provide a database so Mongoid knows where the default database to persist to. What was provided was: %{config}.",resolution:"If configuring via a mongoid.yml, ensure that within your :%{name} section a :database value for the client's default database is defined.\n\n Example:\n \xa0\xa0development:\n \xa0\xa0\xa0\xa0clients:\n \xa0\xa0\xa0\xa0\xa0\xa0%{name}:\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0database: my_app_db\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0hosts:\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0- localhost:27017\n\n"
},no_client_hosts:{message:"No hosts provided for client configuration: :%{name}.",summary:"Each client configuration must provide hosts so Mongoid knows where the database server is located. What was provided was: %{config}.",resolution:"If configuring via a mongoid.yml, ensure that within your :%{name} section a :hosts value for the client hosts is defined.\n\n Example:\n \xa0\xa0development:\n \xa0\xa0\xa0\xa0clients:\n \xa0\xa0\xa0\xa0\xa0\xa0%{name}:\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0database: my_app_db\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0hosts:\n \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0- localhost:27017\n\n"},readonly_attribute:{message:"Attempted to set the readonly attribute '%{name}' with the value: %{value}.",summary:"Attributes flagged as readonly via Model.attr_readonly can only have values set when the document is a new record.",resolution:"Don't define '%{name}' as readonly, or do not attempt to update its value after the document is persisted."},readonly_document:{message:"Attempted to persist the readonly document '%{klass}'.",summary:"Documents loaded from the database using #only cannot be persisted.",resolution:"Don't attempt to persist documents that are flagged as readonly."},scope_overwrite:{message:"Cannot create scope :%{scope_name}, because of existing method %{model_name}.%{scope_name}.",summary:"When defining a scope that conflicts with a method that already exists on the model, this error will get raised if Mongoid.scope_overwrite_exception is set to true.",resolution:"Change the name of the scope so it does not conflict with the already defined method %{model_name}, or set the configuration option Mongoid.scope_overwrite_exception to false, which is its default. In this case a warning will be logged."},taken:"is already taken",too_many_nested_attribute_records:{message:"Accepting nested attributes for %{association} is limited to %{limit} records.",summary:"More documents were sent to be processed than the allowed limit.",resolution:"The limit is set as an option to the macro, for example: accepts_nested_attributes_for :%{association}, limit: %{limit}. Consider raising this limit or making sure no more are sent than the set value."},unknown_attribute:{message:"Attempted to set a value for '%{name}' which is not allowed on the model %{klass}.",summary:"Without including Mongoid::Attributes::Dynamic in your model and the attribute does not already exist in the attributes hash, attempting to call %{klass}#%{name}= for it is not allowed. This is also triggered by passing the attribute to any method that accepts an attributes hash, and is raised instead of getting a NoMethodError.",resolution:"You can include Mongoid::Attributes::Dynamic if you expect to be writing values for undefined fields often."},unsaved_document:{message:"Attempted to save %{document} before the parent %{base}.",summary:"You cannot call create or create! through the relation (%{document}) whose parent (%{base}) is not already saved. This would cause the database to be out of sync since the child could potentially reference a nonexistant parent.",resolution:"Make sure to only use create or create! when the parent document %{base} is persisted."},unsupported_javascript:{message:"Executing Javascript $where selector on an embedded criteria is not supported.",summary:"Mongoid only supports providing a hash of arguments to #where criterion on embedded documents. Since %{klass} is embedded, the expression %{javascript} is not allowed.",resolution:"Please provide a standard hash to #where when the criteria is for an embedded relation."},validations:{message:"Validation of %{document} failed.",summary:"The following errors were found: %{errors}",resolution:"Try persisting the document with valid data or remove the validations."},delete_restriction:{message:"Cannot delete %{document} because of dependent '%{relation}'.",summary:"When defining '%{relation}' with a :dependent => :restrict, Mongoid will raise an error when attempting to delete the %{document} when the child '%{relation}' still has documents in it.",resolution:"Don't attempt to delete the parent %{document} when it has children, or change the dependent option on the relation."}}}},flash:{actions:{create:{notice:"%{resource_name} was successfully created."},update:{notice:"%{resource_name} was successfully updated."},destroy:{notice:"%{resource_name} was successfully destroyed.",alert:"%{resource_name} could not be destroyed."}}},devise:{confirmations:{confirmed:"Your account was successfully confirmed.",send_instructions:"You will receive an email with instructions about how to confirm your account in a few minutes.",send_paranoid_instructions:"If your email address exists in our database, you will receive an email with instructions about how to confirm your account in a few minutes."},failure:{already_authenticated:"You are already signed in.",inactive:"Your account is not activated yet.",invalid:"Invalid login or password.",locked:"Your account is locked.",last_attempt:"You have one more attempt before your account will be locked.",not_found_in_database:"Invalid login or password.",timeout:"Your session expired. Please sign in again to continue.",unauthenticated:"",unconfirmed:"You have to confirm your account before continuing.",invited:"You have a pending invitation, accept it to finish creating your account.",force_omniauth_to_normal_users:"One of your organizations require you to login with your Google account."},mailer:{confirmation_instructions:{subject:"Confirmation instructions"},reset_password_instructions:{subject:"Reset password instructions",title:"Hello %{username}!",body:"Someone has requested a link to change your password. You can do this through the link below.",change_password:"Change my password",ignore_1:"If you didn't request this, please ignore this email.",ignore_2:"Your password won't change until you access the link above and create a new one."},unlock_instructions:{subject:"Unlock Instructions"},password_change:{subject:"Password Changed"},invitation_instructions:{subject:"Invitation instructions",hello:"Hello %{email}",someone_invited_you:"Someone has invited you to %{url}, you can accept it through the link below.",accept:"accept invitation",ignore:"If you don't want to accept the invitation, please ignore this email.<br />Your account won't be created until you access the link above and set your password.",subject1:"%{username} invited you to %{organization_name} organization on Pipefy",subject2:"%{username} invited you to Pipefy",title:"Hello, %{username} invited you to Pipefy",body:"<b>What is Pipefy?</b> With Pipefy you\u2019ll organize and run all your processes in one place - without the help of IT guy or consultants.",problems:"If you're getting problems to access the link. Copy the following url in your address bar:"}},omniauth_callbacks:{failure:'Could not authenticate you from %{kind} because "%{reason}".',success:"Successfully authenticated from %{kind} account."},passwords:{no_token:"You can't access this page without coming from a password reset email. If you do come from a password reset email, please make sure you used the full URL provided.",send_instructions:"You will receive an email with instructions on how to reset your password in a few minutes.",send_paranoid_instructions:"If your email address exists in our database, you will receive a password recovery link at your email address in a few minutes.",updated:"Your password was changed successfully. You are now signed in.",updated_not_active:"Your password was changed successfully.",edit:{welcome:"Reset your password",welcome_slogan:"Choose your new password and you will be signed in.",password:"New password",send:"Save"},"new":{welcome:"Forgot my password",welcome_slogan:"Fill the field with your account email to receive recovery information",email_placeholder:"Your email",send:"Reset password"}},registrations:{destroyed:"Bye! Your account was successfully cancelled. We hope to see you again soon.",signed_up:"Welcome! You have signed up successfully.",signed_up_but_inactive:"You have signed up successfully. However, we could not sign you in because your account is not yet activated.",signed_up_but_locked:"You have signed up successfully. However, we could not sign you in because your account is locked.",signed_up_but_unconfirmed:"A message with a confirmation link has been sent to your email address. Please open the link to activate your account.",update_needs_confirmation:"You updated your account successfully, but we need to verify your new email address. Please check your email and click on the confirm link to finalize confirming your new email address.",updated:"You updated your account successfully."},sessions:{signed_in:"",signed_out:"",already_signed_out:"Signed out successfully.","new":{welcome:"Welcome back,",welcome_slogan:"Sign in to your Pipefy account",login_placeholder:"Your username or email",password_placeholder:"Your password"}},unlocks:{send_instructions:"You will receive an email with instructions about how to unlock your account in a few minutes.",send_paranoid_instructions:"If your account exists, you will receive an email with instructions about how to unlock it in a few minutes.",unlocked:"Your account has been unlocked successfully. Please sign in to continue."},invitations:{send_instructions:"An invitation email has been sent to %{email}.",invitation_token_invalid:"The invitation token provided is not valid!",updated:"",no_invitations_remaining:"No invitations remaining",invitation_removed:"Your invitation was removed.","new":{header:"Send invitation",submit_button:"Send an invitation"},edit:{header:"Set your password",submit_button:"Set my password",name:"What is your full name?",username:"Choose a username",username_description:"Pick something others will recognize.",password:"Choose a password",password_description:"Pick something secret.",locale:"Choose your language"},recommendation_sent:"A recommendation email has been sent to %{email}."}},views:{pagination:{first:"&laquo; First",last:"Last &raquo;",previous:"&lsaquo; Prev",next:"Next &rsaquo;",truncate:"&hellip;"},automated_messages:{title:"Sent messages"},cards:{checklists_tab:{create_checklist_button:"Create new checklist"},item:{horizontal_drag_error:"You can't drag and drop this card because it has required fields. Fill them and use the action buttons to the card between phases! =)"},connected_cards:{title:"Connected cards",cannot_open:"Sorry, you're not able to open this card"},edit:{destroy_success:"Card successfully deleted",destroy_error:"You don't have permission to delete cards in this pipe, please contact you organization admin",message_sent:"Message successfully sent",view_database_record:"View %{title} record"},details:{add_label:"add label",closed_by_move:"This card was moved to the phase %{phase_name}.",reload_card:"Reload card",click_to_edit:"Click to edit",new_record:"Add %{query} as a new record",empty_new_record:"Add a new record",select_record:"Select a record"}},comments:{title:"Comments"},checklists:{title:"Checklists"},database_tables:{search_in:"Search in %{in}"},launchpad_form:{create_success:"Card successfully created!",close_confirm_text:"You'll lose all the information you filled in this card",close_confirm_button:"Close it anyway"},pipes:{onboard:{title:"<h2>This is your pipe!</h2><p>In your process, the tasks - called cards - will move laterally through multiple phases until they get finished.</p>",phase:"<h2>Phases</h2><p>Each phase requires different things to be done, and every card that passes through them must follow its specific rules."}},public_form:{create_card_label:"Send",reload_button_text:"Create another response",success_message:"Submission <strong>successfully</strong> received"},fields:{edit:{confirmation_text:"If you change the field type, you'll lose all the values set for it on your cards.",confirmation_button:"Yes, change it"}}},layouts:{application:{user_profile:"user profile",organization_link_description:"Your organization",checkout_new_pipefy:"Check out the new Pipefy",new_organization:{title:"Create new organization",description:"Create a brand new organization to add new pipes to"},user_settings:{title:"Settings for %{name}",description:"Username, e-mail, language, etc..."},org_settings:{title:"Settings for %{name}",description:"Name, members, permissions, etc..."}}},notification_mailer:{card_assignee:{subject:"A card was assigned to you",title:"There's a new card assigned to you!",what:"What?",where:"Where?",where_value:"%{pipe_name} at %{organization_name}",which_phase:"Which phase?",when:"When?",who:"Who assigned it to you?",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},mention:{subject:"%{mentioned_by} mentioned you in %{card_title}",title:"%{mentioned_by} mentioned you",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},new_card:{subject:"New card on %{pipe_name}",title:"There's a new card on %{pipe_name}!",pipe_on_organization:"%{pipe_name} on %{organization_name}",who_created:"Who created?",view_card:"View card",unsubscribe:"unsubscribe"},move_card:{subject:"%{card_title} was moved to %{phase_name}",title:"%{card_title} was moved to %{phase_name}",was_on_x_for:"Was on phase %{phase_name} for...",moved_to:"Moved to?",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},done_card:{subject:"%{card_title} is done!",title:"A card was finished! _o/",done_by:"Done by?",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},new_comment:{subject:"%{username} commented one of your cards",title:"%{username} left a comment on one of your cards",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},new_checklist:{subject:"New checklist on %{card_title}",title:"A new checklist was added on %{card_title}",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",view_card:"View card",unsubscribe:"unsubscribe"},new_role:{subject:"You were added on %{resource_name}",title:"You were added on %{resource_name}",what:"What %{resource_type}?",who:"Who added you?",when:"When?",permission:"Permission:",view_resource:"View %{resource_type}",unsubscribe:"unsubscribe"},expired_card:{subject:"Expired alert - %{card_title}",title:"%{card_title} just got expired!",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",help:"What is an expired alert?",help_description:"You can define a time limit for cards to stay open in a process. When a card reaches this time limit, the expired alert is triggered.",view_card:"View card",unsubscribe:"unsubscribe"},late_card:{subject:"Late alert - %{card_title}",title:"%{card_title} just got late!",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",help:"What is a late alert?",help_description:"You can define a time limit for cards to stay on a phase. When a card reaches this time limit, the late alert is triggered.",view_card:"View card",unsubscribe:"unsubscribe"},overdue_card:{subject:"Overdue alert - %{card_title}",title:"%{card_title} just got overdue",due_date:"Due date",leadtime:"Leadtime",leadtime_value:"On %{pipe_name} for %{duration_description}, on the %{phase_name} phase for %{phase_duration_description}, %{status}",help:"What is an overdue alert?",help_description:"It\u2019s a reminder triggered when a card reaches its due date and is still open.",view_card:"View card",unsubscribe:"unsubscribe"}},report_export_mailer:{report_export_complete:{download_report:"Download Report"}},registration_mailer:{recommend:{subject:"%{username} invited you to join Pipefy",title:"Hello, %{username} invited you to join Pipefy",body:"<b>What is Pipefy?</b><br>With Pipefy you\u2019ll easily organize and run all your processes in one place, leaving inefficient manual forms, spreadsheets and e-mail threads in the past.",accept:"Accept invitation",problems:"If you're having trouble accessing the link, copy the following URL to your address bar:"}},cards:{create:{success:"Card successfully created"},destroy:{success:"Card successfully deleted"},update:{success:"Card successfully updated"},show:{cannot_open_draft:"This card cannot be opened, it is a someone else's draft card.",choose:"Choose",next_step:"Next Step",onboard:{left_side:"<h2>On the left</h2><p>What do you find here?</p><p> - The task's title and details;<br> - What happened on previous phases.</p>",right_side:"<h2>On the right</h2><p>What do you find here?</p><p> - Intructions to be followed;<br> - What needs to be done next.</p>",setup:"<h2>How to edit this phase</h2><p>You can easily modify everything you need to make your workflow fit your needs. You can edit this phase by:</p><p> - Adding, removing and reordering fields;<br> - Adding checklists, due dates, approvals, instructions, attachments, responsibles and others...</p>",actions:"<h2>How to move a card forward</h2><p>When the phase's requirements are completed, move the cards to the next step.</p>",moved:"<h2>The next step</h2><p>Check what needs to be done in the next phase of your process.</p>"}}},database_tables:{messages:{required:"The field %{field} is required",not_unique:"The field %{field} must have a unique value",validation_dont_match:{email:"The field %{field} value is not a valid email",custom:"The field %{field} value does not match the custom validation: %{validation_pattern}"}},index:{create_database_table:"Create new table"},"new":{title:"New Table"},edit:{title:"Edit Table"},field_types:{short_text:"Text",long_text:"Text",integer_number:"Number",decimal_number:"Number",currency_number:"Number","boolean":"Checkbox",date:"Date",datetime:"Date",time:"Time",email:"E-mail",select:"Select",phone:"Phone",database_lookup:"Database lookup",vertical_radio:"Radio",horizontal_radio:"Radio",vertical_checklist:"Checklist",horizontal_checklist:"Checklist"},form:{name:"Name",description:"Description",delete_title:"Delete Table",delete_description:"Once you delete this table, there is no going back. Please be certain.",delete_button:"Delete Table"},database_table:{add_record:"Add Record",database_settings:"Edit Table","delete":"Delete",edit_fields:"Edit Fields",records:"Records",view_records:"View Records"}},database_fields:{index:{add_fields_to:"Add fields",back_to_records:"Back to records",title:"Fields",your_fields:"Your fields"},"new":{fields:"Fields",title:"New field"},form:{description:"Description",name:"Name",required:"This field is required",advanced_settings:"Advanced options",unique:"This field must have a unique value",title_field:"This field must be used as the title for the records",delete_title:"Delete Field",delete_description:"Once you delete this field, there is no going back. Please be certain.",delete_button:"Delete Field",type:"Type",validation_pattern_placeholder:"Write your own regex pattern to match",add_option:"Add option",database_lookup_table:"Table",database_lookup_table_description:"Select the table which the field will show the records",can_create_database_record:"The user can create records on this table from this field",can_have_multiple_database_records:"The user can select or create multiple database records"},edit:{title:"Edit field"},destroy:{success:"Your field was succesfully deleted"},move_up:{success:"Your field was succesfully updated"},move_down:{success:"Your field was succesfully updated"},fields_list:{title_field:"TITLE"}},database_records:{show:{related_pipes:"Related Pipes",current_phase:"Current phase"},index:{title:"Records",add_new:"Add new",save:"Save",settings:"TABLE SETTINGS",fields:"Edit Fields"},"new":{back_to_records:"Back to records",title:"New record"},edit:{title:"Edit record"},form:{delete_title:"Delete Record",delete_description:"Once you delete this record, there is no going back. Please be certain.",delete_button:"Delete Record"},get_data:{no_title:"<no title>"}},setup:{call_to_back_title:"You are changing your settings",back_to_pipe:"Back to pipe",breadcrumb_preffix:"You are on:"},field_types:{create:{success:"Field type successfully created"},destroy:{success:"Field type successfully deleted"},update:{success:"Field type successfully updated"}},fields:{"new":{title:"New field"},edit:{title:"Field settings"},create:{success:"Field successfully created"},destroy:{success:"Field successfully deleted"},form:{delete_title:"Delete Field",delete_description:"Once you delete this field, there is no going back. Please be certain.",delete_button:"Delete Field","new":"New field",label:"Field label",label_description:"This will be the field's title...",type:"Type",type_description:"Date, short text, selection, checklist\u2026 What do you want to add to this phase?",settings:"Field settings",required:"This field is required",editable:"This field is editable on other phases",due_date:"This field must be used for due date",description:"Description",description_description:"Explain with a few words what should be informed in this field.",help:"Help text",help_description:"Give your users further information and tips about this field.",preview:"Preview",preview_description:"Check how the help text will be shown on your cards.",options:"Options",options_description:"Add the options, one per line, for these field types: select, radio or checklist.",go_to_phase_settings:"go to phase settings",database_table:"Table",database_table_description:"Select the table which the field will show the records",can_have_multiple_database_records:{label:"Number of entries","false":{label:"Single entry",sub:"A single database entry can be related to a card."},"true":{label:"Multiple entries",sub:"Multiple entries from your database can be related to your cards."}},database_field_layout:{label:"Field function",only_create:{label:"Create database records",sub:"You can only create new records on your database using this field."},only_search:{label:"Search database records",sub:"You can only search among the existing records on your database using this field."},search_and_create:{label:"Search and create database records",sub:"You can search among the existing records of your database and create new ones with this field."}}},update:{success:"Field successfully updated"}},automated_message_setups:{"new":{title:"New e-mail template"},edit:{title:"E-mail template settings"},create:{success:"E-mail template successfully configured"},destroy:{success:"E-mail template configuration successfully deleted"},update:{success:"E-mail template successfully updated"},form:{email_template:"E-mail template",handlebars_completion:"Generate dynamic content",handlebars_completion_description:"","new":"New e-mail template configuration",from_name:"Sender name",from_name_description:"What's the name of the person sending this e-mail?",from_email:"Sender e-mail",from_email_description:"What's the e-mail address of the person sending this e-mail?",to_email:"Receiver e-mail",to_email_description:"What are the e-mail addresses of the people you're sending this message to? (comma separated)",settings:"Settings",go_to_phase_settings:"go to phase settings",delete_title:"Delete E-mail Template",delete_description:"Once you delete this e-mail template, there is no going back. Please be certain.",delete_button:"Delete E-mail Template"}},email_templates:{"new":{title:"New e-mail template"},edit:{title:"E-mail template settings"},handlebars_completion:{entity:"Entity",entity_description:"",property:"Property",property_description:"",completion:"Handlebars",completion_description:"Copy and paste this where you'd like the selected property value to appear"},form:{handlebars_completion:"Generate dynamic content",handlebars_completion_description:"","new":"New e-mail template",name:"Name",name_description:"Inform a name to identify your e-mail template",subject:"Subject",subject_description:"This will be the subject for all the e-mails you send using this template",body:"Content",body_description:"Here goes your e-mail's content",markdown_help:"Need help formatting your text with markdown? Check out these instructions.",go_to_pipe_settings:"go to pipe settings",preview:"Preview",delete_title:"Delete E-mail Template",delete_description:"Once you delete this e-mail template, there is no going back. Please be certain.",delete_button:"Delete E-mail Template"},create:{success:"E-mail template successfully created"},update:{success:"E-mail template successfully updated"},destroy:{success:"E-mail template successfully deleted"}},labels:{"new":{title:"New label"},edit:{title:"Label settings"},create:{success:"Label successfully created."},destroy:{success:"Label successfully deleted."},update:{success:"Label successfully updated."},form:{"new":"New label",label_settings:"Label Settings",color:"Color",color_description:"This color will be used to mark cards with this label. Avoid creating labels with similar colors.",name:"Name",name_description:"Choose a name for your label",go_to_pipe_settings:"go to pipe settings",delete_title:"Delete Label",delete_description:"Once you delete this label, there is no going back. Please be certain.",delete_button:"Delete Label"}},organizations:{create:{success:"Organization successfully created"},current:{success:"Organization's statistics successfully updated",fail:"Sorry, something went wrong, we could not update your organization's statistics"},destroy:{success:"Organization successfully deleted"},empty:{title:"You don't have any organization yet",details:"Let's create one and start to work, it's easy!",create_first_organization:"Create your first organization"},form:{name:"Organization name",name_description:"Your awesome organization's name goes here!",locale:"Language",locale_description:"This languange will be used for all users invited to this organization",members:"Members",members_description:"Who can access this organization?",add_user:"Add user",other_settings:"Settings",only_admin_can_invite_users:"Only admin can invite users to this org",only_admin_can_create_pipes:"Only admin can create pipes in this org",single_sign_on:"Single Sign-on",force_omniauth_to_normal_users:"Require this organization's users login with Google",delete_title:"Delete Organization",delete_description:"Once you delete your organization, there is no going back. Please be certain.",delete_button:"Delete Organization"},index:{confirm_destroy:"Are you sure that you want to delete this organization?"},"new":{title:"New organization"},edit:{title:"Organization settings"},onboard_new:{setup_organization:"Setup <strong>your organization</strong>",its_simple:"It\u2019s simple and takes less than a minute",name_placeholder:"Organization Name",team_size_placeholder:"Team size"},pipe:{open_cards:{one:"open",other:"open"},done_cards:{one:"done",other:"done"},private_pipe_title:"This pipe is private. The organization's members won't be able to see it unless they're invited",view_pipe:"View this pipe",join_pipe:"Join this pipe",leave_pipe:"Leave this pipe",invite_member:"Invite team member",metrics:"Metrics",reports:"Reports",settings:"Settings",duplicate:"Duplicate this pipe","delete":"Delete this pipe"},show:{create_card:"Create card",invite_members:"Invite team members",joined_pipes:"Joined pipes",unjoined_pipes:"Unjoined pipes",create_new_pipe:"Add new pipe",pipe_create_call_to_action:"Add a new process to your organization",import_template:{title:"Import free template",description:"Free templates, developed based on the market\u2019s best practices."},filter_description:"Select a time period to filter your pipe's numbers",filters:{today:"Today",yesterday:"Yesterday",this_week:"This week",last_week:"Last week",this_month:"This month",last_month:"Last month",all_time:"All time",custom:"Custom",custom_modal:{to:"to",apply:"Apply"}}},update:{success:"Organization successfully updated"},user:{assigned_cards:"assigned",doing_cards:"doing",moved_cards:"moved"}},passwords:{create:{complete_registration:"You haven't completed your registration yet, please complete it and you'll be ready to go!",new_invitation_sent:"This e-mail was already invited to be part of a Pipefy organization. We\u2019ll resend the invitation, please check your inbox and follow the instructions for signing in."}},phases:{"new":{title:"New phase"},create:{success:"Phases successfully created"},destroy:{success:"Phases successfully deleted"},edit:{start_form_title:"Start form settings",title:"Phase settings"},form:{start_form:"Start form","new":"New phase",start_form_settings:"Start Form Settings",start_form_description:"What do you want users to inform when creating a card in your pipe?",phase_settings:"Phase Settings",name:"Phase name",name_description:"We don't need to explain this, do we?",start_form_fields_description:"What do you want users to inform when creating a card?",phase_fields_description:"What do you want users to inform you in this phase?",create_new_field:"Create a new field",done:"This phase is an end of process",advanced_options:"Advanced Options",assigned:"Assigned",assigned_description:"Want this phase to always be automatically assigned to an user? Pick who to assign it to.",card_title:"Card title",card_title_description:"Define which field will be used as the card's title.",pipe_connections:"Pipe connections",pipe_connections_description:"Connect your pipe to share & relate cards with other processes.",create_new_pipe_connection:"Create a new pipe connection",automated_message_setups:"E-mail templates",automated_message_setups_description:"Configure custom e-mail messages to send manually or when certain phase movements occur.",create_new_automated_message_setup:"Configure new e-mail template",description:"Description",description_description:"Add a text description for each phase to be shown in your pipe.",late_alert:"Late alert",late_alert_description:"Define a maximum time (SLA) for a card to stay in this phase.",action_buttons:"Action buttons",action_buttons_description:"Choose which phases your cards can be moved to (like skipping a step or jumping straight to the end).",go_to_pipe:"go to pipe",go_to_pipe_settings:"go to pipe settings",only_admin_can_move_to_previous:"Only admin users can move cards from this phase to the previous phase",public_form:"Share this form",public_form_url:"Public URL",public_form_embed_code:"Embed code",email_inbox:"E-mail Inbox",email_inbox_description:"Create cards through received e-mails",email_address:"E-mail address",email_setup:"Setup your fields",email_from_name_field:"Sender name",dont_have_short_text:"You don't have any short text field to receive this data",add_short_text:"Add a new short text field",email_from_address_field:"Sender e-mail address",dont_have_email:"You don't have any e-mail field to receive this data",add_email:"Add a new e-mail field",email_subject_field:"Subject",dont_have_long_text:"You do not have any long text field to receive this data",add_long_text:"Add a new long text field",email_body_field:"Body",email_attachment_field:"Attachments",dont_have_attachment:"You do not have any attachment field to receive this data",add_attachment:"Add a new attachment field",delete_title:"Delete Phase",delete_description:"Once you delete this phase, there is no going back. Please be certain.",delete_button:"Delete Phase"},update:{success:"Phase successfully updated"}},pipe_connections:{"new":{title:"New pipe connection"},edit:{title:"Pipe connection settings"},create:{success:"Pipe connection successfully created"},destroy:{success:"Pipe connection successfully deleted"},form:{pipe:"Pipe",pipe_description:"The pipe you want users to create connected cards with",settings:"Pipe connection settings",create_manually:"Allow connected cards to be created manually",required_connected_cards_creation_to_move:"One or more connected cards must be created for this card to move to the next phase",required_connected_cards_finish_to_move:"All connected cards must be done before moving this card to the next phase",
required_connected_cards_creation_to_finish:"Creating connected cards is a requirement for the parent card to be done",required_connected_cards_finish_to_finish:"All connected cards originated from this pipe must be done before the parent card can be done",go_to_phase_settings:"go to phase settings",delete_title:"Delete Pipe Connection",delete_description:"Once you delete this pipe connection, there is no going back. Please be certain.",delete_button:"Delete Pipe Connection"},update:{success:"Pipe connection successfully updated"}},pipes:{"new":{title:"New pipe"},clone:{success:"Pipe successfully imported",no_current_organization:"You don't have an organization selected, plese select one and try again"},create:{success:"Pipe successfully created"},customize_public_form:{title:"Customize public form",html:"HTML",css:"CSS"},update_public_form:{success:"Public form successfully updated"},destroy:{success:"Pipe successfully deleted"},edit_permissions:{admin_members:"Admin members",admin_members_description:"Who can edit this pipe's settings?",worker_members:"Worker members",worker_members_description:"Who can create, open, edit and delete cards on this pipe?",creator_members:"Creator members",creator_members_description:"Who can create cards on this pipe?",go_to_pipe_settings:"go to pipe settings"},filter_modal:{title:"Filter cards",button:"Filter cards",by_label:"BY LABEL",by_title:"Filter by card title",dont_have_label:"You haven't created any labels",by_member:"BY MEMBER",dont_have_member:"You haven't added any members to your pipe",clear:"Clear filter"},form:{"new":"New pipe",clone_to:"clone to",pipe_settings:"Pipe Settings",other_settings:"Settings",only_assignees_can_edit_cards:"Only assignees and admin users are allowed to edit cards on this pipe",only_admin_can_remove_cards:"Only admin users are allowed to delete cards on this pipe","public":"This pipe is public for all organization's members",name:"Name",name_description:"The name of your process. Inside it, the tasks - called cards - will move laterally through multiple phases, until they are finished.",start_form:"Start form",start_form_description:"What do you want users to inform when creating a card in your pipe?",setup_start_form:"Setup your start form",phases_description:"Buy the necessary ingredients, cook and serve... Add your process' steps!",email_templates_description:"These are the e-mails you can send directly from cards on this pipe",create_phase:"Create new phase",create_email_template:"Create new e-mail template",members:"Members",members_description:"Everyone that can create cards and view the information inside your Pipe.",add_member:"Add team member",labels:"Labels",labels_description:"Use colored labels to identify different types of cards. Edit as you wish!",create_label:"Create new label",advanced_options:"Advanced Options",expired:"Expired alert",expired_description:"Define a maximum time (SLA) for a card to be finished in this pipe.",go_to_pipe:"go to pipe",delete_title:"Delete Pipe",delete_description:"Once you delete your process definition, there is no going back. Please be certain.",delete_button:"Delete Pipe"},update:{success:"Pipe successfully updated"},update_permissions:{success:"Pipe successfully updated"},edit:{title:"Pipe settings",new_phase:"add phase"},show:{"export":"export",metrics:"metrics",reports:"reports",manage:"manage",add_members:"add team members",filter:"filter",filter_on:"filtering is on",clear_filter:"Clear filter",join_pipe_title:"You haven't joined this pipe yet",join_pipe_subtitle:"Join it to view and edit the cards content",join_pipe_button:"Join this pipe",click_here:'If this is taking too long, please <a href="%{url}">click here</a> to check it again.',title:"Just a minute<strong>Your <span>pipe</span> is being created</strong>"},show_cloning:{title:"Just a minute<strong>Your <span>pipe</span> is being created</strong>",click_here:'If this is taking too long, please <a href="%{url}">click here</a> to check it again.'},start_form:{create_card_on_cloning_pipe:"This pipe is being cloned, you can't create cards on it yet."}},pipe_clones:{show:{title:"Just a minute<strong>Your <span>pipe</span> is being created</strong>",error_message:'There was an error cloning this pipe <a href="%{url}">click here</a> to go back to the pipe\'s page.'},show_cloning:{title:"Just a minute<strong>Your <span>pipe</span> is being created</strong>",click_here:'If this is taking too long, please <a href="%{url}">click here</a> to check it again.'}},registration_industries:{general:{title:"Dozens of <strong>free templates</strong> based on the market's best practices",subtitle:"Choose one of the options below to get started:"},index:{title:"Run all your processes in <strong>just one place</strong>",subtitle:"Create your first process to learn how Pipefy works. Choose a template from our directory's categories:",marketing_and_sales:"Marketing & Sales",it:"IT",operations:"Operations",human_resources:"Human Resources"},show:{marketing:[{id:814,title:"Sales Pipeline",description:"A simple \u2013 but complete \u2013 step-by-step process, specially designed to help you run and track all the stages of your Sales Pipeline!"},{id:1465,title:"Content Marketing",description:"Easily follow your content marketing and lead nurturing processes with this complete, step-by-step template!"},{id:1466,title:"Marketing Requests",description:"Step-by-step process for internal marketing requests management \u2013  campaigns, e-mail marketing, among others!"},{id:592,title:"Task Management with Kanban",description:"Enhance your teamwork \u2013 and be more effective \u2013 through better management of your weekly tasks and goals!"}],it:[{id:726,title:"Agile Software Development",description:"A process based on the best practices of Scrum and Agile Software Development!"},{id:794,title:"Bug Tracking",description:"A template focused on helping your team properly track and prioritize your bug fixing!"},{id:1817,title:"IT Service Desk",description:"Simple step-by-step process focused on creating, managing and tracking all the tickets created for the IT department!"},{id:792,title:"Product Roadmap",description:"Learn how to prioritize your features and improvements and to better manage your product roadmap!"}],operations:[{id:592,title:"Task Management with Kanban",description:"Enhance your teamwork \u2013 and be more effective \u2013 through better management of your weekly tasks and goals!"},{id:831,title:"Purchase Process",description:"A step-by-step workflow for efficient procurement teams! Leave e-mails and spreadsheet requisitions in the past!"},{id:933,title:"Reimbursement of Expenses",description:"A process designed to help you centralize your team\u2019s expense reporting and coordinate reimbursements."},{id:1594,title:"Customer Helpdesk",description:"A template designed to help you have better customer service by easily managing your tickets and requisitions!!"}],human_resources:[{id:912,title:"Staff Recruitment",description:"Hire the best candidates by following this step-by-step process based on selection processes' best practices!"},{id:913,title:"Candidates Screening & Interviews",description:"Boost your Staff Recruitment with this step-by-step process for screening and interviewing your candidates!"},{id:1472,title:"HR Requests",description:"Organized process developed for receiving and tracking all requisitions made to HR teams."},{id:1469,title:"Vacation Request",description:"A simple step-by-step process designed for your team to request and schedule vacations."}]}},registrations:{general:{create_account:"Create your free account",setup_profile:"Setup your profile",setup_organization:"Setup your organization",terms:'By signing up, you agree to the <a href="http://www.pipefy.com/use-terms/" target="_blank">Terms of Service</a> and <a href="http://www.pipefy.com/privacy-policy" target="_blank">Privacy Policy</a>, including Cookie Use.'},new_form:{create_account:"Create your <strong>free account</strong>",its_simple:"It\u2019s simple and takes less than a minute",email_description:"Your work e-mail",password_description:"Your password"},create:{invitation_not_accepted_yet:"This e-mail was already invited to be part of a Pipefy organization. We\u2019ll resend the invitation, please check your inbox and follow the instructions for signing in."},edit:{about_you:"More <strong>about you</strong>",its_simple:"It\u2019s simple, takes less than a minute",name_description:"Your full name",phone_description:"Your phone (complete with country code)"}},reports:{index:{export_report:"Export Report",edit_report:"Edit Report",created_by:"Created by",updated_at:"Updated at",create_new_report:"Create new report"},"new":{new_report:"New report",save:"Save report","export":"Export report",create:"Save report"},show:{save:"Save report","export":"Export report"},title:"Reports",cards:"cards",create_modal_header:"Type the name of your new report",edit_name_header:"Edit report name",general_attributes:"General",saved:"Your report was successfully saved",not_saved:"Your report couldn't be saved",export_success:"You will be e-mailed a CSV with this report data",export_complete_subject:"Your report was successfully exported",export_ready_download:"Your CSV export of %{pipe} is ready to be downloaded",report_name:"Name"},users:{auth_token:{invalid_password:"The password you typed is incorrect, please try again"},create:{success:"User successfully created"},destroy:{success:"User successfully deleted"},edit:{title:"User Settings",change_avatar:"Create or Edit your avatar at",email_notification_enabled:"I want to receive e-mail notifications",confirm:"You will be logged out after destroy the user. Are you sure you want to delete this user?",auth_token_description:"Copy this to the tool you want to integrate with Pipefy",show_auth_token:"Show API key",notifications:"Notifications",delete_title:"Delete Account",delete_description:"Once you delete your account, there is no going back. Please be certain.",delete_button:"Delete Account"},update:{success:"User successfully updated"}},user_settings:{title:"User Settings",notifications:{title:"Notifications"},user_notification_preferences:{title:"Email Notifications"},user_pipe_notification_preferences:{title:"Custom Notifications"},update:{success:"Settings updated."}},notification_preferences:{email_me_when:"Email me when:",disabled:"Every email notification is disabled. You will not recieve any e-mail from Pipefy",added_or_mention:"When i get added to a Pipe or Organization or mentioned/assigned to a Card",card_moved_expired_or_late:"When a card is moved, expires, becomes late or overdue",card_comment_or_checklist_created:"When a new comment or checklist is created"},welcome:{play_video:"PLAY VIDEO",next_step:"Next step",replay_video:"or play the video again...",skip_video:"Skip this video",skip_step:"Skip this step",its_simple:"It\u2019s simple, takes less than a minute",invite_members:{title:"Invite your <b>team members</b>",email_placeholder:"Enter member e-mail",add_field:"Add another e-mail"},index:{slide1:{title:"Welcome aboard!",details:"With Pipefy you\u2019ll be able to organize and run all your processes in one place - without any help from IT guys or consultants. This is your dashboard:"},slide2:{title:"How Pipefy works?",details:"<b>Processes are called Pipes:</b> Inside them, the tasks - called cards - move laterally through multiple phases until they get to the end, to be marked as done.",card:"Card",pipe:"Pipe"},slide3:{title:"How can you create a card?",details:'<b>To create a card in a pipe, fill a start form.</b> Ex: to request the purchase of a new laptop, John fills the start form on "Purchase Process" informing he needs a new laptop.'},slide4:{title:"Pipe: your process seen as a production line!",details:"Then, the card will be added to the Pipe at its first phase and will follow all the steps of your process."},slide5:{title:"Foolproof workflow",details:"On each phase, you will find two main sets of information:"},slide6:{title:"Guide your team through each step",details:"Structure your process by adding detailed instructions to be followed in each phase"},done:"I\u2019m done, take me to my dashboard!"},congrats_modal:{title:"Congratulations!",description:"You\u2019ve just created <br/>your first process.",button:"Try it!"},how_it_works:{title:"The tasks are called cards",call_to_action:"Click and open your card",call_to_action_description:"to discover what has to be done in this phase."},finish:{title:"First step: Create your first process",details:"What\u2019s the secret of sucessful execution teams? They create and follow specific processes to help guiding them. This is how they guarantee that everything is always done right and efficiently.<br><br>Now it's your turn, choose one template to get started:",sales:{title:"Marketing / Sales",items:[{title:"Sales Pipeline",pipe_id:814},{title:"Content Marketing",pipe_id:1465},{title:"Marketing Requests",pipe_id:1466},{title:"Task Management with Kanban",pipe_id:592}]},it:{title:"IT / Software",items:[{title:"Agile Software Development",pipe_id:726},{title:"Bug Tracking",pipe_id:794},{title:"Product Roadmap",pipe_id:792}]},human_resources:{title:"Human Resources",items:[{title:"Staff Recruitment",pipe_id:912},{title:"Candidates Screening & Interviews",pipe_id:913},{title:"HR Requests",pipe_id:1472},{title:"Vacation Request",pipe_id:1469}]},management:{title:"Operations",items:[{title:"Task Management with Kanban",pipe_id:592},{title:"Purchase Process",pipe_id:831},{title:"Reimbursement of Expenses",pipe_id:933},{title:"Customer Helpdesk",pipe_id:1594}]}}},organization_seeder:{pipe_name:"Sales Pipeline (sample)",phases:{form:{name:"Form"},first_contact:{name:"First Contact",description:"Here is where you add the opportunities you created. Get in touch!"},meeting_arranged:{name:"Meeting Arranged",description:"How hot is this opportunity? Qualify the deal and the customer's needs."},needs_discovered:{name:"Needs Discovered",description:"Show time! Create and present the best proposal!"},proposal_delivered:{name:"Proposal Delivered",description:"Make the deal happen! It's time to follow-up and negotiate."},won:{name:"Won",description:"Congratulations!"},lost:{name:"Lost",description:"Rest in peace..."}},fields:{form:{instructions:{name:"Instructions",description:"Everything begins with the launchpad. You create a start form like this for each pipe so your team will always have to fill it before creating a task. For a sales pipeline this, it must contain all the basic information about the new lead you'll need to start a negotiation."},name:{name:"Name",description:"Customer's first name! Ex: John"},company:{name:"Company",description:"Ex: ABC Company"},email:{name:"E-mail",description:"customeremail@domain.com"},phone:{name:"Phone"},more_details:{name:"More details",description:"Do you have other details to share? Add them here."}},first_contact:{instructions:{name:"Instructions",description:'Here is how your pipe works. On the left you\'ll see all the information filled in the start form and everything you must know. On the right, what\u2019s expected from you in this phase. PS: You can add instructions for your team members, just like we did here. After all the fields are filled, move this card to "Meeting arranged"...'},about:{name:"About the call",description:"How was the call? Add here any further details about the customer and his needs."},date:{name:"Date",description:"Meeting scheduled for..."},time:{name:"Time",description:"Ex: 6 pm."},where:{name:"Where?",options:{opt1:"At our office",opt2:"At the client's office",opt3:"Skype call"}},more_details:{name:"More details about the next meeting",description:"What's the meeting's agenda? Something you need to organize? Anyone else coming with you?"}},meeting_arranged:{needs:{name:"What are the customer's needs?",description:"Who is your customer? What are his/her needs?"},purchaser_of:{name:"Potential purchaser of",description:"Please check the services/products you're planning to offer this customer.",options:{opt1:"Service A",opt2:"Service B",opt3:"Service C",opt4:"Support",opt5:"Maintenance",opt6:"Product Z"}},have_budget:{name:"Does this customer have a budget?",options:{opt1:"yes",opt2:"no",opt3:"not clear"}},size:{name:"Company size",description:"How big is this deal?",options:{opt1:"Small",opt2:"Medium",opt3:"Large"}},next_steps:{name:"What are the next steps of this process?",options:{opt1:"Send samples",opt2:"Create proposal",opt3:"Wait for the customer's decision",opt4:"Discover deeper/more specific needs"}}},needs_discovered:{send:{name:"Send samples?",options:{opt1:!0,opt2:!1}},reference:{name:"Ask the customer for references?",options:{opt1:!0,opt2:!1}},decision_person:{name:"Who is the decision maker?",description:"Always sell your product/service directly to the person with need, resources and decision-making power."},expected_close:{name:"Expected closing date"},sent_on:{name:"Proposal sent on"},more_details:{name:"More details"},quality:{name:"Quality checklist",options:{opt1:"Add contact to Salesforce",opt2:"Create customer's folder on dropbox",opt3:"Add the sent proposal to the dropbox folder",opt4:"Run a background check on the customer's financial condition"}},follow_up:{name:"Follow-up on"}},proposal_delivered:{instructions:{name:"Instructions",description:"The follow-up process is the most important part of your job. Create urgency, push the client, help him decide by asking for his questions and concerns. After 30 days of unsuccessful negotiation, consider the deal lost."},more_details:{name:"More details"}}}},pipe_seeder:{start_form:{name:"Start form",field:"What?"},inbox:{name:"Inbox",description:"Here comes all the tasks people created in this pipe."},doing:{name:"Doing",description:"Show time! Here comes the tasks people are currently working on."},done:{name:"Done",description:"Rest in peace\u2026 Here are all your finished tasks."}},templates:{automated_messages:{sent_at:"Sent at"},card_field_components:{help:"Help",learn_more:"learn more"},pipes:{more_phases:"Need more phases?",pimp_your_pipe:"Pimp your pipe... You can add as many phases as you need!",create_phase:"create phase"},phases:{card_not_created:"Next step: Create a card and move it forward to find out what you have to do in each phase!",create_card:"add new card",edit_phase:"Edit this phase"},launchpad:{title:"Launchpad",all:"All"},launchpad_form:{title:"Create new card on",edit_form:"Edit this form",create_card:"Create card"},cards:{send_message:"Send message",expired_short:"EXP",late_short:"LATE",start:"START",done:"DONE",total:"TOTAL",parent_title:"Parent:",go_to_card:"Go to card",back_to:"back to",move_to:"move to",add_member:"assign user",add_more:"add more",add:"Add",checklist:"Checklist",add_connected_card:"Connected cards","new":"New",expired:"EXPIRED",late:"LATE",add_fields_description:"You didn't add any standard fields to this phase yet. Build your workflow to suit your needs!",add_fields:"add fields",more:"more...",destroy:"Delete",info_tab:"Information",checklists_tab:"Checklists",parent_info_tab:"Parent Information",create_connected_card:"create connected card",write_comment:"Write a comment",post_comment:"post comment",due:"DUE",parent_info_title:"Parent Information",this_info_title:"Information",now_on:"Now on",what_happened:"What happened on",connected_with:"This card is connected to",previous_phases:"Previous phases"},card_phase_detail:{start_form:"Start form"}},utils:{delete_description:"You won't be able to recover this information or any of its dependencies!",delete_confirmation:"Yes, delete it!"},add:"Add",and:"and",app_description:"The easiest way to manage your business processes and routines",back:"back",cancel:"cancel",card:"card",turn_on:"Turn On",turn_off:"Turn Off",clone_name:"%{new_name} (copy %{index})",connect_with_google:"Connect with Google",confirm_sentence:"Are you sure?",created_at:"created at",create_card:"create card",create_your_account:"Create your free account now",database:"database",dashboard:"dashboard",destroy:"delete",done:"done",done_card:"done card",draft:"Draft",duration:"duration",edit:"edit",enabled:"enabled",disabled:"disabled",english:"English (UK)",english_us:"English (United States)",expired:"expired",forgot_password:"Forgot your password?",getting_started:"Help",help:"Help",home_page:"home",invitation_button_description:"invite user",invitation_mail_placeholder:"Ex: steve@pipefy.com, kanye.west@pipefy.com",invitation_header:"Invite team member",invitation_send:"Invite team member",invitation_single_success_message:'The user "%{username}" was added to your team members',invitation_multiple_success_message:"Your invites were sent",invitations_email_label:"E-mail addresses or usernames",invitations_email_hint:"You can enter <strong>multiple e-mail addresses</strong> separated by commas",invitations_billing_disclaimer:"You will be charged on your next invoice.",invitations_billing_faq_url:"http://www.pipefy.com/help/billing-faq",invitations_billing_faq_link_text:"See our billing FAQ",label:"label",late:"late",lead_time:"lead time",loading:"loading...",logout:"logout",name:"name",next:"next",next_step:"Next step","new":"new",no_name:"(no name)",none:"none",ok:"OK",or:"or",on_preposition:"on",on_time:"on time",open_card:"open card",organization:"organization",password:"Password",phase:"phase",pipe:"pipe",portuguese:"Portuguese",save:"save",saved:"saved",send:"send",sign_in:"Sign in",short_config:"Config",show:"show",started_at:"started at",total:"total",update:"update",what:"What?",when:"When?",where:"Where?",who:"Who?",which_phase:"Which phase?",leadtime:"Leadtime",remove_org_user_confirmation:"This will remove this user from this organization and all of its pipes, phases and cards.",remove_pipe_user_confirmation:"This will remove this user from this pipe and all of its phases and cards.",title:"title",to_search:"search",search:"search",search_for:"search for","default":"Default",custom:"Custom",metrics:{title:"Pipe metrics",cumulative_flow:"Cumulative Flow",phases_total:"Phases Total",happening_now:"Happening now",productivity_report:"Productivity Report",this_period:"This period",lifetime:"Lifetime",today:"Today",yesterday:"Yesterday",current_week:"Current week",last_week:"Last week",current_month:"Current month",last_month:"Last month",current_year:"Current year"},database_field_types:{long_text:"Long text",short_text:"Short text",integer_number:"Integer number",decimal_number:"Decimal number",currency_number:"Currency number","boolean":"Checkbox",date:"Date",datetime:"Datetime",time:"Time",select:"Select",phone:"Phone",database_lookup:"Database lookup",vertical_radio:"Vertical radio",horizontal_radio:"Horizontal radio",vertical_checklist:"Vertical checklist",horizontal_checklist:"Horizontal checklist"},database_field_validations:{none:"None",email:"E-mail",custom:"Custom"},selectpicker:{nothing_selected:"Choose an option",no_results:"No results match",count:"{0} of {1} selected"},organization_industry:{operations:"Operations",marketing:"Marketing",it:"IT / Software development",human_resources:"Human resources"},role_descriptions:{admin:"admin",normal:"normal",worker:"worker",creator:"creator"}},"pt-BR":{time:{formats:{complete_short:"%d/%m/%Y %H:%M",two_digits_day_only:"%-d",two_digits_month_only:"%m",date_for_comments:"%e de %b",hour_for_comments:"%I:%M %P",default_pipefy:"%d/%m/%Y %I:%M","default":"%a, %d de %B de %Y, %H:%M:%S %z","long":"%d de %B de %Y, %H:%M","short":"%d de %B, %H:%M"},"short":{minutes:"min",hours:"h",days:"d",months:"mes"},"long":{minutes:"MIN",hours:"HRS",days:"DIAS",months:"MES"},am:"",pm:""},devise:{confirmations:{confirmed:"Sua conta foi confirmada com sucesso.",send_instructions:"Voc\xea receber\xe1 um email para confirmar sua conta em alguns minutos.",send_paranoid_instructions:"Caso seu endere\xe7o de email j\xe1 exista em nossa base, voc\xea receber\xe1 um email com instru\xe7\xf5es sobre como ativar sua conta."},failure:{already_authenticated:"Voc\xea j\xe1 est\xe1 logado.",inactive:"Sua conta ainda n\xe3o foi ativada.",invalid:"Email ou senha inv\xe1lidos.",locked:"Sua conta est\xe1 travada.",last_attempt:"Voc\xea tem mais uma tentativa antes que sua conta seja travada.",not_found_in_database:"Email ou senha inv\xe1lidos.",force_omniauth_to_normal_users:"Uma de suas organiza\xe7\xf5es requer que voc\xea fa\xe7a login com sua conta do Google.",timeout:"Para sua seguran\xe7a sua sess\xe3o expirou. Por favor, fa\xe7a login novamente.",unauthenticated:"",unconfirmed:"Voc\xea precisa confirmar sua conta antes de prosseguir.",invited:"Voc\xea possui um convite pendente, aceite-o para terminar de criar sua conta."},mailer:{confirmation_instructions:{subject:"Instru\xe7\xf5es para confirma\xe7\xe3o"},reset_password_instructions:{subject:"Instru\xe7\xf5es para reiniciar sua senha",title:"Ol\xe1 %{username}!",body:"Algu\xe9m solicitou uma nova senha. Voc\xea pode fazer isso acessando o link abaixo.",change_password:"Mudar minha senha",ignore_1:"Se voc\xea n\xe3o solicitou uma nova senha, ignore este e-mail.",ignore_2:"Sua senha n\xe3o ser\xe1 modificada at\xe9 voc\xea acessar o link abaixo e criar uma nova senha."},unlock_instructions:{subject:"Instru\xe7\xf5es para destravar sua senha"},invitation_instructions:{subject1:"%{username} convidou voc\xea para a organiza\xe7\xe3o %{organization_name} no Pipefy",subject2:"%{username} convidou voc\xea para o Pipefy",title:"Ol\xe1, %{username} convidou voc\xea para o Pipefy",body:"<b>O que \xe9 o Pipefy?</b> Com o Pipefy voc\xea ir\xe1 organizar e usar todos os seus processos em um s\xf3 lugar - sem a ajuda do cara de TI ou de consultores",accept:"aceitar convite",problems:"Se voc\xea tiver problemas para acessar o link copie a seguinte URL na barra de endere\xe7o do seu navegador:"}},omniauth_callbacks:{failure:'N\xe3o pudemos autentic\xe1-lo em %{kind} por causa de "%{reason}".',success:"Autenticado com sucesso na conta %{kind}."},passwords:{no_token:"Voc\xea n\xe3o pode acessar essa p\xe1gina vindo do email para reiniciar sua senha. Se voc\xea est\xe1 vindo do email para reiniciar sua senha, por favor, certifique-se de estar usando a URL correta.",send_instructions:"Voc\xea receber\xe1 um email com instru\xe7\xf5es de como reiniciar sua senha em alguns minutos.",send_paranoid_instructions:"Se o seu endere\xe7o de email estiver em nossa base de dados, em alguns minutos voc\xea receber\xe1 um link para recuperar sua senha em seu email.",updated:"Voc\xea alterou sua senha com sucesso. Voc\xea est\xe1 logado.",updated_not_active:"Sua senha foi alterado com sucesso.",edit:{welcome:"Definir nova senha",welcome_slogan:"Escolha a sua nova senha e voc\xea estar\xe1 pronto para acessar.",password:"Nova senha",send:"Salvar"},"new":{welcome:"Esqueci minha senha",welcome_slogan:"Preencha o campo abaixo para receber informa\xe7\xf5es de como recuperar",email_placeholder:"Seu email",send:"Resetar senha"}},registrations:{destroyed:"At\xe9 mais! Sua conta foi cancelada com sucesso. Esperamos v\xea-lo novamente em breve.",signed_up:"Bem-vindo! Voc\xea se registrou com sucesso.",signed_up_but_inactive:"Voc\xea se registrou com sucesso. No entanto, n\xe3o podemos log\xe1-lo, pois voc\xea ainda n\xe3o ativou sua conta.",signed_up_but_locked:"Voc\xea se registrou com sucesso. No entanto, n\xe3o podemos log\xe1-lo, pois sua conta est\xe1 travada.",signed_up_but_unconfirmed:"Uma mensagem com um link de confirma\xe7\xe3o foi enviada para seu endere\xe7o de email. Por favor abra o link para ativar sua conta.",update_needs_confirmation:"Sua conta foi atualizada, mas precisamos verificar seu endere\xe7o de email. Por favor cheque seu email e clique no link de confirma\xe7\xe3o para confirmar seu novo endere\xe7o de email.",updated:"Voc\xea atualizou sua conta com sucesso."},sessions:{signed_in:"",signed_out:"","new":{welcome:"Seja bem vindo,",welcome_slogan:"Acessar a sua conta no Pipefy",login_placeholder:"Seu nome de usu\xe1rio ou e-mail",password_placeholder:"Sua senha"}},unlocks:{send_instructions:"Voc\xea receber\xe1 um email com instru\xe7\xf5es sobre como destravar sua conta em alguns minutos.",send_paranoid_instructions:"Se sua conta existir, voc\xea receber\xe1 um email com instru\xe7\xf5es sobre como destrav\xe1-la em alguns minutos.",unlocked:"Sua conta foi destrava com sucesso. Por favor, fa\xe7a login para continuar."},invitations:{send_instructions:"Um e-mail de convite foi enviado para %{email}.",recommendation_sent:"Um e-mail de recomenda\xe7\xe3o foi enviado para %{email}.",invitation_token_invalid:"O token de convite fornecido n\xe3o \xe9 v\xe1lido!",updated:"",no_invitations_remaining:"Sem convites pendentes",invitation_removed:"Seu convite foi removido.",edit:{name:"Qual \xe9 o seu nome completo?",username:"Escolha um nome de usu\xe1rio",username_description:"Escolha algo que as pessoas reconhecer\xe3o.",password:"Escolha uma senha",password_description:"Escolha uma bem secreta.",locale:"Escolha seu idioma"}}},errors:{messages:{already_confirmed:"j\xe1 foi confirmada, por favor fa\xe7a login",confirmation_period_expired:"precisa ser confirmada dentro de %{period}, por favor pe\xe7a uma nova",expired:"expirou, por favor solicite uma nova",not_found:"n\xe3o encontrada",not_locked:"n\xe3o estava travada",not_saved:{one:"Um erro impediu a grava\xe7\xe3o de %{resource}:",other:"%{count} erros impediram a grava\xe7\xe3o de %{resource}:"},accepted:"deve ser aceito",blank:"n\xe3o pode ficar em branco",present:"deve ficar em branco",confirmation:"n\xe3o \xe9 igual a %{attribute}",empty:"n\xe3o pode ficar vazio",equal_to:"deve ser igual a %{count}",even:"deve ser par",exclusion:"n\xe3o est\xe1 dispon\xedvel",greater_than:"deve ser maior que %{count}",greater_than_or_equal_to:"deve ser maior ou igual a %{count}",inclusion:"n\xe3o est\xe1 inclu\xeddo na lista",invalid:"n\xe3o \xe9 v\xe1lido",less_than:"deve ser menor que %{count}",less_than_or_equal_to:"deve ser menor ou igual a %{count}",not_a_number:"n\xe3o \xe9 um n\xfamero",not_an_integer:"n\xe3o \xe9 um n\xfamero inteiro",odd:"deve ser \xedmpar",record_invalid:"A valida\xe7\xe3o falhou: %{errors}",restrict_dependent_destroy:{one:"N\xe3o \xe9 poss\xedvel excluir o registro pois existe um %{record} dependente",many:"N\xe3o \xe9 poss\xedvel excluir o registro pois existem %{record} dependentes"},taken:"j\xe1 est\xe1 em uso",too_long:"\xe9 muito longo (m\xe1ximo: %{count} caracteres)",too_short:"\xe9 muito curto (m\xednimo: %{count} caracteres)",wrong_length:"n\xe3o possui o tamanho esperado (%{count} caracteres)",other_than:"deve ser diferente de %{count}"},401:"Voc\xea n\xe3o est\xe1 autenticado, por favor fa\xe7a login no Pipefy novamente.",403:"Voc\xea n\xe3o possui permiss\xe3o para realizar esta a\xe7\xe3o. Para mais informa\xe7\xf5es, entre em contato com o administrador da sua organiza\xe7\xe3o.",404:"A p\xe1gina que voc\xea tentou acessar n\xe3o existe.",422:"Desculpe! A altera\xe7\xe3o requisitada n\xe3o p\xf4de ser processada.",500:"Desculpe! Algo deu errado!",format:"%{attribute} %{message}",template:{body:"Por favor, verifique o(s) seguinte(s) campo(s):",header:{one:"N\xe3o foi poss\xedvel gravar %{model}: 1 erro",other:"N\xe3o foi poss\xedvel gravar %{model}: %{count} erros."}}},activerecord:{attributes:{card:{assignees:"Repons\xe1veis",id:"N\xfamero",card_id:"C\xf3digo",created_by:"Criador",current_phase:"Fase atual",phase:"Fase",pipe:"Pipe",title:"T\xedtulo",labels:"Labels",due_date:"Data de vencimento",finished_at:"Finalizado em",created_at:"Criado em"},database_field:{validation:"Valida\xe7\xe3o",type:"Tipo",options:"Op\xe7\xf5es"},field:{default_value:"Valor padr\xe3o",description:"Descri\xe7\xe3o",index:"\xcdndice",label:"R\xf3tulo do campo",options:"Op\xe7\xf5es",phase:"Fase",pipe:"Pipe",required:"Este campo \xe9 obrigat\xf3rio",type:"Tipo",type_id:"Tipo"},field_type:{component:"Componente",name:"Nome",validator:"Validador"},automated_message_setup:{from_name:"Nome do remetente",from_email:"E-mail do remetente",send_manually:"Enviar manualmente",send_on_leave_phase:"Enviar quando cards sa\xedrem desta fase",send_on_enter_phase:"Enviar quando cards entrarem nesta fase"},automated_message:{from_name:"Nome do remetente",from_email:"E-mail do remetente",automated_message_setup:"Configura\xe7\xe3o de mensagem automatizada",sent_by:"Remetente"},email_template:{name:"Nome",subject:"Assunto",body:"Conte\xfado"},organization:{name:"Nome da organiza\xe7\xe3o",pipes:"Pipes",users:"Usu\xe1rios"},phase:{cards:"Cards",done:"Conclu\xeddo",automated_message_setups:"Mensagens automatizadas",fields:"Campos",index:"\xcdndice",jump_targets:"Bot\xf5es de a\xe7\xe3o",lateness_time:"Alerta de atraso",
lateness_time_by_unit:"Alerta de atraso",name:"Nome da fase",pipe:"Pipe",connected_pipes:"Pipes conectados",connected_pipe_ids:"Pipes conectados",team_members:"Respons\xe1vel",team_member_ids:"Respons\xe1vel"},pipe:{form:"Form",name:"Nome do pipe",email_templates:"Templates de e-mail",expiration_time:"Alerta de expirado",expiration_time_by_unit:"Alerta de expirado",organization:"organiza\xe7\xe3o",phases:"Fases",members:"Membros",member_ids:"Membros",title_field:"T\xedtulo do card",title_field_id:"T\xedtulo do card"},pipe_connections:{pipe:"Pipe",pipe_id:"Pipe",required:"obrigat\xf3rio"},user:{avatar:"Avatar",locale:"Idioma",login:"Login",email:"E-mail de trabalho",name:"Nome",organization_ids:"Organiza\xe7\xf5es",organizations:"Organiza\xe7\xf5es",password:"Senha",password_confirmation:"Confirma\xe7\xe3o de senha",username:"Usu\xe1rio",authentication_token:"API key"}},errors:{messages:{invalid_move:"Nao \xe9 poss\xedvel mover para esta dire\xe7\xe3o",invalid_value:"Valor inv\xe1lido",invalid_handlebars:"cont\xe9m c\xf3digo handlebars inv\xe1lido"},models:{card_field_value:{attributes:{value:{invalid_format:'"%{value}" n\xe3o est\xe1 em um formato v\xe1lido',invalid_option:"n\xe3o \xe9 uma op\xe7\xe3o v\xe1lida"},field:{is_not_in_phase:"n\xe3o est\xe1 na fase %{phase}"}}},card_phase_detail_time_entry:{only_one_finish_nil:"There must be only one opened timer by card phase"},card:{field_error:'Erro no campo "%{label}": %{field_msg}',required_connected_cards_creation_to_move:'Voc\xea precisar criar um card conectado ao pipe "%{pipe_name}" para mover este card.',required_connected_cards_finish_to_move:'Voc\xea precisa concluir todos os cards conectados ao pipe "%{pipe_name}" para mover este card.',required_connected_cards_creation_to_finish:'Voc\xea precisa criar um card conectado ao pipe "%{pipe_name}" na fase "%{phase_name}" para concluir este card.',required_connected_cards_finish_to_finish:'Voc\xea precisa concluir todos os cards conectados ao pipe  "%{pipe_name}" na fase "%{phase_name}" para finalizar este card.',required_field:'O campo "%{label}" \xe9 obrigat\xf3rio, por favor preencha-o!',invalid_target_phase:"Voc\xea n\xe3o pode mover este card para est\xe1 fase."},database_field:{attributes:{validation:{not_supported:"%{validation} n\xe3o suportado"},type:{not_supported:"%{type} n\xe3o suportado"}},title_field_must_be_required:"O campo de t\xedtulo deve ser obrigat\xf3rio"},field:{pipe_title_field:"Erro salvando campo de t\xedtulo do pipe: %{message}",attributes:{type:{is_not_editable:'"%{type_name}" n\xe3o \xe9 edit\xe1vel'}}},phase_team_membership:{attributes:{user:{not_member_of_pipe:"n\xe3o \xe9 membro desta fase do pipe"}}},pipe_membership:{attributes:{member:{not_member_of_organization:"n\xe3o \xe9 membro da organiza\xe7\xe3o deste pipe"}}},pipe:{repeated_email_inbox_field:"Voc\xea n\xe3o pode usar o mesmo campo para dois ou mais campos mapeados para a caixa de entrada de e-mail"},user:{attributes:{username:{invalid:"inv\xe1lido, ele deve conter apenas caracteres alfanum\xe9ricos, '_' ou '-'"}},force_omniauth_email_change:"Voc\xea n\xe3o pode alterar seu e-mail porque voc\xea est\xe1 em uma organiza\xe7\xe3o que requer que os usu\xe1rios fa\xe7am login via Google."}}},models:{card:{one:"card",other:"cards"},card_field_value:{one:"valor de campo",other:"valores de campo"},checklist:{one:"checklist",other:"checklists"},checklist_item:{one:"item de checklist",other:"itens de checklist"},comment:{one:"coment\xe1rio",other:"coment\xe1rios"},field:{one:"campo",other:"campos"},field_type:{one:"tipo de campo",other:"tipos de campos"},organization:{one:"organiza\xe7\xe3o",other:"organiza\xe7\xf5es"},phase:{one:"fase",other:"fases"},pipe:{one:"pipe",other:"pipes"},user:{one:"usu\xe1rio",other:"usu\xe1rios"}}},layouts:{application:{user_profile:"perfil de usu\xe1rio",organization_link_description:"Sua organiza\xe7\xe3o",checkout_new_pipefy:"Conhe\xe7a o novo Pipefy",new_organization:{title:"Criar nova organiza\xe7\xe3o",description:"Criar uma nova organiza\xe7\xe3o limpa para colocar novos pipes"},user_settings:{title:"Configura\xe7\xf5es para %{name}",description:"Username, e-mail, linguagem, etc..."},org_settings:{title:"Configura\xe7\xf5es para %{name}",description:"Nome, membros, permiss\xf5es, etc..."}}},notification_mailer:{card_assignee:{subject:"Voc\xea foi responsabilizado por um card",title:"H\xe1 um novo card designado para voc\xea!",what:"O qu\xea?",where:"Onde?",where_value:"%{pipe_name} em %{organization_name}",which_phase:"Qual fase?",when:"Quando?",who:"Quem designou?",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",view_card:"ver card",unsubscribe:"descadastrar"},mention:{subject:"%{mentioned_by} mencionou voc\xea no card %{card_title}",title:"%{mentioned_by} mencionou voc\xea",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",view_resource:"ver card",view_card:"ver card",unsubscribe:"descadastrar"},new_card:{subject:"Novo card em %{pipe_name}",title:"H\xe1 um novo card em %{pipe_name}!",pipe_on_organization:"%{pipe_name} em %{organization_name}",who_created:"Quem criou?",view_card:"ver card",unsubscribe:"descadastrar"},move_card:{subject:"%{card_title} foi movido para %{phase_name}",title:"%{card_title} foi movido para %{phase_name}",was_on_x_for:"Estava na fase %{phase_name} por...",moved_to:"Movido para?",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",view_card:"ver card",unsubscribe:"descadastrar"},done_card:{subject:"%{card_title} foi finalizado!",title:"Um card foi finalizado! _o/",done_by:"Conclu\xeddo por?",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",view_card:"ver card",unsubscribe:"descadastrar"},new_comment:{subject:"%{username} comentou um de seus cards",title:"%{username} comentou um de seus cards",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",view_card:"ver card",unsubscribe:"descadastrar"},new_checklist:{subject:"Nova checklist no card %{card_title}",title:"Nova checklist no card %{card_title}",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",view_card:"ver card",unsubscribe:"descadastrar"},new_role:{subject:"Voc\xea foi adicionado em %{resource_name}",title:"Voc\xea foi adicionado em %{resource_name}",what:"Qual %{resource_type}?",who:"Quem te adicionou?",when:"Quando?",permission:"Permiss\xe3o:",view_resource:"ver %{resource_type}",unsubscribe:"descadastrar"},expired_card:{subject:"Alerta de expira\xe7\xe3o - %{card_title}",title:"O card %{card_title} acabou de expirar!",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",help:"O que \xe9 um alerta de expira\xe7\xe3o?",help_description:"Voc\xea pode definir um limite de tempo para os cards ficarem em um processo, quando um card atingir o limite estipulado, este alerta \xe9 enviado.",view_card:"ver card",unsubscribe:"descadastrar"},late_card:{subject:"Alerta de atraso - %{card_title}",title:"O card %{card_title} acabou de atrasar!",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",help:"O que \xe9 um alerta de atraso?",help_description:"Voc\xea pode definir um limite de tempo para os cards ficarem em uma fase, quando um card atingir o limite estipulado, este alerta \xe9 enviado.",view_card:"ver card",unsubscribe:"descadastrar"},overdue_card:{subject:"Alerta de vencimento - %{card_title}",title:"O card %{card_title} venceu",due_date:"Data de vencimento",leadtime:"Leadtime",leadtime_value:"Em %{pipe_name} por %{duration_description}, na fase %{phase_name} por %{phase_duration_description}, %{status}",help:"O que \xe9 um alerta de vencimento?",help_description:"\xc9 um lembrete disparado quando um card atinge a data de vencimento e ainda est\xe1 aberto.",view_card:"ver card",unsubscribe:"descadastrar"}},report_export_mailer:{report_export_complete:{download_report:"Baixar dados do relat\xf3rio"}},registration_mailer:{recommend:{subject:"%{username} convidou voc\xea para o Pipefy",title:"Ol\xe1, %{username} convidou voc\xea para o Pipefy",body:"<b>O que \xe9 o Pipefy?</b><br>Com o Pipefy voc\xea organiza facilmente todos os seus processos em um lugar e aposenta sua colcha de retalhos de aplicativos, formul\xe1rios, planilhas, e-mails...",accept:"aceitar convite",problems:"Se voc\xea tiver problemas para acessar o link copie a seguinte URL na barra de endere\xe7o do seu navegador:"}},cards:{create:{success:"Card criado com sucesso"},destroy:{success:"Card apagado com sucesso"},update:{success:"Card atualizado com sucesso"},show:{cannot_open_draft:"Este card n\xe3o pode ser aberto, ele \xe9 um card rascunho de outra pessoa.",choose:"Escolha o",next_step:"Pr\xf3ximo Passo",onboard:{left_side:"<h2>Na esquerda</h2><p>O que voc\xea encontra aqui?</p><p> - O t\xedtulo e os detalhes da tarefa;<br> - O que aconteceu nas fases anteriores.</p>",right_side:"<h2>Na direita</h2><p>O que voc\xea encontra aqui?</p><p> - Instru\xe7\xf5es a serem seguidas;<br> - O que precisa ser feito.</p>",setup:"<h2>Clique no t\xedtulo para editar esta fase</h2><p>Voc\xea pode editar facilmente qualquer coisa do seu workflow para atender suas necessidades. Voc\xea pode editar esta fase para:</p><p> - Adicionar, remover e reordenar campos;<br> - Adicionar checklists, datas de vencimento, aprova\xe7\xf5es, instru\xe7\xf5es, anexos, respons\xe1vies e muito mais...</p>",actions:"<h2>Como mover para frente</h2><p>Quando uma fase \xe9 completada, mova o card para o pr\xf3ximo passo.</p>",moved:"<h2>O pr\xf3ximo passo</h2><p>D\xea uma olhada no que voc\xea precisa fazer na pr\xf3xima fase do seu processo.</p>"}}},database_tables:{messages:{required:"O campo %{field} \xe9 obrigat\xf3rio",not_unique:"O campo %{field} deve ter um valor \xfanico",validation_dont_match:{email:"O valor do campo %{field} n\xe3o \xe9 um email v\xe1lido",custom:"O valor do campo %{field} n\xe3o \xe9 v\xe1lido para a m\xe1scara customizada: %{validation_pattern}"}},index:{create_database_table:"Criar nova tabela"},"new":{title:"Nova Tabela"},edit:{title:"Editar Tabela"},field_types:{short_text:"Texto",long_text:"Texto",integer_number:"N\xfamero",decimal_number:"N\xfamero",currency_number:"N\xfamero","boolean":"Checkbox",date:"Data",datetime:"Data",time:"Hora",email:"E-mail",select:"Seletor",phone:"Telefone",database_lookup:"Database lookup",vertical_radio:"Radio",horizontal_radio:"Radio",vertical_checklist:"Checklist",horizontal_checklist:"Checklist"},form:{name:"Nome",description:"Descri\xe7\xe3o",delete_title:"Apagar Tabela",delete_description:"Uma vez que voc\xea apague esta tabela, n\xe3o h\xe1 volta. Por favor, tenha certeza do que est\xe1 fazendo.",delete_button:"Apagar Tabela"},database_table:{add_record:"Adicionar Registro",database_settings:"Editar Tabela","delete":"Excluir",edit_fields:"Editar campos",records:"Registros",view_records:"Ver Registros"}},database_fields:{index:{add_fields_to:"Adicionar campos",back_to_records:"Voltar para os registros",title:"Campos",your_fields:"Seus campos"},"new":{fields:"Campos",title:"Novo campo"},form:{description:"Descri\xe7\xe3o",name:"Nome",required:"Este campo \xe9 obrigat\xf3rio",advanced_settings:"Op\xe7\xf5es avan\xe7adas",unique:"Este campo deve ter valor \xfanico",title_field:"Este campo deve ser usado como o t\xedtulo para os registros",delete_title:"Apagar Campo",delete_description:"Uma vez que voc\xea apague este campo, n\xe3o h\xe1 volta. Por favor, tenha certeza do que est\xe1 fazendo.",delete_button:"Apagar Campo",type:"Tipo",validation_pattern_placeholder:"Escreva sua pr\xf3pria express\xe3o regular para validar",add_option:"Adicionar op\xe7\xe3o",database_lookup_table:"Tabela",database_lookup_table_description:"Selecione de qual tabela o campo vai mostrar os registros",can_create_database_record:"O usu\xe1rio pode criar registros nesta tabela de dentro deste field",can_have_multiple_database_records:"O usu\xe1rio pode selecionar/criar m\xfaltiplos registros"},edit:{title:"Editar campo"},destroy:{success:"Seu campo foi removido sucesso"},move_up:{success:"Seu campo foi alterado com sucesso"},move_down:{success:"Seu campo foi alterado com sucesso"},fields_list:{title_field:"T\xcdTULO"}},database_records:{show:{related_pipes:"Pipes Relacionados",current_phase:"Fase atual"},index:{title:"Registros",add_new:"Adicionar novo",save:"Salvar",settings:"CONFIGURA\xc7\xd5ES DA TABELA",fields:"Editar Campos"},"new":{back_to_records:"Voltar aos registros",title:"Novo registro"},edit:{title:"Editar registro"},form:{delete_title:"Apagar Registro",delete_description:"Uma vez que voc\xea apague este registro, n\xe3o h\xe1 volta. Por favor, tenha certeza do que est\xe1 fazendo.",delete_button:"Apagar Registro"},get_data:{no_title:"<sem t\xedtulo>"}},setup:{call_to_back_title:"Voc\xea est\xe1 alterando as suas configura\xe7\xf5es",back_to_pipe:"Voltar para o pipe",breadcrumb_preffix:"Voc\xea est\xe1 em:"},field_types:{create:{success:"Tipo de campo criado com sucesso"},destroy:{success:"Tipo de campo apagado com sucesso"},update:{success:"Tipo de campo atualizado com sucesso"}},fields:{"new":{title:"Novo campo"},edit:{title:"Configura\xe7\xf5es do campo"},create:{success:"Campo foi criado com sucesso"},destroy:{success:"Campo foi apagado com sucesso"},form:{delete_title:"Apagar Campo",delete_description:"Uma vez que voc\xea apague este campo, n\xe3o h\xe1 volta. Por favor, tenha certeza do que est\xe1 fazendo.",delete_button:"Apagar Campo","new":"Novo campo",label:"R\xf3tulo do campo",label_description:"Este ser\xe1 o t\xedtulo do campo...",type:"Tipo",type_description:"Data, texto curto, caixa de sele\xe7\xe3o, checklist\u2026 O que voc\xea precisa?",settings:"Configura\xe7\xf5es do campo",required:"Este campo \xe9 obrigat\xf3rio",editable:"Este campo \xe9 edit\xe1vel em outras fases",due_date:"Este campo deve ser usado como vencimento",description:"Descri\xe7\xe3o",description_description:"Explique em poucas palavras o que deve ser preenchido no campo.",help:"Texto de ajuda",help_description:"Informe seus usu\xe1rios de mais detalhes deste campo.",preview:"Previsualiza\xe7\xe3o",preview_description:"Verifique como o texto de ajuda ser\xe1 mostrado.",options:"Op\xe7\xf5es",options_description:"Adicione as op\xe7\xf5es uma por linha. Somente configure para os campos caixa de sele\xe7\xe3o, m\xfaltipla escolha ou checklist.",database_table:"Tabela",database_table_description:"Selecione de qual tabela o campo vai mostrar os registros",go_to_phase_settings:"ir para as configura\xe7\xf5es da fase",can_have_multiple_database_records:{label:"N\xfamero de registros","false":{label:"Registro \xfanico",sub:"Somente um registro da sua database pode estar relacionado a um card"},"true":{label:"M\xfaltiplos registros",sub:"Voc\xea pode relacionar mais de um registro da sua database a um card"}},database_field_layout:{label:"Fun\xe7\xe3o do campo",only_create:{label:"Criar registro na database",sub:"Voc\xea pode somente criar novos registros na database usando este campo"},only_search:{label:"Pesquisar registros da database",sub:"Voc\xea pode somente pesquisar nos registros existentes na sua database usando este campo"},search_and_create:{label:"Pesquisar e criar registros na database",sub:"Voc\xea pode pesquisar nos registros da sua database e criar novos usando este campo"}}},update:{success:"Campo atualizado com sucesso"}},automated_message_setups:{"new":{title:"Novo template de e-mail"},edit:{title:"Configura\xe7\xf5es do template de e-mail"},create:{success:"Template de e-mail configurada com sucesso"},destroy:{success:"Configura\xe7\xe3o de template de e-mail apagada com sucesso"},update:{success:"Template de e-mail configurada com sucesso"},form:{email_template:"Template de e-mail",handlebars_completion:"Gerar conte\xfado din\xe2mico",handlebars_completion_description:"","new":"Nova configura\xe7\xe3o de template de e-mail",from_name:"Nome do remetente",from_name_description:"Qual \xe9 o nome do remetente?",from_email:"E-mail do remetente",from_email_description:"Qual \xe9 o endere\xe7o de e-mail do remetente?",to_email:"E-mail do destinat\xe1rio",to_email_description:"Quais s\xe3o os endere\xe7\xf5es de e-mail dos destinat\xe1rios? (separados por v\xedrgula)",settings:"Configura\xe7\xf5es",go_to_phase_settings:"ir para as configura\xe7\xf5es da fase",delete_title:"Apagar Template de E-mail",delete_description:"Uma vez que voc\xea apague esta template de e-mail, n\xe3o h\xe1 volta. Por favor, tenha certeza do que est\xe1 fazendo.",delete_button:"Apagar Template de E-mail"}},email_templates:{"new":{title:"Novo template de e-mail"},edit:{title:"Configura\xe7\xf5es do template de e-mail"},handlebars_completion:{entity:"Entidade",entity_description:"",property:"Propriedade",property_description:"",completion:"Handlebars",completion_description:"Copie isto e cole onde voc\xea quer colocar o valor da propriedade selecionada"},form:{handlebars_completion:"Gerar conte\xfado din\xe2mico",handlebars_completion_description:"","new":"Nova template de e-mail",name:"Nome",name_description:"Informe um nome para identificar a sua template de e-mail",subject:"Assunto",subject_description:"Este ser\xe1 o assunto para todos os e-mails que forem enviados usando esta template",body:"Conte\xfado",body_description:"Coloque aqui o conte\xfado do seu e-mail",markdown_help:"Precisa de ajuda para formatar seu texto com markdown? D\xea uma olhada nestas instru\xe7\xf5es.",go_to_pipe_settings:"ir para as configura\xe7\xf5es de pipe",preview:"Pr\xe9visualiza\xe7\xe3o",delete_title:"Apagar Template de E-mail",delete_description:"Uma vez que voc\xea apague esta template de e-mail, n\xe3o h\xe1 volta. Por favor, tenha certeza do que est\xe1 fazendo.",delete_button:"Apagar Template de E-mail"},create:{success:"Template de e-mail criada com sucesso"},update:{success:"Template de e-mail atualizado com sucesso"},destroy:{success:"Template de e-mail apagado com sucesso"}},labels:{"new":{title:"Nova label"},edit:{title:"Configura\xe7\xf5es da label"},create:{success:"Label criada com sucesso."},destroy:{success:"Label apagada com sucesso."},update:{success:"Label atualizada com sucesso."},form:{"new":"Nova label",label_settings:"Configura\xe7\xf5es de Label",color:"Cor",color_description:"Esta \xe9 a cor para os cards marcados com esta label. Evite labels com cores similares.",name:"Nome",name_description:"Escolha um nome para sua label",go_to_pipe_settings:"ir para as configura\xe7\xf5es de pipe",delete_title:"Apagar Label",delete_description:"Uma vez que voc\xea apague esta label, n\xe3o h\xe1 volta. Por favor, tenha certeza do que est\xe1 fazendo.",delete_button:"Apagar Label"}},organizations:{create:{success:"Organiza\xe7\xe3o criada com sucesso"},current:{success:"Estat\xedsticas da organiza\xe7\xe3o atualizadas com sucesso",fail:"Desculpe-me, alguma coisa errada aconteceu e n\xf3s n\xe3o pudemos atualizar as estat\xedsticas da sua organiza\xe7\xe3o"},destroy:{success:"Organiza\xe7\xe3o apagada com sucesso"},empty:{title:"Voc\xea ainda n\xe3o faz parte de nenhuma organiza\xe7\xe3o",details:"Crie uma agora e comece a trabalhar, \xe9 f\xe1cil!",create_first_organization:"Criar minha primeira organiza\xe7\xe3o"},form:{name:"Nome da organiza\xe7\xe3o",name_description:"D\xea um nome legal \xe0 ela!",locale:"Idioma",locale_description:"Este idioma ser\xe1 usado para usu\xe1rios convidados para esta org",members:"Membros",members_description:"Quem pode acessar esta organiza\xe7\xe3o?",add_user:"Adicionar usu\xe1rio",other_settings:"Configura\xe7\xf5es",only_admin_can_invite_users:"Apenas administradores podem convidar usu\xe1rios para esta organiza\xe7\xe3o",only_admin_can_create_pipes:"Apenas administradores podem criar pipes nesta organiza\xe7\xe3o",single_sign_on:"Single Sign-on",force_omniauth_to_normal_users:"For\xe7ar usu\xe1rios normais a se logarem com o Google",delete_title:"Apagar Organiza\xe7\xe3o",delete_description:"Uma vez que voc\xea apague a sua organiza\xe7\xe3o, n\xe3o h\xe1 volta. Por favor, tenha certeza do que est\xe1 fazendo.",delete_button:"Apagar Organiza\xe7\xe3o"},index:{confirm_destroy:"Voc\xea tem certeza que quer apagar esta organiza\xe7\xe3o?"},"new":{title:"Nova organiza\xe7\xe3o"},edit:{title:"Configura\xe7\xf5es da organiza\xe7\xe3o"},onboard_new:{setup_organization:"Configure <strong>sua organiza\xe7\xe3o</strong>",its_simple:"\xc9 simples, leva s\xf3 30 segundos",name_placeholder:"Nome da Organiza\xe7\xe3o",team_size_placeholder:"Tamanho do Time"},pipe:{open_cards:{one:"aberto",other:"abertos"},done_cards:{one:"conclu\xeddo",other:"conclu\xeddos"},private_pipe_title:"Esse pipe \xe9 privado, os usu\xe1rios da organiza\xe7\xe3o n\xe3o podem v\xea-lo a n\xe3o ser que sejam membros dele",view_pipe:"Ver esse pipe",join_pipe:"Se tornar membro",leave_pipe:"Deixar de ser membro",invite_member:"Convidar membro",metrics:"M\xe9tricas",reports:"Relat\xf3rios",settings:"Configura\xe7\xf5es",duplicate:"Duplicar esse pipe","delete":"Excluir esse pipe"},show:{create_card:"Criar card",invite_members:"Convidar membros do time",joined_pipes:"Pipes que voc\xea \xe9 membro",unjoined_pipes:"Pipes que voc\xea n\xe3o \xe9 membro",create_new_pipe:"Adicionar novo pipe",pipe_create_call_to_action:"Adicionar novo processo na sua organiza\xe7\xe3o",import_template:{title:"Importar templates gratuitas",description:"Templates gratuitas, baseadas nas melhores pr\xe1ticas de mercado."},filter_description:"Selecione um per\xedodo para filtrar os n\xfameros dos pipes",filters:{today:"Hoje",yesterday:"Ontem",this_week:"Esta semana",last_week:"Semana passada",this_month:"Este m\xeas",last_month:"M\xeas passado",all_time:"Tudo",custom:"Outro",custom_modal:{to:"at\xe9",apply:"Aplicar"}}},update:{success:"Organiza\xe7\xe3o atualizda com sucesso"},user:{assigned_cards:"responsabilizado",doing_cards:"fazendo",moved_cards:"moveu"}},passwords:{create:{complete_registration:"Voc\xea n\xe3o completou seu registro ainda, por favor complete e voc\xea estar\xe1 pronto para come\xe7ar!",new_invitation_sent:"Voc\xea possui um convite com a aceita\xe7\xe3o pendente, voc\xea receber\xe1 um novo convite em seu e-mail nos pr\xf3ximos minutos."}},phases:{"new":{title:"Nova fase"},create:{success:"Fase criada com sucesso"},destroy:{success:"Fase apagada com sucesso"},edit:{start_form_title:"Configura\xe7\xf5es do formul\xe1rio de in\xedcio",title:"Configura\xe7\xf5es da fase"},form:{start_form:"Start form","new":"Nova fase",start_form_settings:"Configura\xe7\xf5es do formul\xe1rio de in\xedcio",start_form_description:"O que precisa ser informado para criar um card neste pipe?",phase_settings:"Configura\xe7\xf5es da fase",name:"Nome da fase",name_description:"Montar, preparar, produzir... qual \xe9 o nome dessa fase?",start_form_fields_description:"O que precisa ser informado para criar um card neste pipe?",phase_fields_description:"O que voc\xea quer que seja feito ou informado nessa fase?",create_new_field:"Criar novo campo",done:"Esta \xe9 uma fase final do processo",advanced_options:"Op\xe7\xf5es Avan\xe7adas",assigned:"Respons\xe1vel",assigned_description:"Quem ser\xe1 sempre designado para os novos cards dessa fase?",card_title:"T\xedtulo do card",card_title_description:"Escolha qual campo ser\xe1 o t\xedtulo do card.",pipe_connections:"Pipes conectados",pipe_connections_description:"Conecte seu pipe para compartilhar e relacionar cards com outros processos.",create_new_pipe_connection:"Criar nova conex\xe3o de pipe",automated_message_setups:"Templates de e-mail",automated_message_setups_description:"Configure mensagens customizadas para enviar em movimenta\xe7\xf5es de fase ou manualmente.",create_new_automated_message_setup:"Configurar novo e-mail",description:"Descri\xe7\xe3o",description_description:"Adicione uma descri\xe7\xe3o para mostrar em cada fase no pipe.",late_alert:"Alerta de atraso",late_alert_description:"Defina um tempo m\xe1ximo (SLA) para um card ficar nesta fase.",action_buttons:"Bot\xf5es de a\xe7\xe3o",action_buttons_description:"Deixe um card se movimentar para fases diferentes. Como pular diretamente para o fim.",go_to_pipe:"ir para o pipe",go_to_pipe_settings:"ir para configura\xe7\xf5es do pipe",only_admin_can_move_to_previous:"Apenas usu\xe1rios administradores podem mover cards desta fase para a fase anterior",public_form:"Compartilhe esse formul\xe1rio",public_form_url:"URL p\xfablica",public_form_embed_code:"C\xf3digo para embed",email_inbox:"Caixa de entrada de e-mail",email_inbox_description:"Crie cards atrav\xe9s de e-mails",email_address:"Endere\xe7o de e-mail",email_setup:"Configure os campos",email_from_name_field:"Nome do remetente",dont_have_short_text:"Voc\xea n\xe3o tem um campo do tipo short text para receber esta informa\xe7\xe3o",add_short_text:"Adicione um novo campo do tipo short text",email_from_address_field:"Endere\xe7o do remetente",dont_have_email:"Voc\xea n\xe3o tem um campo do tipo e-mail para receber esta informa\xe7\xe3o",add_email:"Adicione um novo campo do tipo e-mail",email_subject_field:"Assunto",dont_have_long_text:"Voc\xea n\xe3o tem um campo do tipo long text para receber esta informa\xe7\xe3o",add_long_text:"Adicione um novo campo do tipo long text",email_body_field:"Corpo",email_attachment_field:"Anexos",dont_have_attachment:"Voc\xea n\xe3o tem um campo do tipo attachment para receber esta informa\xe7\xe3o",add_attachment:"Adicione um novo campo do tipo attachment",delete_title:"Apagar Fase",delete_description:"Uma vez que voc\xea apagar esta fase, n\xe3o h\xe1 mais volta. Por favor, tenha certeza do que voc\xea est\xe1 fazendo.",delete_button:"Apagar Fase"},update:{success:"Fase atualizada com sucesso"}},pipe_connections:{"new":{title:"Nova conex\xe3o de pipe"},edit:{title:"Configura\xe7\xf5es da conex\xe3o de pipe"},create:{success:"Conex\xe3o de pipe criada com sucesso"},destroy:{success:"Conex\xe3o de pipe removida com sucesso"},form:{pipe:"Pipe",pipe_description:"O pipe para onde voc\xea deseja permitir que os usu\xe1rios criem cards conectados",settings:"Configura\xe7\xf5es da conex\xe3o de pipe",create_manually:"Permitir criar cards conectados manulamente",required_connected_cards_creation_to_move:"Um ou mais cards conectados devem ser criados para mover o card para a pr\xf3xima fase",required_connected_cards_finish_to_move:"Todos os cards conectados devem ser conclu\xeddos para mover o card para a pr\xf3xima fase",required_connected_cards_creation_to_finish:"Um ou mais cards conectados devem ser criados para concluir o card pai",required_connected_cards_finish_to_finish:"Todos os cards conectados devem ser conclu\xeddos para concluir o card pai",go_to_phase_settings:"ir para as configura\xe7\xf5es da fase",delete_title:"Apagar Conex\xe3o de Pipe",delete_description:"Uma vez que voc\xea apagar esta conex\xe3o de pipe, n\xe3o h\xe1 mais volta. Por favor, tenha certeza do que voc\xea est\xe1 fazendo.",delete_button:"Apagar Conex\xe3o de Pipe"},update:{success:"Conex\xe3o de pipe atualizada com sucesso"}},pipes:{"new":{title:"Novo pipe"},clone:{success:"Pipe clonado com sucesso",no_current_organization:"Voc\xea n\xe3o tem nenhuma organiza\xe7\xe3o selecionada, por favor, selecione uma e tente novamente"},create:{success:"Pipe criado com sucesso"},customize_public_form:{title:"Customizar formul\xe1rio p\xfablico",html:"HTML",css:"CSS"},update_public_form:{success:"Formul\xe1rio p\xfablico atualizado com sucesso"},destroy:{success:"Pipe apagado com sucesso"},edit_permissions:{admin_members:"Administradores",admin_members_description:"Quem pode editar as configura\xe7\xf5es deste pipe?",worker_members:"Colaboradores",worker_members_description:"Quem pode criar, abrir, editar e deletar cards neste pipe?",creator_members:"Criadores",creator_members_description:"Quem pode criar cards neste pipe?",go_to_pipe_settings:"ir para as configura\xe7\xf5es de pipe"},filter_modal:{title:"Filtrar cards",button:"Filtrar cards",by_label:"POR LABEL",by_title:"Filtrar por t\xedtulo do card",dont_have_label:"Voc\xea n\xe3o tem nenhuma label cadastrada",by_member:"POR MEMBRO",dont_have_member:"Voc\xea n\xe3o tem nenhum mebro cadastrado",clear:"Limpar filtro"},form:{"new":"Novo pipe",clone_to:"clonar para",pipe_settings:"Configura\xe7\xf5es do Pipe",other_settings:"Configura\xe7\xf5es",only_assignees_can_edit_cards:"Apenas os usu\xe1rios respons\xe1veis pelos cards podem edit\xe1-los neste pipe",only_admin_can_remove_cards:"Apenas usu\xe1rios admin podem remover cards deste pipe","public":"Este pipe \xe9 p\xfablico para todos os membros desta organiza\xe7\xe3o",name:"Nome",name_description:"Este \xe9 o nome do seu processo. Ex: desenvolvimento de software, pipeline de vendas",start_form:"Start form",start_form_description:"O que voc\xea quer que seja informado para criar um card neste pipe?",setup_start_form:"Configure o seu formul\xe1rio de in\xedcio",phases_description:"Comprar os ingredientes, cozinhar e servir... Adicione as fases de seu processo!",email_templates_description:"Estes s\xe3o os e-mails que voc\xea pode enviar em cards deste pipe",create_phase:"Criar uma nova fase",create_email_template:"Criar uma nova template de e-mail",members:"Membros",members_description:"Quem pode criar cards e visualizar as informa\xe7\xf5es dentro do pipe.",add_member:"Adicionar membro do time",labels:"Labels",labels_description:"Use labels coloridas para identificar diferentes tipos de cards. Use como quiser!",create_label:"Criar uma nova label",advanced_options:"Op\xe7\xf5es Avan\xe7adas",expired:"Alerta de expirado",expired_description:"Defina um tempo m\xe1ximo (SLA) para finalizar um card neste pipe.",go_to_pipe:"ir para o pipe",delete_title:"Apagar Pipe",delete_description:"Uma vez que voc\xea apagar este pipe, n\xe3o h\xe1 mais volta. Por favor, tenha certeza do que voc\xea est\xe1 fazendo.",delete_button:"Apagar Pipe"},update:{success:"Pipe atualizado com sucesso"},update_permissions:{success:"Pipe atualizado com sucesso"},edit:{title:"Configura\xe7\xf5es do pipe",new_phase:"adicionar fase"},show:{"export":"exportar",metrics:"m\xe9tricas",reports:"relat\xf3rios",manage:"configura\xe7\xf5es",add_members:"adicionar membros",filter:"filtrar",filter_on:"filtro ligado",clear_filter:"Limpar filtro",join_pipe_title:"Voc\xea ainda n\xe3o \xe9 membro deste pipe",join_pipe_subtitle:"Se torne membro para poder visualizar e editar o conte\xfado dos cards",join_pipe_button:"Se tornar membro",click_here:'Se estiver demorando muito, por favor <a href="%{url}">clique aqui</a> para verificar novamente.',title:"S\xf3 um pouquinho<strong>Seu <span>pipe</span> est\xe1 sendo criado</strong>"},show_cloning:{title:"S\xf3 um pouquinho<strong>Seu <span>pipe</span> est\xe1 sendo criado</strong>",click_here:'Se estiver demorando muito, por favor <a href="%{url}">clique aqui</a> para verificar novamente.'},start_form:{create_card_on_cloning_pipe:"Este pipe est\xe1 sendo clonado, voc\xea n\xe3o pode criar cards nele ainda."}},pipe_clones:{show:{title:"S\xf3 um pouquinho<strong>Seu <span>pipe</span> est\xe1 sendo criado</strong>",error_message:'Ocorreu um erro clonando esse pipe <a href="%{url}">clique aqui</a> para voltar \xe0 p\xe1gina do pipe.'},show_cloning:{title:"S\xf3 um pouquinho<strong>Seu <span>pipe</span> est\xe1 sendo criado</strong>",click_here:'Se estiver demorando muito, por favor <a href="%{url}">clique aqui</a> para verificar novamente.',error_message:'There was an error cloning this pipe <a href="%{url}">click here</a> to go back to the pipe\'s page.'}},registration_industries:{general:{title:"Dezenas de <strong>templates gratuitas</strong> baseadas nas melhores pr\xe1ticas",subtitle:"Escolha uma delas para come\xe7ar:"},index:{title:"Rode todos os seus processos em <strong>apenas um lugar</strong>",subtitle:"Crie seu primeir processo para aprender como o Pipefy funciona. Escolha uma categoria do nosso diret\xf3rio:",marketing_and_sales:"Marketing & Vendas",it:"TI",operations:"Opera\xe7\xf5es",human_resources:"Recursos Humanos"},show:{marketing:[{id:121,title:"Pipeline de Vendas",description:"Fa\xe7a mais neg\xf3cios e aumente suas vendas adotando este processo passo a passo de gest\xe3o do Pipeline de Vendas!"},{id:1569,
title:"Solicita\xe7\xf5es de Marketing",description:"Crie um processo para receber solicita\xe7\xf5es para a sua \xe1rea de marketing como  campanhas de e-mail marketing, materiais visuais, comunica\xe7\xe3o interna, design e outros..."},{id:797,title:"Gest\xe3o de Tarefas com Kanban",description:"Controle melhor o que o time precisa fazer, quais s\xe3o as prioridades, o que est\xe1 no prazo e o que est\xe1 atrasado!"},{id:1687,title:"Assessoria de Imprensa",description:"Um passo a passo para voc\xea realizar internamente a Assessoria de Imprensa da sua empresa, da cria\xe7\xe3o do seu media kit \xe0 publica\xe7\xe3o de press releases!"}],it:[{id:726,title:"Agile Software Development",description:"Um modelo de desenvolvimento de sotware baseado nas melhores pr\xe1ticas de Scrum e Agile Software Development!"},{id:794,title:"Bug Tracking",description:"Um modelo baseado nas melhores pr\xe1ticas para sua equipe notificar um bug corretamente e para realizar a prioriza\xe7\xe3o e corre\xe7\xe3o do bug encontrado."},{id:792,title:"Product Roadmap",description:"Fa\xe7a a gest\xe3o correta das funcionalidades do seu software definindo o que \xe9 importante e o que precisa ser entregue primeiro!"},{id:746,title:"Service Desk / Chamados TI",description:"Um processo estruturado para a sua equipe abrir chamados de TI e posteriormente controlar o atendimento das solicita\xe7\xf5es enviadas!"}],operations:[{id:797,title:"Gest\xe3o de Tarefas com Kanban",description:"Seja mais eficiente administrando as tarefas do seu time usando o Kanban, m\xe9todo de gest\xe3o enxuta!"},{id:520,title:"Helpdesk",description:"Solicita\xe7\xf5es, chamados, d\xfavidas\u2026 Melhore seu servi\xe7o ao cliente usando um processo de Helpdesk!"},{id:830,title:"Pedidos de Reembolsos",description:"Crie um processo estruturado para centralizar e organizar os pedidos de reembolso na sua empresa!!"},{id:299,title:"Processo de Compras",description:"Organize melhor o processo da \xe1rea de compras da sua empresa e ganhe agilidade e economia!"}],human_resources:[{id:912,title:"Recrutamento de pessoal",description:"Contrate os melhores candidatos um processo passo a passo baseado nas melhores pr\xe1ticas de recrutamento e sele\xe7\xe3o!"},{id:154,title:"Processo de Contrata\xe7\xe3o",description:"Um processo com o passo a passo para se realizar corretamente a contrata\xe7\xe3o de pessoal. Da documenta\xe7\xe3o aos boas-vindas!"},{id:913,title:"Triagem de Curr\xedculos e entrevistas com candidatos",description:"Fa\xe7a a melhor filtragem e sele\xe7\xe3o de cantidatos para as suas vagas utilizando este modelo de triagem e entrevistas!"},{id:830,title:"Pedidos de Reembolsos",description:"Crie um processo estruturado para centralizar e organizar os pedidos de reembolso na sua empresa!"}]}},registrations:{general:{create_account:"Crie a sua conta gr\xe1tis",setup_profile:"Configure seu perfil",setup_organization:"Configure sua organiza\xe7\xe3o",terms:'Se registrando, voc\xea concorda com os <a href="http://www.pipefy.com/use-terms/" target="_blank">Termos de Servi\xe7o</a> e a <a href="http://www.pipefy.com/privacy-policy" target="_blank">Pol\xedtica de privacidade</a>, incluindo o uso de Cookies.'},new_form:{create_account:"Crie sua <strong>conta gr\xe1tis</strong>",its_simple:"\xc9 simples, leva s\xf3 30 segundos",email_description:"Seu e-mail de trabalho",password_description:"Sua senha"},create:{invitation_not_accepted_yet:"You have a pending invitation for a Pipefy organization. We are resending it for you, please check your inbox."},edit:{about_you:"Mais <strong>sobre voc\xea</strong>",its_simple:"\xc9 simples, leva s\xf3 30 segundos",name_description:"Seu nome completo",phone_description:"Seu telefone"}},reports:{index:{export_report:"Exportar Relat\xf3rio",edit_report:"Editar Relat\xf3rio",created_by:"Criado por",updated_at:"Atualizado em",create_new_report:"Criar novo relat\xf3rio"},"new":{"export":"Exportar relat\xf3rio",new_report:"Novo relat\xf3rio",save:"Salvar",create:"Salvar relat\xf3rio"},show:{save:"Salvar","export":"Exportar relat\xf3rio"},title:"Relat\xf3rios",cards:"cards",create_modal_header:"Digite o nome do seu novo relat\xf3rio",edit_name_header:"Editar nome do relat\xf3rio",general_attributes:"Geral",export_complete_subject:"Sua exporta\xe7\xe3o est\xe1 pronta",export_success:"Voc\xea receber\xe1 em breve por e-mail o CSV com os dados do relat\xf3rio",export_ready_download:"O CSV do seu relat\xf3rio(%{pipe}) est\xe1 pronto para ser baixado",saved:"Seu relat\xf3rio foi salvo com sucesso",not_saved:"N\xe3o foi poss\xedvel salvar o seu relat\xf3rio",report_name:"Nome do relat\xf3rio"},users:{auth_token:{invalid_password:"A senha informada est\xe1 incorreta, tente novamente"},create:{success:"Usu\xe1rio criado com sucesso"},destroy:{success:"Usu\xe1rio apagado com sucesso"},edit:{title:"Configura\xe7\xf5es de Usu\xe1rio",change_avatar:"Atualize (ou crie) o seu avatar no",email_notification_enabled:"Quero receber notifica\xe7\xf5es por e-mail",confirm:"Voc\xea ser\xe1 deslogado ap\xf3s apagar este usu\xe1rio. Voc\xea tem certeza que deseja apag\xe1-lo?",auth_token_description:"Copie isto para a ferramenta que voc\xea quer integrar com o Pipefy",show_auth_token:"Mostrar API key",notifications:"Notifica\xe7\xf5es",delete_title:"Apagar Conta",delete_description:"Uma vez que voc\xea apagar esta conta, n\xe3o h\xe1 mais volta. Por favor, tenha certeza do que voc\xea est\xe1 fazendo.",delete_button:"Apagar Conta"},index:{confirm_destroy:"Voc\xea tem certeza que quer apagar este usu\xe1rio?"},update:{success:"Usu\xe1rio atualizado com sucesso"}},user_settings:{title:"Configura\xe7\xf5es de Usu\xe1rio",notifications:{title:"Notifica\xe7\xf5es"},user_notification_preferences:{title:"Notifica\xe7\xf5es por E-mail"},user_pipe_notification_preferences:{title:"Notifica\xe7\xf5es Personalizadas"},update:{success:"Configura\xe7\xf5es atualizadas."}},notification_preferences:{email_me_when:"Notificar-me por email quando:",disabled:"Todas as notifica\xe7\xf5es por email est\xe3o desabilitadas. Voc\xea n\xe3o receber\xe1 nenhum e-mail do Pipefy.",added_or_mention:"Quando eu for adicionado a um Pipe ou Organiza\xe7\xe3o ou mencionado/respons\xe1vel por um card",card_moved_expired_or_late:"Quando um card for movido, expirar, estiver atrasado ou vencido",card_comment_or_checklist_created:"Quando  um coment\xe1rio ou checklist for criado"},welcome:{play_video:"REPRODUZIR V\xcdDEO",next_step:"Pr\xf3ximo",replay_video:"ou reproduzir novamente...",skip_video:"Pular este v\xeddeo",skip_step:"Pular este passo",its_simple:"\xc9 simples, leva s\xf3 30 segundos",invite_members:{title:"Convide <b>membros do time</b>",email_placeholder:"Informe o endere\xe7o de e-mail",add_field:"Adicionar mais um e-mail"},index:{slide1:{title:"Bem vindo a Bordo!",details:"Com o Pipefy voc\xea ir\xe1 organizar e manter todos os seus processos na mesma ferramenta - sem a ajuda do cara do TI ou de consultores. Veja a sua home:"},slide2:{title:"Como funciona?",details:"<b>Processos s\xe3o chamados Pipes:</b> Dentro deles, as tarefas - chamadas cards - deslocam-se lateralmente por todas as fases at\xe9 serem conclu\xeddas no final.",card:"Card",pipe:"Pipe"},slide3:{title:"Como criar um card?",details:'<b>Para criar um card num pipe, preencha o formul\xe1rio inicial.</b> Ex: para pedir a compra de um novo laptop, Jo\xe3o deve preencher o formul\xe1rio do Pipe "Processo de Compras".'},slide4:{title:"Pipe: seu processo como uma linha de produ\xe7\xe3o!",details:"Ap\xf3s o preenchimento, o card ser\xe1 adicionado no Pipe na primeira fase do processo e seguir\xe1 pelas fases seguintes at\xe9 ser conclu\xeddo."},slide5:{title:"Workflow a prova de erros",details:"De cada lado, voc\xea encontrar\xe1 dois blocos de informa\xe7\xe3o:"},slide6:{title:"Guie o seu time passo a passo",details:"Estruture o seu processo adicionando instru\xe7\xf5es para serem seguidas em cada fase"},done:"Entendi, leve-me para o meu painel!"},congrats_modal:{title:"Parab\xe9ns!",description:"Voc\xea acabou de criar <br/>seu primeiro processo.",button:"Teste ele!"},how_it_works:{title:"As tarefas se chamam cards",call_to_action:"Clique e abra um card",call_to_action_description:"para descobrir o que precisa ser feito na sua fase."},finish:{title:"Primeiro passo: Crie seu primeiro processo",details:"Qual \xe9 o segredo de times excepcionais em execu\xe7\xe3o? Eles criam e usam bons processos para guia-los. \xc9 como garantem que tudo seja sempre feito com efici\xeancia e do jeito certo.<br><br>Agora \xe9 a sua vez, escolha um processo para come\xe7ar:",sales:{title:"Marketing / Vendas",items:[{title:"Pipeline de Vendas",pipe_id:121},{title:"Marketing de Conte\xfado",pipe_id:1686},{title:"Solicita\xe7\xf5es de Marketing",pipe_id:1569},{title:"Assessoria de Imprensa",pipe_id:1687}]},it:{title:"TI",items:[{title:"Agile Software Development",pipe_id:726},{title:"Bug Tracking",pipe_id:794},{title:"Product Roadmap",pipe_id:792},{title:"Chamados de TI",pipe_id:746}]},human_resources:{title:"RH",items:[{title:"Solicita\xe7\xf5es de RH",pipe_id:1784},{title:"Processo de Contrata\xe7\xe3o",pipe_id:154},{title:"Solicita\xe7\xe3o de F\xe9rias",pipe_id:1787},{title:"Triagem de Curr\xedculos e Entrevistas",pipe_id:1786}]},management:{title:"Opera\xe7\xf5es",items:[{title:"Gest\xe3o de Tarefas com Kanban",pipe_id:797},{title:"Reembolso de Despesas",pipe_id:830},{title:"Processo de Compras",pipe_id:299},{title:"Helpdesk",pipe_id:520}]}}},organization_seeder:{pipe_name:"Pipeline de vendas (exemplo)",phases:{form:{name:"Form"},first_contact:{name:"Primeiro contato",description:"Aqui chegam as oportunidades criadas. Contate-os!"},meeting_arranged:{name:"Reuni\xe3o marcada",description:"A oportunidade \xe9 boa? Qualifique o lead e as necessidades do cliente."},needs_discovered:{name:"Necessidades descobertas",description:"Hora do show! Fa\xe7a a melhor proposta de neg\xf3cio!"},proposal_delivered:{name:"Proposta enviada",description:"Feche o neg\xf3cio! \xc9 hora de fazer o follow-up e negociar."},won:{name:"Ganhos",description:"Parab\xe9ns!"},lost:{name:"Perdidos",description:"Descanse em paz..."}},fields:{form:{instructions:{name:"Instru\xe7\xf5es",description:"Tudo come\xe7a do formul\xe1rio inicial. Voc\xea cria um formul\xe1rio como esse para cada processo e o time sempre dever\xe1 preench\xea-lo ao criar um card. No exemplo do Pipeline de Vendas, \xe9 necess\xe1rio as informa\xe7\xf5es b\xe1sicas do lead para iniciar o processo de vendas."},name:{name:"Nome completo",description:"Nome do cliente! Ex: Jo\xe3o da Silva"},company:{name:"Empresa",description:"Ex: Pipefy empreendimentos"},email:{name:"E-mail",description:"email@dominio.com.br"},phone:{name:"Telefone"},more_details:{name:"Mais detalhes",description:"Tem mais detalhes para compartilhar? Por favor, adicione aqui."}},first_contact:{instructions:{name:"Instru\xe7\xf5es",description:'Aqui \xe9 como o fluxo de trabalho funciona. Na esquerda voc\xea pode ver o que aconteceu nas fases anteriores. Na direita, o que voc\xea precisa fazer. OBS: Voc\xea pode criar campos e instru\xe7\xf5es, exatamente como fizemos aqui. Ap\xf3s responder os campos, mova este card para "Reuni\xe3o marcada"...'},about:{name:"Sobre o primeiro contato",description:"Como foi a conversa? Conte-nos mais detalhes sobre o cliente e suas necessidades."},date:{name:"Data",description:"Reuni\xe3o agendada para..."},time:{name:"Hora",description:"Ex: 6 pm."},where:{name:"Onde?",options:{opt1:"Em nosso escrit\xf3rio",opt2:"No escrit\xf3rio do cliente",opt3:"Via call/Skype"}},more_details:{name:"Mais detalhes sobre a pr\xf3xima reuni\xe3o",description:"Qual \xe9 a pauta? Precisa organizar alguma coisa? Precisa levar algu\xe9m junto?"}},meeting_arranged:{needs:{name:"Quais s\xe3o as necessidades do cliente?",description:"Quem \xe9 o cliente? Quais s\xe3o suas necessidades?"},purchaser_of:{name:"Potencial comprador de",description:"Por favor, marque os produtos/servi\xe7os do nosso portfolio que voc\xea planeja oferecer.",options:{opt1:"Servi\xe7o A",opt2:"Servi\xe7o B",opt3:"Servi\xe7o C",opt4:"Suporte",opt5:"Manuten\xe7\xe3o",opt6:"Produto D"}},have_budget:{name:"Ele tem recursos suficientes?",options:{opt1:"sim",opt2:"n\xe3o",opt3:"n\xe3o ficou claro"}},size:{name:"Tamanho da empresa",description:"\xc9 um grande neg\xf3cio em potencial?",options:{opt1:"Peqeno",opt2:"M\xe9dio",opt3:"Grande"}},next_steps:{name:"Quais s\xe3o os pr\xf3ximos passos?",options:{opt1:"Enviar amostras",opt2:"Enviar proposta",opt3:"Esperar resposta do cliente",opt4:"Analisar mais \xe0 fundo quais s\xe3o as necessidades do cliente"}}},needs_discovered:{send:{name:"Enviar amostras?",options:{opt1:"sim",opt2:"n\xe3o"}},reference:{name:"Precisa de refer\xeancias de outros clientes?",options:{opt1:"sim",opt2:"n\xe3o"}},decision_person:{name:"Quem \xe9 o tomador de decis\xe3o?",description:"Sempre tente negociar com a pessoa que possui dinheiro, autoridade e necessidade pelo item a ser negociado."},expected_close:{name:"Data de fechamento estimada"},sent_on:{name:"Proposta enviada em"},more_details:{name:"Mais detalhes"},quality:{name:"N\xe3o esquecer",options:{opt1:"Adicionar o contato no cadastro de clientes",opt2:"Criar uma pasta do cliente no servidor",opt3:"Adicionar uma c\xf3pia da proposta na pasta",opt4:"Fazer uma an\xe1lise de cr\xe9dito do cliente"}},follow_up:{name:"Fazer o follow-up da negocia\xe7\xe3o em"}},proposal_delivered:{instructions:{name:"Instru\xe7\xf5es",description:"A etapa de follow-up \xe9 a mais importante da negocia\xe7\xe3o. Crie urg\xeancia, conduza o cliente para o fechamento, ajude-o esclarecendo d\xfavidas e preocupa\xe7\xf5es. Ap\xf3s 30 dias de negocia\xe7\xe3o, mova o neg\xf3cio para a fase de perdidos."},more_details:{name:"Mais detalhes"}}}},pipe_seeder:{start_form:{name:"Start form",field:"O qu\xea?"},inbox:{name:"Caixa de entrada",description:"Aqui chegam os cards criados para este pipe."},doing:{name:"Fazendo",description:"Hora do show! Aqui ficam os cards que est\xe3o sendo feitos."},done:{name:"Conclu\xeddo",description:"Descanse em paz\u2026 Aqui ficam os cards finalizados."}},views:{automated_messages:{title:"Mensagens enviadas"},cards:{checklists_tab:{create_checklist_button:"Criar nova checklist"},item:{horizontal_drag_error:"N\xe3o \xe9 permitido arrastar lateralmente por causa do workflow. Use os bot\xf5es de movimenta\xe7\xe3o para mover entre as fases! =)"},connected_cards:{title:"Cards conectados",cannot_open:"Desculpe, voc\xea n\xe3o \xe9 capaz de abrir este card"},edit:{destroy_success:"O card foi apagado com sucesso",destroy_error:"Voc\xea n\xe3o tem permiss\xe3o para apagar cards, por favor contate o administrador da organiza\xe7\xe3o",message_sent:"A mensagem foi enviada com sucesso",view_database_record:"Ver registro %{title}"},details:{add_label:"adicionar label",closed_by_move:"Este card foi movido para a fase %{phase_name}.",reload_card:"Recarregar card",click_to_edit:"Clique para editar",new_record:"Adicione %{query} como um novo registro",empty_new_record:"Adicione um novo registro",select_record:"Selecione um registro"}},comments:{title:"Coment\xe1rios"},checklists:{title:"Checklists"},database_tables:{search_in:"Buscar em %{in}"},launchpad_form:{create_success:"Card criado com sucesso!",close_confirm_text:"Voc\xea perder\xe1 todas as informa\xe7\xf5es que preencheu neste card",close_confirm_button:"Fechar mesmo assim"},pipes:{onboard:{title:"<h2>Esse \xe9 seu pipe!</h2><p>Em seu processo, as tarefas - chamadas cards - se movem lateralmente atrav\xe9s de m\xfaltiplas fases at\xe9 ficarem prontas.</p>",phase:"<h2>Fases</h2><p>Cada fase tem regras diferentes, e cada card deve passar por elas para poder avan\xe7ar."}},public_form:{create_card_label:"Enviar",reload_button_text:"Criar outra resposta",success_message:"Sua resposta <strong>foi</strong> recebida <strong>com sucesso</strong>"},fields:{edit:{confirmation_text:"Se voc\xea alterar o tipo do campo, voc\xea perder\xe1 todos os valores atribu\xeddos a ele nos seus cards.",confirmation_button:"Yes, change it"}}},templates:{automated_messages:{sent_at:"Enviada em"},card_field_components:{help:"Ajuda",learn_more:"mais detalhes"},pipes:{more_phases:"Precisa mais fases?",pimp_your_pipe:"D\xea um trato no seu pipe... Voc\xea pode adicionar quantas fases voc\xea precisar!",create_phase:"criar fase"},phases:{card_not_created:"Pr\xf3ximo passo: Crie um card e mova-o para descobrir o que voc\xea deve fazer em cada fase!",create_card:"adicionar card",edit_phase:"Editar esta fase"},launchpad:{title:"Launchpad",all:"Todos"},launchpad_form:{title:"criar novo card em",edit_form:"editar este formul\xe1rio",create_card:"Criar card"},cards:{send_message:"Enviar mensagem",expired_short:"EXP",late_short:"ATR",start:"IN\xcdCIO",done:"FIM",total:"TOTAL",parent_title:"Pai:",go_to_card:"Ir para o card",back_to:"voltar para",move_to:"mover para",add_member:"atribuir respons\xe1vel",add_more:"adicionar",add:"Adicionar",checklist:"Checklist",add_connected_card:"Cards conectados","new":"Novo",expired:"EXPIRADO",late:"ATRASADO",add_fields_description:"Voc\xea n\xe3o adicionou nenhum campo padr\xe3o na sua fase ainda. Monte seu workflow!",add_fields:"adicionar campos",more:"mais...",destroy:"Deletar",info_tab:"Informa\xe7\xf5es",checklists_tab:"Checklists",parent_info_tab:"Informa\xe7\xf5es do Pai",create_connected_card:"criar card conectado",write_comment:"Escreva um coment\xe1rio",post_comment:"postar coment\xe1rio",due:"VENC",parent_info_title:"Informa\xe7\xf5es do Pai",this_info_title:"Informa\xe7\xf5es",now_on:"Agora em",what_happened:"O que aconteceu nesse card nas",connected_with:"Esse card est\xe1 conectado com",previous_phases:"Fases anteriores"},card_phase_detail:{start_form:"Start form"}},utils:{delete_description:"Voc\xea n\xe3o poder\xe1 recuperar estas informa\xe7\xf5es ou qualquer uma de suas depend\xeancias.",delete_confirmation:"Sim, pode apagar!"},add:"Adicionar",and:"e",turn_on:"Ligar",turn_off:"Desligar",app_description:"Organizar os processos da sua empresa pode ser f\xe1cil",back:"voltar",cancel:"cancelar",card:"card",clone_name:"%{new_name} (copy %{index})",connect_with_google:"Conectar com Google",confirm_sentence:"Voc\xea tem certeza?",created_at:"criado em",create_card:"criar card",create_your_account:"Crie sua conta gr\xe1tis agora",database:"database",dashboard:"dashboard",destroy:"deletar",done:"conclu\xeddo",done_card:"card conclu\xeddo",draft:"Rascunho",duration:"dura\xe7\xe3o",edit:"editar",enabled:"habilitado",disabled:"desabilitado",english:"Ingl\xeas (UK)",english_us:"Ingl\xeas (Estados Unidos)",expired:"expirado",forgot_password:"Esqueceu sua senha?",getting_started:"Ajuda",help:"Ajuda",home_page:"home",invitation_button_description:"convidar usu\xe1rio",invitation_mail_placeholder:"Ex: steve@pipefy.com, kayne.west@pipefy.com",invitation_header:"Convidar membro para o time",invitation_send:"Convidar membro para o time",invitation_single_success_message:'O usu\xe1rio "%{username}" foi adicionado aos membros do time',invitation_multiple_success_message:"Seus convites foram enviados",invitations_email_label:"Endere\xe7os de e-mail ou nomes de usu\xe1rio",invitations_email_hint:"Voc\xea pode informar <strong>m\xfaltiplos e-mails</strong> separados por v\xedrgulas",invitations_billing_disclaimer:"A cobran\xe7a ocorrer\xe1 no pr\xf3ximo faturamento",invitations_billing_faq_url:"http://www.pipefy.com/help/billing-faq",invitations_billing_faq_link_text:"Confira perguntas frequentes no nosso FAQ",label:"label",late:"atrasado",lead_time:"leadtime",loading:"carregando...",logout:"deslogar",name:"nome",next:"pr\xf3ximo",next_step:"Pr\xf3ximo passo","new":"novo",no_name:"(sem nome)",none:"nenhum",ok:"OK",or:"ou",on_preposition:"em",on_time:"no prazo",open_card:"card aberto",organization:"organiza\xe7\xe3o",password:"Senha",phase:"fase",pipe:"pipe",portuguese:"Portugu\xeas",save:"salvar",saved:"salvo",send:"enviar",sign_in:"Acessar",short_config:"Config",show:"exibir",started_at:"iniciado em",total:"total",update:"atualizar",what:"O que?",when:"Quando?",where:"Onde?",who:"Quem?",which_phase:"Qual fase?",leadtime:"Leadtime",remove_org_user_confirmation:"Isto ir\xe1 remover este usu\xe1rio desta organiza\xe7\xe3o e seus pipes, fases e cards.",remove_pipe_user_confirmation:"Isto ir\xe1 remover este usu\xe1rio deste pipe.",title:"t\xedtulo",to_search:"buscar",search:"busca",search_for:"buscar por","default":"Padr\xe3o",custom:"Espec\xedfica",metrics:{title:"M\xe9tricas do pipe",cumulative_flow:"Cumulative Flow",lead_time_average:"m\xe9dia de Lead time",phases_total:"Total das fases",happening_now:"Acontecendo agora",productivity_report:"Produtividade",this_period:"Esse per\xedodo",lifetime:"Desde o in\xedcio",today:"Hoje",yesterday:"Ontem",current_week:"Essa semana",last_week:"\xdaltima semana",current_month:"Esse m\xeas",last_month:"\xdaltimo m\xeas",current_year:"Esse ano"},database_field_types:{long_text:"Texto longo",short_text:"Texto curto",integer_number:"N\xfamero inteiro",decimal_number:"N\xfamero decimal",currency_number:"Valor monet\xe1rio","boolean":"Checkbox",date:"Data",datetime:"Data e hora",time:"Hora",select:"Seletor",phone:"Telefone",database_lookup:"Database lookup",vertical_radio:"Radio vertical",horizontal_radio:"Radio horizontal",vertical_checklist:"Checklist vertical",horizontal_checklist:"Checklist horizontal"},database_field_validations:{none:"Nenhuma",email:"E-mail",custom:"Customizada"},selectpicker:{nothing_selected:"Escolha uma op\xe7\xe3o",no_results:"Nenhum resultado para",count:"{0} de {1} selecionados"},organization_industry:{operations:"Operations",marketing:"Marketing",it:"IT / Software development",human_resources:"Human resources"},role_descriptions:{admin:"admin",normal:"normal",worker:"colaborador",creator:"criador"},menu:{user_profile:"Perfil",user_notification:"Notifica\xe7\xf5es"},date:{abbr_day_names:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],abbr_month_names:[null,"Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_names:["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"],formats:{"default":"%d/%m/%Y","long":"%d de %B de %Y","short":"%d de %B"},month_names:[null,"Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],order:["day","month","year"]},datetime:{distance_in_words:{about_x_hours:{one:"aproximadamente 1 hora",other:"aproximadamente %{count} horas"},about_x_months:{one:"aproximadamente 1 m\xeas",other:"aproximadamente %{count} meses"},about_x_years:{one:"aproximadamente 1 ano",other:"aproximadamente %{count} anos"},almost_x_years:{one:"quase 1 ano",other:"quase %{count} anos"},half_a_minute:"meio minuto",less_than_x_minutes:{one:"menos de um minuto",other:"menos de %{count} minutos"},less_than_x_seconds:{one:"menos de 1 segundo",other:"menos de %{count} segundos"},over_x_years:{one:"mais de 1 ano",other:"mais de %{count} anos"},x_days:{one:"1 dia",other:"%{count} dias"},x_minutes:{one:"1 minuto",other:"%{count} minutos"},x_months:{one:"1 m\xeas",other:"%{count} meses"},x_seconds:{one:"1 segundo",other:"%{count} segundos"}},prompts:{day:"Dia",hour:"Hora",minute:"Minuto",month:"M\xeas",second:"Segundo",year:"Ano"}},helpers:{select:{prompt:"Por favor selecione"},submit:{create:"Criar %{model}",submit:"Salvar %{model}",update:"Atualizar %{model}"}},number:{currency:{format:{delimiter:".",format:"%u %n",precision:2,separator:",",significant:!1,strip_insignificant_zeros:!1,unit:"R$"}},format:{delimiter:".",precision:3,separator:",",significant:!1,strip_insignificant_zeros:!1},human:{decimal_units:{format:"%n %u",units:{billion:{one:"bilh\xe3o",other:"bilh\xf5es"},million:{one:"milh\xe3o",other:"milh\xf5es"},quadrillion:{one:"quatrilh\xe3o",other:"quatrilh\xf5es"},thousand:"mil",trillion:{one:"trilh\xe3o",other:"trilh\xf5es"},unit:""}},format:{delimiter:".",precision:2,significant:!0,strip_insignificant_zeros:!0},storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},gb:"GB",kb:"KB",mb:"MB",tb:"TB"}}},percentage:{format:{delimiter:".",format:"%n%"}},precision:{format:{delimiter:"."}}},support:{array:{last_word_connector:" e ",two_words_connector:" e ",words_connector:", "}}}}}),function(){$(function(){return $('a[data-method="delete"]').off(),$('a[data-method="delete"]').not(".logout").click(function(e){return e.preventDefault(),$(this).data("skip-confirmation")?($(this).off("click"),$(this).trigger("click")):Util.deleteConfirmation({text:$(this).data("confirmation")||I18n.t("utils.delete_description")},function(e){return function(){return $(e).off("click"),$(e).trigger("click")}}(this)),!1})})}.call(this),function(){}.call(this),function(){$(function(){return $("input").iCheck({checkboxClass:"icheck-wrap icheckbox_flat-cyan",radioClass:"icheck-wrap iradio_flat-cyan"})})}.call(this),function(){$.noty.defaults.timeout=2500,$.noty.defaults.layout="top"}.call(this),function(){$(function(){return $("input.minicolors").minicolors({letterCase:"uppercase",theme:"bootstrap"})})}.call(this),function(){$.fn.selectpicker.defaults={noneSelectedText:I18n.t("selectpicker.nothing_selected"),noneResultsText:I18n.t("selectpicker.no_results"),countSelectedText:I18n.t("selectpicker.count")},$(function(){return $("select:not([data-default-select=true])").selectpicker()})}.call(this),function(){moment.defineLocale("pt-br",{weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",lll:"DD/MM/YYYY HH:mm"}}),moment.defineLocale("en",{longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",lll:"DD/MM/YYYY HH:mm"}}),moment.defineLocale("en-us",{longDateFormat:{LT:"HH:mm a",LTS:"HH:mm:ss a",L:"MM/DD/YYYY",lll:"MM/DD/YYYY HH:mm a"}})}.call(this),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=n(String(e||"").toLowerCase()),!e||!e.length)return[];var t,i,r,s,l=[],c=e.split(/ +/);for(t=0,i=c.length;i>t;t++){if(r=o(c[t]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(r=r.replace(new RegExp(s,"g"),a[s]));l.push({string:c[t],regex:new RegExp(r,"i")})}return l},e.prototype.iterator=function(e,t){var i;i=r(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;i>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},i.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var i,n,o,r;i=this,e=i.prepareSearch(e,t),o=e.tokens,n=e.options.fields,r=o.length;var a=function(e,t){var i,n;return e?(e=String(e||""),n=e.search(t.regex),-1===n?0:(i=t.string.length/e.length,0===n&&(i+=.5),i)):0},s=function(){var e=n.length;return e?1===e?function(e,t){return a(t[n[0]],e)}:function(t,i){for(var o=0,r=0;e>o;o++)r+=a(i[n[o]],t);return r/e}:function(){return 0}}();return r?1===r?function(e){return s(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,n=0;r>i;i++){if(t=s(o[i],e),0>=t)return 0;n+=t}return n/r}:function(e){for(var t=0,i=0;r>t;t++)i+=s(o[t],e);return i/r}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var n,o,r,a,s,l,c,d,u,h,p;if(r=this,e=r.prepareSearch(e,i),p=!e.query&&i.sort_empty||i.sort,u=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},s=[],p)for(n=0,o=p.length;o>n;n++)(e.query||"$score"!==p[n].field)&&s.push(p[n]);if(e.query){for(h=!0,n=0,o=s.length;o>n;n++)if("$score"===s[n].field){h=!1;break}h&&s.unshift({field:"$score",direction:"desc"})}else for(n=0,o=s.length;o>n;n++)if("$score"===s[n].field){s.splice(n,1);break}for(d=[],n=0,o=s.length;o>n;n++)d.push("desc"===s[n].direction?-1:1);return l=s.length,l?1===l?(a=s[0].field,c=d[0],function(e,i){return c*t(u(a,e),u(a,i))}):function(e,i){var n,o,r;for(n=0;l>n;n++)if(r=s[n].field,o=d[n]*t(u(r,e),u(r,i)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=i({},t);var n=t.fields,o=t.sort,a=t.sort_empty;return n&&!r(n)&&(t.fields=[n]),o&&!r(o)&&(t.sort=[o]),a&&!r(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var i,n,o,r,a=this;return n=this.prepareSearch(e,t),t=n.options,e=n.query,r=t.score||a.getScoreFunction(n),e.length?a.iterator(a.items,function(e,o){i=r(e),(t.filter===!1||i>0)&&n.items.push({score:i,id:o})}):a.iterator(a.items,function(e,t){n.items.push({score:1,id:t})}),o=a.getSortFunction(n,t),o&&n.items.sort(o),n.total=n.items.length,"number"==typeof t.limit&&(n.items=n.items.slice(0,t.limit)),n};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=s(String(e||"")),t=s(String(t||"")),e>t?1:t>e?-1:0)},i=function(e,t){var i,n,o,r;for(i=1,n=arguments.length;n>i;i++)if(r=arguments[i])for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);return e},n=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[a\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\u0100\u0101\u0105\u0104]",c:"[c\xc7\xe7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e]",e:"[e\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb\u011b\u011a\u0112\u0113\u0119\u0118]",i:"[i\xcc\xcd\xce\xcf\xec\xed\xee\xef\u012a\u012b]",l:"[l\u0142\u0141]",n:"[n\xd1\xf1\u0148\u0147\u0144\u0143]",o:"[o\xd2\xd3\xd4\xd5\xd5\xd6\xd8\xf2\xf3\xf4\xf5\xf6\xf8\u014c\u014d]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161\u015b\u015a]",t:"[t\u0165\u0164]",u:"[u\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc\u016f\u016e\u016a\u016b]",y:"[y\u0178\xff\xfd\xdd]",z:"[z\u017d\u017e\u017c\u017b\u017a\u0179]"},s=function(){var e,t,i,n,o="",r={};for(i in a)if(a.hasOwnProperty(i))for(n=a[i].substring(2,a[i].length-1),o+=n,e=0,t=n.length;t>e;e++)r[n.charAt(e)]=i;var s=new RegExp("["+o+"]","g");return function(e){return e.replace(s,function(e){return r[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var i,n,o,r=this,a=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(i=0,n=e.length;n>i;i++)"string"==typeof e[i]?a.push(e[i]):(r.plugins.settings[e[i].name]=e[i].options,a.push(e[i].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],a.push(o));for(;a.length;)r.require(a.shift())},e.prototype.loadPlugin=function(t){var i=this,n=i.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');n.requested[t]=!0,n.loaded[t]=o.fn.apply(i,[i.plugins.settings[t]||{}]),n.names.push(t)},e.prototype.require=function(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]},e.define=function(t,i){e.plugins[t]={name:t,fn:i}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,i){"use strict";var n=function(e,t){if("string"!=typeof t||t.length){var i="string"==typeof t?new RegExp(t,"i"):t,n=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(i);if(o>=0&&e.data.length>0){var r=e.data.match(i),a=document.createElement("span");a.className="highlight";var s=e.splitText(o),l=(s.splitText(r[0].length),s.cloneNode(!0));a.appendChild(l),s.parentNode.replaceChild(a,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=n(e.childNodes[c]);return t};return e.each(function(){n(this)})}},o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1));
}},o.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=o.prototype[t[i]]};var r=/Mac/.test(navigator.userAgent),a=65,s=13,l=27,c=37,d=38,u=80,h=39,p=40,f=78,m=8,g=46,v=16,y=r?91:17,b=r?18:17,_=9,w=1,x=2,C=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,k=function(e){return"undefined"!=typeof e},S=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},T=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},D=function(e){return(e+"").replace(/\$/g,"$$$$")},A={};A.before=function(e,t,i){var n=e[t];e[t]=function(){return i.apply(e,arguments),n.apply(e,arguments)}},A.after=function(e,t,i){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return i.apply(e,arguments),t}};var P=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},E=function(e,t){var i;return function(){var n=this,o=arguments;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(n,o)},t)}},I=function(e,t,i){var n,o=e.trigger,r={};e.trigger=function(){var i=arguments[0];return-1===t.indexOf(i)?o.apply(e,arguments):void(r[i]=arguments)},i.apply(e,[]),e.trigger=o;for(n in r)r.hasOwnProperty(n)&&o.apply(e,r[n])},M=function(e,t,i,n){e.on(t,i,function(t){for(var i=t.target;i&&i.parentNode!==e[0];)i=i.parentNode;return t.currentTarget=i,n.apply(this,[t])})},L=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),t.start=i.text.length-n,t.length=n}return t},$=function(e,t,i){var n,o,r={};if(i)for(n=0,o=i.length;o>n;n++)r[i[n]]=e.css(i[n]);else r=e.css();t.css(r)},F=function(t,i){if(!t)return 0;var n=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");$(i,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=n.width();return n.remove(),o},O=function(e){var t=null,i=function(i,n){var o,r,a,s,l,c,d,u;i=i||window.event||{},n=n||{},i.metaKey||i.altKey||(n.force||e.data("grow")!==!1)&&(o=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(r=i.keyCode,a=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===g||r===m?(u=L(e[0]),u.length?o=o.substring(0,u.start)+o.substring(u.start+u.length):r===m&&u.start?o=o.substring(0,u.start-1)+o.substring(u.start+1):r===g&&"undefined"!=typeof u.start&&(o=o.substring(0,u.start)+o.substring(u.start+1))):a&&(c=i.shiftKey,d=String.fromCharCode(i.keyCode),d=c?d.toUpperCase():d.toLowerCase(),o+=d)),s=e.attr("placeholder"),!o&&s&&(o=s),l=F(o,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",i),i()},N=function(i,n){var o,r,a,s,l=this;s=i[0],s.selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(s,null);if(a=c?c.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,a=a||i.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:n,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?w:x,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++N.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?l.onSearchChange:E(l.onSearchChange,n.loadThrottle)}),l.sifter=new t(this.options,{diacritics:n.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;r>o;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;r>o;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(N),i.mixin(N),e.extend(N.prototype,{setup:function(){var t,i,n,o,a,s,l,c,d,u=this,h=u.settings,p=u.eventNS,f=e(window),m=e(document),g=u.$input;if(l=u.settings.mode,c=g.attr("class")||"",t=e("<div>").addClass(h.wrapperClass).addClass(c).addClass(l),i=e("<div>").addClass(h.inputClass).addClass("items").appendTo(t),n=e('<input type="text" autocomplete="off" />').appendTo(i).attr("tabindex",g.is(":disabled")?"-1":u.tabIndex),s=e(h.dropdownParent||t),o=e("<div>").addClass(h.dropdownClass).addClass(l).hide().appendTo(s),a=e("<div>").addClass(h.dropdownContentClass).appendTo(o),u.settings.copyClassesToDropdown&&o.addClass(c),t.css({width:g[0].style.width}),u.plugins.names.length&&(d="plugin-"+u.plugins.names.join(" plugin-"),t.addClass(d),o.addClass(d)),(null===h.maxItems||h.maxItems>1)&&u.tagType===w&&g.attr("multiple","multiple"),u.settings.placeholder&&n.attr("placeholder",h.placeholder),!u.settings.splitOn&&u.settings.delimiter){var _=u.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");u.settings.splitOn=new RegExp("\\s*"+_+"+\\s*")}g.attr("autocorrect")&&n.attr("autocorrect",g.attr("autocorrect")),g.attr("autocapitalize")&&n.attr("autocapitalize",g.attr("autocapitalize")),u.$wrapper=t,u.$control=i,u.$control_input=n,u.$dropdown=o,u.$dropdown_content=a,o.on("mouseenter","[data-selectable]",function(){return u.onOptionHover.apply(u,arguments)}),o.on("mousedown click","[data-selectable]",function(){return u.onOptionSelect.apply(u,arguments)}),M(i,"mousedown","*:not(input)",function(){return u.onItemSelect.apply(u,arguments)}),O(n),i.on({mousedown:function(){return u.onMouseDown.apply(u,arguments)},click:function(){return u.onClick.apply(u,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return u.onKeyDown.apply(u,arguments)},keyup:function(){return u.onKeyUp.apply(u,arguments)},keypress:function(){return u.onKeyPress.apply(u,arguments)},resize:function(){u.positionDropdown.apply(u,[])},blur:function(){return u.onBlur.apply(u,arguments)},focus:function(){return u.ignoreBlur=!1,u.onFocus.apply(u,arguments)},paste:function(){return u.onPaste.apply(u,arguments)}}),m.on("keydown"+p,function(e){u.isCmdDown=e[r?"metaKey":"ctrlKey"],u.isCtrlDown=e[r?"altKey":"ctrlKey"],u.isShiftDown=e.shiftKey}),m.on("keyup"+p,function(e){e.keyCode===b&&(u.isCtrlDown=!1),e.keyCode===v&&(u.isShiftDown=!1),e.keyCode===y&&(u.isCmdDown=!1)}),m.on("mousedown"+p,function(e){if(u.isFocused){if(e.target===u.$dropdown[0]||e.target.parentNode===u.$dropdown[0])return!1;u.$control.has(e.target).length||e.target===u.$control[0]||u.blur(e.target)}}),f.on(["scroll"+p,"resize"+p].join(" "),function(){u.isOpen&&u.positionDropdown.apply(u,arguments)}),f.on("mousemove"+p,function(){u.ignoreHover=!1}),this.revertSettings={$children:g.children().detach(),tabindex:g.attr("tabindex")},g.attr("tabindex",-1).hide().after(u.$wrapper),e.isArray(h.items)&&(u.setValue(h.items),delete h.items),C&&g.on("invalid"+p,function(e){e.preventDefault(),u.isInvalid=!0,u.refreshState()}),u.updateOriginalInput(),u.refreshItems(),u.refreshState(),u.updatePlaceholder(),u.isSetup=!0,g.is(":disabled")&&u.disable(),u.on("change",this.onChange),g.data("selectize",u),g.addClass("selectized"),u.trigger("initialize"),h.preload===!0&&u.onSearchChange("")},setupTemplates:function(){var t=this,i=t.settings.labelField,n=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[n])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var i=this,n=t.isDefaultPrevented();e(t.target);if(i.isFocused){if(t.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():n||i.setActiveItem(null),!1}else n||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var i=this;i.isFull()||i.isInputHidden||i.isLocked?t.preventDefault():i.settings.splitOn&&setTimeout(function(){for(var t=e.trim(i.$control_input.val()||"").split(i.settings.splitOn),n=0,o=t.length;o>n;n++)i.createItem(t[n])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==_&&e.preventDefault());switch(e.keyCode){case a:if(t.isCmdDown)return void t.selectAll();break;case l:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case f:if(!e.ctrlKey||e.altKey)break;case p:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case u:if(!e.ctrlKey||e.altKey)break;case d:if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,-1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case s:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case c:return void t.advanceSelection(-1,e);case h:return void t.advanceSelection(1,e);case _:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case m:case g:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var i=t.$control_input.val()||"";t.lastValue!==i&&(t.lastValue=i,t.onSearchChange(i),t.refreshOptions(),t.trigger("type",i))},onSearchChange:function(e){var t=this,i=t.settings.load;i&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(n){i.apply(t,[e,n])})))},onFocus:function(e){var t=this,i=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(e);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),(t||document.body).focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var i,n,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),n=e(t.currentTarget),n.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(i=n.attr("data-value"),"undefined"!=typeof i&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(i),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(i))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,i=t.val()!==e;i&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===w&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var i=t?[]:["change"];I(this,i,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,i){var n,o,r,a,s,l,c,d,u=this;if("single"!==u.settings.mode){if(t=e(t),!t.length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if(n=i&&i.type.toLowerCase(),"mousedown"===n&&u.isShiftDown&&u.$activeItems.length){for(d=u.$control.children(".active:last"),a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[d[0]]),s=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]),a>s&&(c=a,a=s,s=c),o=a;s>=o;o++)l=u.$control[0].childNodes[o],-1===u.$activeItems.indexOf(l)&&(e(l).addClass("active"),u.$activeItems.push(l));i.preventDefault()}else"mousedown"===n&&u.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(r=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(r,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,i,n){var o,r,a,s,l,c=this;c.$activeOption&&c.$activeOption.removeClass("active"),c.$activeOption=null,t=e(t),t.length&&(c.$activeOption=t.addClass("active"),(i||!k(i))&&(o=c.$dropdown_content.height(),r=c.$activeOption.outerHeight(!0),i=c.$dropdown_content.scrollTop()||0,a=c.$activeOption.offset().top-c.$dropdown_content.offset().top+i,s=a,l=a-o+r,a+r>o+i?c.$dropdown_content.stop().animate({scrollTop:l},n?c.settings.scrollDuration:0):i>a&&c.$dropdown_content.stop().animate({scrollTop:s},n?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var i,n,o,r=this,a=r.settings,s=this.getSearchOptions();if(a.score&&(o=r.settings.score.apply(this,[t]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,n=r.sifter.search(t,e.extend(s,{score:o})),r.currentResults=n):n=e.extend(!0,{},r.currentResults),a.hideSelected)for(i=n.items.length-1;i>=0;i--)-1!==r.items.indexOf(S(n.items[i].id))&&n.items.splice(i,1);return n},refreshOptions:function(t){var i,o,r,a,s,l,c,d,u,h,p,f,m,g,v,y;"undefined"==typeof t&&(t=!0);var b=this,_=e.trim(b.$control_input.val()),w=b.search(_),x=b.$dropdown_content,C=b.$activeOption&&S(b.$activeOption.attr("data-value"));for(a=w.items.length,"number"==typeof b.settings.maxOptions&&(a=Math.min(a,b.settings.maxOptions)),s={},l=[],i=0;a>i;i++)for(c=b.options[w.items[i].id],d=b.render("option",c),u=c[b.settings.optgroupField]||"",h=e.isArray(u)?u:[u],o=0,r=h&&h.length;r>o;o++)u=h[o],b.optgroups.hasOwnProperty(u)||(u=""),s.hasOwnProperty(u)||(s[u]=[],l.push(u)),s[u].push(d);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var i=b.optgroups[e].$order||0,n=b.optgroups[t].$order||0;return i-n}),p=[],i=0,a=l.length;a>i;i++)u=l[i],b.optgroups.hasOwnProperty(u)&&s[u].length?(f=b.render("optgroup_header",b.optgroups[u])||"",f+=s[u].join(""),p.push(b.render("optgroup",e.extend({},b.optgroups[u],{html:f})))):p.push(s[u].join(""));if(x.html(p.join("")),b.settings.highlight&&w.query.length&&w.tokens.length)for(i=0,a=w.tokens.length;a>i;i++)n(x,w.tokens[i].regex);if(!b.settings.hideSelected)for(i=0,a=b.items.length;a>i;i++)b.getOption(b.items[i]).addClass("selected");m=b.canCreate(_),m&&(x.append(b.render("option_create",{input:_})),y=e(x[0].childNodes[x[0].childNodes.length-1])),b.hasOptions=w.items.length>0||m,b.hasOptions?(w.items.length>0?(v=C&&b.getOption(C),v&&v.length?g=v:"single"===b.settings.mode&&b.items.length&&(g=b.getOption(b.items[0])),g&&g.length||(g=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):x.find("[data-selectable]:last"))):g=y,b.setActiveOption(g),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var i,n,o,r=this;if(e.isArray(t))for(i=0,n=t.length;n>i;i++)r.addOption(t[i]);else(o=r.registerOption(t))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,t))},registerOption:function(e){var t=S(e[this.settings.valueField]);return!t||this.options.hasOwnProperty(t)?!1:(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=S(e[this.settings.optgroupValueField]);return t?(e.$order=e.$order||++this.order,this.optgroups[t]=e,t):!1},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,i){var n,o,r,a,s,l,c,d=this;if(t=S(t),r=S(i[d.settings.valueField]),null!==t&&d.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=d.options[t].$order,r!==t&&(delete d.options[t],a=d.items.indexOf(t),-1!==a&&d.items.splice(a,1,r)),i.$order=i.$order||c,d.options[r]=i,s=d.renderCache.item,l=d.renderCache.option,s&&(delete s[t],delete s[r]),l&&(delete l[t],delete l[r]),-1!==d.items.indexOf(r)&&(n=d.getItem(t),o=e(d.render("item",i)),n.hasClass("active")&&o.addClass("active"),n.replaceWith(o)),d.lastQuery=null,d.isOpen&&d.refreshOptions(!1)}},removeOption:function(e,t){var i=this;e=S(e);var n=i.renderCache.item,o=i.renderCache.option;n&&delete n[e],o&&delete o[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,i){var n=this.$dropdown.find("[data-selectable]"),o=n.index(t)+i;return o>=0&&o<n.length?n.eq(o):e()},getElementWithValue:function(t,i){if(t=S(t),"undefined"!=typeof t&&null!==t)for(var n=0,o=i.length;o>n;n++)if(i[n].getAttribute("data-value")===t)return e(i[n]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,i){for(var n=e.isArray(t)?t:[t],o=0,r=n.length;r>o;o++)this.isPending=r-1>o,this.addItem(n[o],i)},addItem:function(t,i){var n=i?[]:["change"];I(this,n,function(){var n,o,r,a,s,l=this,c=l.settings.mode;return t=S(t),-1!==l.items.indexOf(t)?void("single"===c&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===c&&l.clear(i),"multi"===c&&l.isFull()||(n=e(l.render("item",l.options[t])),s=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(n),(!l.isPending||!s&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(t),a=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),a&&l.setActiveOption(l.getOption(a))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,n),l.updateOriginalInput({silent:i})))))})},removeItem:function(e,t){var i,n,o,r=this;i="object"==typeof e?e:r.getItem(e),e=S(i.attr("data-value")),n=r.items.indexOf(e),-1!==n&&(i.remove(),i.hasClass("active")&&(o=r.$activeItems.indexOf(i[0]),r.$activeItems.splice(o,1)),r.items.splice(n,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),n<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,i))},createItem:function(t,i){var n=this,o=n.caretPos;t=t||e.trim(n.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(t))return r(),!1;n.lock();var a="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},s=P(function(e){if(n.unlock(),!e||"object"!=typeof e)return r();var t=S(e[n.settings.valueField]);return"string"!=typeof t?r():(n.setTextboxValue(""),n.addOption(e),n.setCaret(o),n.addItem(t),n.refreshOptions(i&&"single"!==n.settings.mode),void r(e))}),l=a.apply(this,[t,s]);return"undefined"!=typeof l&&s(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,i=t.isFull(),n=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",n).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!i&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,n,o,r=this;if(e=e||{},r.tagType===w){for(n=[],t=0,i=r.items.length;i>t;t++)o=r.options[r.items[t]][r.settings.labelField]||"",n.push('<option value="'+T(r.items[t])+'" selected="selected">'+T(o)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),r.$input.html(n.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var i=Math.min(this.caretPos,this.items.length);0===i?this.$control.prepend(t):e(this.$control[0].childNodes[i]).before(t),this.setCaret(i+1)},deleteSelection:function(t){var i,n,o,r,a,s,l,c,d,u=this;if(o=t&&t.keyCode===m?-1:1,r=L(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(l=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),a=[],u.$activeItems.length){for(d=u.$control.children(".active:"+(o>0?"last":"first")),s=u.$control.children(":not(input)").index(d),o>0&&s++,i=0,n=u.$activeItems.length;n>i;i++)a.push(e(u.$activeItems[i]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(0>o&&0===r.start&&0===r.length?a.push(u.items[u.caretPos-1]):o>0&&r.start===u.$control_input.val().length&&a.push(u.items[u.caretPos]));if(!a.length||"function"==typeof u.settings.onDelete&&u.settings.onDelete.apply(u,[a])===!1)return!1;for("undefined"!=typeof s&&u.setCaret(s);a.length;)u.removeItem(a.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),l&&(c=u.getOption(l),c.length&&u.setActiveOption(c)),!0},advanceSelection:function(e,t){var i,n,o,r,a,s,l=this;0!==e&&(l.rtl&&(e*=-1),i=e>0?"last":"first",n=L(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,a=0>e?0===n.start&&0===n.length:n.start===r,a&&!r&&l.advanceCaret(e,t)):(s=l.$control.children(".active:"+i),s.length&&(o=l.$control.children(":not(input)").index(s),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var i,n,o=this;0!==e&&(i=e>0?"next":"prev",o.isShiftDown?(n=o.$control_input[i](),n.length&&(o.hideInput(),o.setActiveItem(n),t&&t.preventDefault())):o.setCaret(o.caretPos+e))},setCaret:function(t){var i=this;if(t="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,t)),!i.isPending){var n,o,r,a;for(r=i.$control.children(":not(input)"),n=0,o=r.length;o>n;n++)a=e(r[n]).detach(),t>n?i.$control_input.before(a):i.$control.append(a)}i.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,i=t.eventNS,n=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(i),e(document).off(i),e(document.body).off(i),delete t.$input[0].selectize},render:function(e,t){var i,n,o="",r=!1,a=this,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(i=S(t[a.settings.valueField]),r=!!i),r&&(k(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(i))?a.renderCache[e][i]:(o=a.settings.render[e].apply(this,[t,T]),("option"===e||"option_create"===e)&&(o=o.replace(s,"<$1 data-selectable")),"optgroup"===e&&(n=t[a.settings.optgroupValueField]||"",o=o.replace(s,'<$1 data-group="'+D(T(n))+'"')),("option"===e||"item"===e)&&(o=o.replace(s,'<$1 data-value="'+D(T(i||""))+'"')),r&&(a.renderCache[e][i]=o),o)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var i=t.settings.createFilter;return("function"!=typeof i||i.apply(t,[e]))&&("string"!=typeof i||new RegExp(i).test(e))&&(!(i instanceof RegExp)||i.test(e))}}),N.count=0,N.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var i=e.fn.selectize.defaults,n=e.extend({},i,t),o=n.dataAttr,r=n.labelField,a=n.valueField,s=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField,d=function(t,i){var s,l,c,d,u=t.attr(o);if(u)for(i.options=JSON.parse(u),s=0,l=i.options.length;l>s;s++)i.items.push(i.options[s][a]);else{var h=e.trim(t.val()||"");if(!n.allowEmptyOption&&!h.length)return;for(c=h.split(n.delimiter),s=0,l=c.length;l>s;s++)d={},d[r]=c[s],d[a]=c[s],i.options.push(d);i.items=c}},u=function(t,i){var d,u,h,p,f=i.options,m={},g=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},v=function(t,o){t=e(t);var l=S(t.attr("value"));if(l||n.allowEmptyOption)if(m.hasOwnProperty(l)){if(o){var c=m[l][s];c?e.isArray(c)?c.push(o):m[l][s]=[c,o]:m[l][s]=o}}else{var d=g(t)||{};d[r]=d[r]||t.text(),d[a]=d[a]||l,d[s]=d[s]||o,m[l]=d,f.push(d),t.is(":selected")&&i.items.push(l)}},y=function(t){var n,o,r,a,s;for(t=e(t),r=t.attr("label"),r&&(a=g(t)||{},a[l]=r,a[c]=r,i.optgroups.push(a)),s=e("option",t),n=0,o=s.length;o>n;n++)v(s[n],r)};for(i.maxItems=t.attr("multiple")?null:1,p=t.children(),d=0,u=p.length;u>d;d++)h=p[d].tagName.toLowerCase(),"optgroup"===h?y(p[d]):"option"===h&&v(p[d])};return this.each(function(){if(!this.selectize){var o,r=e(this),a=this.tagName.toLowerCase(),s=r.attr("placeholder")||r.attr("data-placeholder");s||n.allowEmptyOption||(s=r.children('option[value=""]').text());var l={placeholder:s,options:[],optgroups:[],items:[]};"select"===a?u(r,l):d(r,l),o=new N(r,e.extend(!0,{},i,l,t))}})},e.fn.selectize.defaults=N.defaults,e.fn.selectize.support={validity:C},N.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var e=i.lock;return function(){var t=i.$control.data("sortable");return t&&t.disable(),e.apply(i,arguments)}}(),i.unlock=function(){var e=i.unlock;return function(){var t=i.$control.data("sortable");return t&&t.enable(),e.apply(i,arguments)}}(),i.setup=function(){var t=i.setup;return function(){t.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var t=i.$activeItems?i.$activeItems.slice():null,o=[];n.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),i.setValue(o),i.setActiveItem(t)}})}}()}}),N.define("dropdown_header",function(t){var i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),i.setup=function(){
var n=i.setup;return function(){n.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)}}()}),N.define("optgroup_columns",function(t){var i=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,i){var n=t.closest("[data-group]").find("[data-selectable]"),o=n.index(t)+i;return o>=0&&o<n.length?n.eq(o):e()},this.onKeyDown=function(){var e=i.onKeyDown;return function(t){var n,o,r,a;return!this.isOpen||t.keyCode!==c&&t.keyCode!==h?e.apply(this,arguments):(i.ignoreHover=!0,a=this.$activeOption.closest("[data-group]"),n=a.find("[data-selectable]").index(this.$activeOption),a=t.keyCode===c?a.prev("[data-group]"):a.next("[data-group]"),r=a.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,n)),void(o.length&&this.setActiveOption(o)))}}();var n=function(){var e,t=n.width,i=document;return"undefined"==typeof t&&(e=i.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=n.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t},o=function(){var o,r,a,s,l,c,d;if(d=e("[data-group]",i.$dropdown_content),r=d.length,r&&i.$dropdown_content.width()){if(t.equalizeHeight){for(a=0,o=0;r>o;o++)a=Math.max(a,d.eq(o).height());d.css({height:a})}t.equalizeWidth&&(c=i.$dropdown_content.innerWidth()-n(),s=Math.round(c/r),d.css({width:s}),r>1&&(l=c-s*(r-1),d.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(A.after(this,"positionDropdown",o),A.after(this,"refreshOptions",o))}),N.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i=this,n='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+T(t.title)+'">'+t.label+"</a>",o=function(e,t){var i=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,i)+t+e.substring(i)};this.setup=function(){var r=i.setup;return function(){if(t.append){var a=i.settings.render.item;i.settings.render.item=function(e){return o(a.apply(this,arguments),n)}}r.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!i.isLocked){var n=e(t.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}}),N.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var i=t.onKeyDown;return function(t){var n,o;return t.keyCode===m&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1,n>=0&&n<this.items.length)?(o=this.options[this.items[n]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):i.apply(this,arguments)}}()}),N}),function(){this.Analytics=function(){function e(){}return e.track=function(e,t){return null==t&&(t={}),$.ajax({url:"/analytics/track",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify({event:e,metadata:t}),processData:!1,success:function(e){return"undefined"!=typeof Intercom&&null!==Intercom?setTimeout(function(e){return function(){return Intercom("update")}}(this),4e3):void 0}})},e.createLeadUser=function(e){return $.ajax({url:"/analytics/create_lead_user",type:"POST",dataType:"json",data:JSON.stringify({email:e}),processData:!1})},e.incrementUserAttributes=function(e){return null==e&&(e={}),$.ajax({url:"/analytics/increment_user_attributes",type:"put",contentType:"application/json",dataType:"json",data:JSON.stringify({attributes:e}),processData:!1})},e}()}.call(this),function(){$.pipefy={},$.fn.datetimepicker.defaults=$.extend($.fn.datetimepicker.defaults,{icons:{time:"fa fa-clock-o",date:"fa fa-calendar",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",clear:"fa fa-trash",up:"fa fa-angle-up",down:"fa fa-angle-down"}}),this.Util=function(){function e(){}return e.highlightMentions=function(e){return null!=e?(e=Handlebars.Utils.escapeExpression(e),e=e.replace(/(\r\n|\n|\r)/g,"<br />"),e=e.replace(/(\B)(@)([\w-]+)\b/g,function(e,t,i,n){var o;return o=Pipefy.getMentionableUsers().include(function(e){return e.username===n}),o?""+t+'<strong class="mention">'+i+n+"</strong>":e})):void 0},e.getAjaxErrorMessages=function(e){var t,i;if(i=null,null==e)i=[I18n.t("errors.500")];else if(null!=e.responseJSON)e.responseJSON instanceof Array&&e.responseJSON.length>0&&(i=e.responseJSON);else if(null!=e.responseText){try{t=JSON.parse(e.responseText)}catch(n){t=[]}t instanceof Array&&t.length>0&&(i=t)}return null==i&&(i=function(){switch(e.status){case 401:return[I18n.t("errors.401")];case 403:return[I18n.t("errors.403")];case 404:return[I18n.t("errors.404")];case 422:return[I18n.t("errors.422")];default:return[I18n.t("errors.500")]}}()),i},e.showAjaxErrorNoties=function(e){var t;return t=this.getAjaxErrorMessages(e),_.each(t,function(e){return noty({text:e,type:"error"})})},e.higherDistanceOfTime=function(e,t,i){var n;return null==i&&(i=!1),n=(t-e)/1e3,this.higherDuration(n,i)},e.higherDuration=function(e,t){var i,n;return null==t&&(t=!1),i=e/60,(!i||0>i)&&(i=0),n=t?I18n.t("time.short.minutes"):I18n.t("time.long.minutes"),i>=60&&(i/=60,n=t?I18n.t("time.short.hours"):I18n.t("time.long.hours"),i>=24&&(i/=24,n=t?I18n.t("time.short.days"):I18n.t("time.long.days"))),[Math.floor(i),n]},e.showLoadBox=function(){var e;return e=void 0,e=$("<div class='loadbox'><div class='loading'><div class='circle'></div></div></div>"),$("body").append(e),$(".loadbox").hide().fadeIn("500")},e.hideLoadBox=function(){return $(".loadbox").remove()},e.truncateMiddle=function(e,t,i){var n,o,r,a;return null==t&&(t=40),null==i&&(i="..."),e.length>t&&(a=i.length,o=t-a,r=Math.ceil(o/2),n=Math.floor(o/2),e=e.substr(0,r)+i+e.substr(e.length-n)),e},e.truncate=function(e,t,i){var n;return null==t&&(t=40),null==i&&(i="..."),e&&e.length>t&&e.length>0&&(n=e+" ",n=e.substr(0,t),n=e.substr(0,n.lastIndexOf(" ")),n=n.length>0?n:e.substr(0,t),e=n+i),e},e.runPagedown=function(){var e,t,i;return t=Markdown.getSanitizingConverter(),e=$(".wmd-input"),i=new Markdown.Editor(t),i.run()},e.confirmation=function(e,t){return sweetAlert($.extend({title:I18n.t("confirm_sentence"),type:"warning",confirmButtonColor:"#F12F53",showCancelButton:!0,closeOnConfirm:!1},e),t)},e.deleteConfirmation=function(e,t){return this.confirmation($.extend({text:I18n.t("utils.delete_description"),confirmButtonText:I18n.t("utils.delete_confirmation"),showLoaderOnConfirm:!0},e),t)},e.gravatar=function(e,t){return null==t&&(t=32),"https://www.gravatar.com/avatar/"+md5(e)+"?s="+t+"&d=mm"},e}(),$.fn.exists=function(){return this.length>0},$.expr[":"].icontains=function(e,t,i){return $(e).text().toUpperCase().indexOf(i[3].toUpperCase())>=0},Array.prototype.include=function(e){var t,i,n,o;if(null!=e)for(n=0,o=this.length;o>n;n++)if(i=this[n],t="function"==typeof e?e(i):i===e)return!0;return!1}}.call(this),function(){window.Pipefy={Models:{},Collections:{},Views:{},Routers:{},LiveUpdater:{},initPipeShow:function(e){return this.pipe=e.pipe,this.pipes.add(this.pipe),this.pipeShowRouter=new Pipefy.Routers.PipeShowRouter({pipe:this.pipe}),this.pipeShowRouter.start(),Analytics.track("viewed_pipe",{pipe_id:this.pipe.id}),this.S3BucketURL=e.bucket_url},initLaunchpad:function(e){return this.pipes=new Pipefy.Collections.Pipes(e.pipes),this.launchpad=new Pipefy.Models.Launchpad({favoritePipes:this.pipes}),this.launchpadView=new Pipefy.Views.Launchpad({model:this.launchpad,el:$(".launchpad-container")}),this.launchpadView.render(),this.showAlerts=!e.test_env,$(".sidebar-nav, .header-nav, #overlay-launchpad").click(function(e){return function(){return e.launchpadView.closeLaunchpad()}}(this))},initCurrentInfo:function(e){return this.current_user=e.current_user,this.current_organization=e.current_organization},getMentionableUsers:function(e){return null==e&&(e=!1),(null==this.mentionableUsers||e)&&$.ajax({async:!1,url:"/users",data:{organization_id:this.current_organization.id,accepted_or_not_invited:!0},dataType:"json"}).done(function(e){return function(t){return e.mentionableUsers=t}}(this)),this.mentionableUsers}}}.call(this),function(e,t,i){function n(e){return e}function o(e){return decodeURIComponent(e.replace(r," "))}var r=/\+/g,a=e.cookie=function(r,s,l){if(s!==i){if(l=e.extend({},a.defaults,l),null===s&&(l.expires=-1),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setDate(d.getDate()+c)}return s=a.json?JSON.stringify(s):String(s),t.cookie=[encodeURIComponent(r),"=",a.raw?s:encodeURIComponent(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=a.raw?n:o,h=t.cookie.split("; "),p=0,f=h.length;f>p;p++){var m=h[p].split("=");if(u(m.shift())===r){var g=u(m.join("="));return a.json?JSON.parse(g):g}}return null};a.defaults={},e.removeCookie=function(t,i){return null!==e.cookie(t)?(e.cookie(t,null,i),!0):!1}}(jQuery,document),function(e){var t=function(){"use strict";var e="s",i=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},n=function(e,t,i){var n=new Date;return void 0!==e&&n.setFullYear(e),n.setMonth(t),n.setDate(i),n},o=function(e){return i(n(e,0,2))},r=function(e){return i(n(e,5,2))},a=function(e){var t=e.getMonth()>7,n=t?r(e.getFullYear()):o(e.getFullYear()),a=i(e),s=0>n,l=n-a;return s||t?0!==l:0>l},s=function(){var t=o(),i=r(),n=t-i;return 0>n?t+",1":n>0?i+",1,"+e:t+",0"},l=function(){var e=s();return new t.TimeZone(t.olson.timezones[e])},c=function(e){var t=new Date(2010,6,15,1,0,0,0),i={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":t,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":t,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return i[e]};return{determine:l,date_is_dst:a,dst_start_for:c}}();t.TimeZone=function(e){"use strict";var i={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},n=e,o=function(){for(var e=i[n],o=e.length,r=0,a=e[0];o>r;r+=1)if(a=e[r],t.date_is_dst(t.dst_start_for(a)))return void(n=a)},r=function(){return"undefined"!=typeof i[n]};return r()&&o(),{name:function(){return n}}},t.olson={},t.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=t:e.jstz=t}(this),function(){window.BrowserTZone||(window.BrowserTZone={}),BrowserTZone.setCookie=function(){return $.cookie("browser.timezone",jstz.determine().name(),{expires:365,path:"/"})},jQuery(function(){return BrowserTZone.setCookie()})}.call(this),function(){$.pipefy.AutomatedMessageSetupHandlebarsCompletion={init:function(e){return this.entities=e,this.$entity=$("#entity"),this.$property=$("#property"),this.loadEntities(),this.bindEntitySelect(),this.bindPropertySelect()},loadEntities:function(){return _.each(this.entities,function(e){return function(t,i){return e.$entity.append($("<option>").val(i).html(t.name))}}(this)),this.$entity.selectpicker("refresh")},bindEntitySelect:function(){return this.$entity.on("change",function(e){return function(t){return e.loadProperties(e.entities[e.$entity.val()]),e.updateCompletion()}}(this))},loadProperties:function(e){return this.$property.html(""),e&&_.each(e.properties,function(e){return function(t,i){return e.$property.append($("<option>").val(i).html(t))}}(this)),this.$property.selectpicker("refresh")},bindPropertySelect:function(){return this.$property.on("change",function(e){return function(t){return e.updateCompletion()}}(this))},updateCompletion:function(){var e,t,i;return e=this.$entity.val(),t=this.$property.val(),i=""===e||""===t?"":"{{"+e+"."+t+"}}",$("#completion").val(i)}}}.call(this),function(){$.pipefy.CardForm={init:function(){return $("#next-btn").on("click",function(e){var t;return e.preventDefault(),t=$(this).closest("form"),t.attr("action",$(this).data("url")),t.submit()}),$("a.help-bullet").tooltip()}}}.call(this),function(e,t,i){e.fn.backstretch=function(n,o){return(n===i||0===n.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),i=t.data("backstretch");if(i){if("string"==typeof n&&"function"==typeof i[n])return void i[n](o);o=e.extend(i.options,o),i.destroy(!0)}i=new r(this,n,o),t.data("backstretch",i)})},e.backstretch=function(t,i){return e("body").backstretch(t,i).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==i},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var n={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},o={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},r=function(i,o,r){this.options=e.extend({},e.fn.backstretch.defaults,r||{}),this.images=e.isArray(o)?o:[o],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=i===document.body,this.$container=e(i),this.$root=this.isBody?e(a?t:document):this.$container,i=this.$container.children(".backstretch").first(),this.$wrap=i.length?i:e('<div class="backstretch"></div>').css(n).appendTo(this.$container),this.isBody||(i=this.$container.css("position"),o=this.$container.css("zIndex"),this.$container.css({position:"static"===i?"relative":i,zIndex:"auto"===o?0:o,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&a?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};r.prototype={resize:function(){try{var e,i={left:0,top:0},n=this.isBody?this.$root.width():this.$root.innerWidth(),o=n,r=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),a=o/this.$img.data("ratio");a>=r?(e=(a-r)/2,this.options.centeredY&&(i.top="-"+e+"px")):(a=r,o=a*this.$img.data("ratio"),e=(o-n)/2,this.options.centeredX&&(i.left="-"+e+"px")),this.$wrap.css({width:n,height:r}).find("img:not(.deleteable)").css({width:o,height:a}).css(i)}catch(s){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var i=this,n=i.$wrap.find("img").addClass("deleteable"),r={relatedTarget:i.$container[0]};return i.$container.trigger(e.Event("backstretch.before",r),[i,t]),this.index=t,clearInterval(i.interval),i.$img=e("<img />").css(o).bind("load",function(o){var a=this.width||e(o.target).width();o=this.height||e(o.target).height(),e(this).data("ratio",a/o),e(this).fadeIn(i.options.speed||i.options.fade,function(){n.remove(),i.paused||i.cycle(),e(["after","show"]).each(function(){i.$container.trigger(e.Event("backstretch."+this,r),[i,t])})}),i.resize()}).appendTo(i.$wrap),i.$img.attr("src",i.images[t]),i}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(i){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),i||this.$wrap.remove(),this.$container.removeData("backstretch")}};var a,s=navigator.userAgent,l=navigator.platform,c=s.match(/AppleWebKit\/([0-9]+)/),c=!!c&&c[1],d=s.match(/Fennec\/([0-9]+)/),d=!!d&&d[1],u=s.match(/Opera Mobi\/([0-9]+)/),h=!!u&&u[1],p=s.match(/MSIE ([0-9]+)/),p=!!p&&p[1];a=!((-1<l.indexOf("iPhone")||-1<l.indexOf("iPad")||-1<l.indexOf("iPod"))&&c&&534>c||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||u&&7458>h||-1<s.indexOf("Android")&&c&&533>c||d&&6>d||"palmGetResource"in t&&c&&534>c||-1<s.indexOf("MeeGo")&&-1<s.indexOf("NokiaBrowser/8.5.0")||p&&6>=p)}(jQuery,window),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t(i,e,e.document,e.Math)}):"undefined"!=typeof exports?module.exports=t(require("jquery"),e,e.document,e.Math):t(jQuery,e,e.document,e.Math)}("undefined"!=typeof window?window:this,function(e,t,i,n,o){var r=e(t),a=e(i);e.fn.fullpage=function(s){function l(e){e.find(".fp-slides").after('<div class="fp-controlArrow fp-prev"></div><div class="fp-controlArrow fp-next"></div>'),"#fff"!=s.controlArrowColor&&(e.find(".fp-controlArrow.fp-next").css("border-color","transparent transparent transparent "+s.controlArrowColor),e.find(".fp-controlArrow.fp-prev").css("border-color","transparent "+s.controlArrowColor+" transparent transparent")),s.loopHorizontal||e.find(".fp-controlArrow.fp-prev").hide()}function c(){ue.append('<div id="fp-nav"><ul></ul></div>'),me=e("#fp-nav"),me.addClass(function(){return s.showActiveTooltip?"fp-show-active "+s.navigationPosition:s.navigationPosition});for(var t=0;t<e(".fp-section").length;t++){var i="";s.anchors.length&&(i=s.anchors[t]);var i='<li><a href="#'+i+'"><span></span></a>',n=s.navigationTooltips[t];"undefined"!=typeof n&&""!==n&&(i+='<div class="fp-tooltip '+s.navigationPosition+'">'+n+"</div>"),i+="</li>",me.find("ul").append(i)}}function d(){e(".fp-section").each(function(){var t=e(this).find(".fp-slide");t.length?t.each(function(){j(e(this))}):j(e(this))}),u()}function u(){var t=e(".fp-section.active"),i=t.find("SLIDES_WRAPPER"),n=t.find(".fp-scrollable");i.length&&(n=i.find(".fp-slide.active")),n.mouseover(),D(t),A(t),e.isFunction(s.afterLoad)&&s.afterLoad.call(t,t.data("anchor"),t.index(".fp-section")+1),e.isFunction(s.afterRender)&&s.afterRender.call(_e)}function h(){var t;if(!s.autoScrolling||s.scrollBar){for(var o=r.scrollTop(),a=0,l=n.abs(o-i.querySelectorAll(".fp-section")[0].offsetTop),c=i.querySelectorAll(".fp-section"),d=0;d<c.length;++d){var u=n.abs(o-c[d].offsetTop);l>u&&(a=d,l=u)}t=e(c).eq(a)}if(!s.autoScrolling||s.scrollBar){if(!t.hasClass("active")){if(Le=!0,o=e(".fp-section.active"),a=o.index(".fp-section")+1,l=R(t),c=t.data("anchor"),d=t.index(".fp-section")+1,u=t.find(".fp-slide.active"),u.length)var h=u.data("anchor"),p=u.index();Ce&&(t.addClass("active").siblings().removeClass("active"),e.isFunction(s.onLeave)&&s.onLeave.call(o,a,d,l),e.isFunction(s.afterLoad)&&s.afterLoad.call(t,c,d),D(t),N(c,d-1),s.anchors.length&&(pe=c,G(p,h,c,d))),clearTimeout(Pe),Pe=setTimeout(function(){Le=!1},100)}s.fitToSection&&(clearTimeout(Ee),Ee=setTimeout(function(){Ce&&(e(".fp-section.active").is(t)&&(xe=!0),C(t),xe=!1)},1e3))}}function p(e){return e.find(".fp-slides").length?e.find(".fp-slide.active").find(".fp-scrollable"):e.find(".fp-scrollable")}function f(e,t){if(Se.m[e]){var i,n;if("down"==e?(i="bottom",n=he.moveSectionDown):(i="top",n=he.moveSectionUp),0<t.length){if(!(i="top"===i?!t.scrollTop():"bottom"===i?t.scrollTop()+1+t.innerHeight()>=t[0].scrollHeight:void 0))return!0;n()}else n()}}function m(t){var i=t.originalEvent;if(!g(t.target)&&v(i)){s.autoScrolling&&t.preventDefault(),t=e(".fp-section.active");var o=p(t);Ce&&!ve&&(i=ie(i),Oe=i.y,Ne=i.x,t.find(".fp-slides").length&&n.abs(Fe-Ne)>n.abs($e-Oe)?n.abs(Fe-Ne)>r.width()/100*s.touchSensitivity&&(Fe>Ne?Se.m.right&&he.moveSlideRight():Se.m.left&&he.moveSlideLeft()):s.autoScrolling&&n.abs($e-Oe)>r.height()/100*s.touchSensitivity&&($e>Oe?f("down",o):Oe>$e&&f("up",o)))}}function g(t,i){i=i||0;var n=e(t).parent();return i<s.normalScrollElementTouchThreshold&&n.is(s.normalScrollElements)?!0:i==s.normalScrollElementTouchThreshold?!1:g(n,++i)}function v(e){return"undefined"==typeof e.pointerType||"mouse"!=e.pointerType}function y(e){e=e.originalEvent,s.fitToSection&&de.stop(),v(e)&&(e=ie(e),$e=e.y,Fe=e.x)}function b(e,t){for(var i=0,o=e.slice(n.max(e.length-t,1)),r=0;r<o.length;r++)i+=o[r];return n.ceil(i/t)}function _(i){var o=(new Date).getTime();if(s.autoScrolling&&!ge){i=i||t.event;var r=i.wheelDelta||-i.deltaY||-i.detail,a=n.max(-1,n.min(1,r));return 149<ke.length&&ke.shift(),ke.push(n.abs(r)),s.scrollBar&&(i.preventDefault?i.preventDefault():i.returnValue=!1),i=e(".fp-section.active"),i=p(i),r=o-Re,Re=o,r>200&&(ke=[]),Ce&&(o=b(ke,10),r=b(ke,70),o>=r&&(0>a?f("down",i):f("up",i))),!1}s.fitToSection&&de.stop()}function w(t){var i=e(".fp-section.active").find(".fp-slides"),n=i.find(".fp-slide").length;if(!(!i.length||ve||2>n)){var n=i.find(".fp-slide.active"),o=null,o="prev"===t?n.prev(".fp-slide"):n.next(".fp-slide");if(!o.length){if(!s.loopHorizontal)return;o="prev"===t?n.siblings(":last"):n.siblings(":first")}ve=!0,M(i,o)}}function x(){e(".fp-slide.active").each(function(){ne(e(this),"internal")})}function C(t,i,n){var o=t.position();if("undefined"!=typeof o&&(i={element:t,callback:i,isMovementUp:n,dest:o,dtop:o.top,yMovement:R(t),anchorLink:t.data("anchor"),sectionIndex:t.index(".fp-section"),activeSlide:t.find(".fp-slide.active"),activeSection:e(".fp-section.active"),leavingSection:e(".fp-section.active").index(".fp-section")+1,localIsResizing:xe},!(i.activeSection.is(t)&&!xe||s.scrollBar&&r.scrollTop()===i.dtop))){if(i.activeSlide.length)var a=i.activeSlide.data("anchor"),l=i.activeSlide.index();if(s.autoScrolling&&s.continuousVertical&&"undefined"!=typeof i.isMovementUp&&(!i.isMovementUp&&"up"==i.yMovement||i.isMovementUp&&"down"==i.yMovement)&&(i.isMovementUp?e(".fp-section.active").before(i.activeSection.nextAll(".fp-section")):e(".fp-section.active").after(i.activeSection.prevAll(".fp-section").get().reverse()),oe(e(".fp-section.active").position().top),x(),i.wrapAroundElements=i.activeSection,i.dest=i.element.position(),i.dtop=i.dest.top,i.yMovement=R(i.element)),e.isFunction(s.onLeave)&&!i.localIsResizing){if(!1===s.onLeave.call(i.activeSection,i.leavingSection,i.sectionIndex+1,i.yMovement))return;P(i.activeSection)}t.addClass("active").siblings().removeClass("active"),Ce=!1,G(l,a,i.anchorLink,i.sectionIndex),k(i),pe=i.anchorLink,N(i.anchorLink,i.sectionIndex)}}function k(t){if(s.css3&&s.autoScrolling&&!s.scrollBar)q("translate3d(0px, -"+t.dtop+"px, 0px)",!0),s.scrollingSpeed?De=setTimeout(function(){T(t)},s.scrollingSpeed):T(t);else{var i=S(t);e(i.element).animate(i.options,s.scrollingSpeed,s.easing).promise().done(function(){T(t)})}}function S(e){var t={};return s.autoScrolling&&!s.scrollBar?(t.options={top:-e.dtop},t.element=".fullpage-wrapper"):(t.options={scrollTop:e.dtop},t.element="html, body"),t}function T(t){t.wrapAroundElements&&t.wrapAroundElements.length&&(t.isMovementUp?e(".fp-section:first").before(t.wrapAroundElements):e(".fp-section:last").after(t.wrapAroundElements),oe(e(".fp-section.active").position().top),x()),t.element.find(".fp-scrollable").mouseover(),e.isFunction(s.afterLoad)&&!t.localIsResizing&&s.afterLoad.call(t.element,t.anchorLink,t.sectionIndex+1),D(t.element),A(t.element),Ce=!0,e.isFunction(t.callback)&&t.callback.call(this)}function D(t){var i=t.find(".fp-slide.active");i.length&&(t=e(i)),t.find("img[data-src], video[data-src], audio[data-src]").each(function(){e(this).attr("src",e(this).data("src")),e(this).removeAttr("data-src")})}function A(t){t.find("video, audio").each(function(){var t=e(this).get(0);t.hasAttribute("autoplay")&&"function"==typeof t.play&&t.play()})}function P(t){t.find("video, audio").each(function(){var t=e(this).get(0);t.hasAttribute("data-ignore")||"function"!=typeof t.pause||t.pause()})}function E(){if(!Le&&!s.lockAnchors){var e=t.location.hash.replace("#","").split("/"),i=e[0],e=e[1];if(i.length){var n="undefined"==typeof pe,o="undefined"==typeof pe&&"undefined"==typeof e&&!ve;(i&&i!==pe&&!n||o||!ve&&fe!=e)&&Y(i,e)}}}function I(e){Ce&&(e.pageY<je?he.moveSectionUp():e.pageY>je&&he.moveSectionDown()),je=e.pageY}function M(t,i){var o=i.position(),r=i.index(),a=t.closest(".fp-section"),l=a.index(".fp-section"),c=a.data("anchor"),d=a.find(".fp-slidesNav"),u=Q(i),h=xe;if(s.onSlideLeave){var p,f=a.find(".fp-slide.active"),m=f.index();if(p=m==r?"none":m>r?"left":"right",!h&&"none"!==p&&e.isFunction(s.onSlideLeave)&&!1===s.onSlideLeave.call(f,c,l+1,m,p,r))return void(ve=!1)}i.addClass("active").siblings().removeClass("active"),D(i),!s.loopHorizontal&&s.controlArrows&&(a.find(".fp-controlArrow.fp-prev").toggle(0!==r),a.find(".fp-controlArrow.fp-next").toggle(!i.is(":last-child"))),a.hasClass("active")&&G(r,u,c,l);var g=function(){h||e.isFunction(s.afterSlideLoad)&&s.afterSlideLoad.call(i,c,l+1,u,r),ve=!1};s.css3?(o="translate3d(-"+n.round(o.left)+"px, 0px, 0px)",F(t.find(".fp-slidesContainer"),0<s.scrollingSpeed).css(re(o)),Ae=setTimeout(function(){g()},s.scrollingSpeed,s.easing)):t.animate({scrollLeft:n.round(o.left)},s.scrollingSpeed,s.easing,function(){g()}),d.find(".active").removeClass("active"),d.find("li").eq(r).find("a").addClass("active")}function L(){if($(),ye){var t=e(i.activeElement);t.is("textarea")||t.is("input")||t.is("select")||(t=r.height(),n.abs(t-He)>20*n.max(He,t)/100&&(he.reBuild(!0),He=t))}else clearTimeout(Te),Te=setTimeout(function(){he.reBuild(!0)},350)}function $(){var e=s.responsive||s.responsiveWidth,t=s.responsiveHeight;e&&he.setResponsive(r.width()<e),t&&(_e.hasClass("fp-responsive")||he.setResponsive(r.height()<t))}function F(e){var t="all "+s.scrollingSpeed+"ms "+s.easingcss3;return e.removeClass("fp-notransition"),e.css({"-webkit-transition":t,transition:t})}function O(e,t){if(825>e||900>t){var i=n.min(100*e/825,100*t/900).toFixed(2);ue.css("font-size",i+"%")}else ue.css("font-size","100%")}function N(t,i){s.menu&&(e(s.menu).find(".active").removeClass("active"),e(s.menu).find('[data-menuanchor="'+t+'"]').addClass("active")),s.navigation&&(e("#fp-nav").find(".active").removeClass("active"),t?e("#fp-nav").find('a[href="#'+t+'"]').addClass("active"):e("#fp-nav").find("li").eq(i).find("a").addClass("active"))}function R(t){var i=e(".fp-section.active").index(".fp-section");return t=t.index(".fp-section"),i==t?"none":i>t?"up":"down"}function j(e){e.css("overflow","hidden");var t,i=e.closest(".fp-section"),n=e.find(".fp-scrollable");n.length?t=n.get(0).scrollHeight:(t=e.get(0).scrollHeight,s.verticalCentered&&(t=e.find(".fp-tableCell").get(0).scrollHeight)),i=we-parseInt(i.css("padding-bottom"))-parseInt(i.css("padding-top")),t>i?n.length?n.css("height",i+"px").parent().css("height",i+"px"):(s.verticalCentered?e.find(".fp-tableCell").wrapInner('<div class="fp-scrollable" />'):e.wrapInner('<div class="fp-scrollable" />'),e.find(".fp-scrollable").slimScroll({allowPageScroll:!0,height:i+"px",size:"10px",alwaysVisible:!0})):H(e),e.css("overflow","")}function H(e){e.find(".fp-scrollable").children().first().unwrap().unwrap(),e.find(".slimScrollBar").remove(),e.find(".slimScrollRail").remove()}function z(e){e.addClass("fp-table").wrapInner('<div class="fp-tableCell" style="height:'+B(e)+'px;" />')}function B(e){var t=we;return(s.paddingTop||s.paddingBottom)&&(t=e,t.hasClass("fp-section")||(t=e.closest(".fp-section")),e=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom")),t=we-e),t}function q(e,t){t?F(_e):_e.addClass("fp-notransition"),_e.css(re(e)),setTimeout(function(){_e.removeClass("fp-notransition")},10)}function W(t){var i=e('.fp-section[data-anchor="'+t+'"]');return i.length||(i=e(".fp-section").eq(t-1)),i}function Y(e,t){var i=W(e);"undefined"==typeof t&&(t=0),e===pe||i.hasClass("active")?U(i,t):C(i,function(){U(i,t)})}function U(e,t){if("undefined"!=typeof t){var i,n=e.find(".fp-slides");i=e.find(".fp-slides");var o=i.find('.fp-slide[data-anchor="'+t+'"]');o.length||(o=i.find(".fp-slide").eq(t)),i=o,i.length&&M(n,i)}}function V(e,t){e.append('<div class="fp-slidesNav"><ul></ul></div>');var i=e.find(".fp-slidesNav");i.addClass(s.slidesNavPosition);for(var n=0;t>n;n++)i.find("ul").append('<li><a href="#"><span></span></a></li>');i.css("margin-left","-"+i.width()/2+"px"),i.find("li").first().find("a").addClass("active")}function G(e,t,i,n){n="",s.anchors.length&&!s.lockAnchors&&(e?("undefined"!=typeof i&&(n=i),"undefined"==typeof t&&(t=e),fe=t,X(n+"/"+t)):("undefined"!=typeof e&&(fe=t),X(i))),K()}function X(e){if(s.recordHistory)location.hash=e;else if(ye||be)history.replaceState(o,o,"#"+e);else{var i=t.location.href.split("#")[0];t.location.replace(i+"#"+e)}}function Q(e){var t=e.data("anchor");return e=e.index(),"undefined"==typeof t&&(t=e),t}function K(){var t=e(".fp-section.active"),i=t.find(".fp-slide.active"),n=t.data("anchor"),o=Q(i),t=t.index(".fp-section"),t=String(t);s.anchors.length&&(t=n),i.length&&(t=t+"-"+o),t=t.replace("/","-").replace("#",""),ue[0].className=ue[0].className.replace(RegExp("\\b\\s?fp-viewing-[^\\s]+\\b","g"),""),
ue.addClass("fp-viewing-"+t)}function J(){var e,n=i.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};i.body.insertBefore(n,null);for(var a in r)n.style[a]!==o&&(n.style[a]="translate3d(1px,1px,1px)",e=t.getComputedStyle(n).getPropertyValue(r[a]));return i.body.removeChild(n),e!==o&&0<e.length&&"none"!==e}function Z(){if(ye||be){var t=te();e(".fullpage-wrapper").off("touchstart "+t.down).on("touchstart "+t.down,y),e(".fullpage-wrapper").off("touchmove "+t.move).on("touchmove "+t.move,m)}}function ee(){if(ye||be){var t=te();e(".fullpage-wrapper").off("touchstart "+t.down),e(".fullpage-wrapper").off("touchmove "+t.move)}}function te(){return t.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function ie(e){var t=[];return t.y="undefined"!=typeof e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x="undefined"!=typeof e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,be&&v(e)&&s.scrollBar&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t}function ne(e,t){he.setScrollingSpeed(0,"internal"),"undefined"!=typeof t&&(xe=!0),M(e.closest(".fp-slides"),e),"undefined"!=typeof t&&(xe=!1),he.setScrollingSpeed(Me.scrollingSpeed,"internal")}function oe(e){s.scrollBar?_e.scrollTop(e):s.css3?q("translate3d(0px, -"+e+"px, 0px)",!1):_e.css("top",-e)}function re(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function ae(e,t,i){switch(t){case"up":Se[i].up=e;break;case"down":Se[i].down=e;break;case"left":Se[i].left=e;break;case"right":Se[i].right=e;break;case"all":"m"==i?he.setAllowScrolling(e):he.setKeyboardScrolling(e)}}function se(){oe(0),e("#fp-nav, .fp-slidesNav, .fp-controlArrow").remove(),e(".fp-section").css({height:"","background-color":"",padding:""}),e(".fp-slide").css({width:""}),_e.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),e(".fp-section, .fp-slide").each(function(){H(e(this)),e(this).removeClass("fp-table active")}),_e.addClass("fp-notransition"),_e.find(".fp-tableCell, .fp-slidesContainer, .fp-slides").each(function(){e(this).replaceWith(this.childNodes)}),de.scrollTop(0)}function le(e,t,i){s[e]=t,"internal"!==i&&(Me[e]=t)}function ce(e,t){console&&console[e]&&console[e]("fullPage: "+t)}var de=e("html, body"),ue=e("body"),he=e.fn.fullpage;s=e.extend({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,normalScrollElements:null,scrollOverflow:!1,touchSensitivity:5,normalScrollElementTouchThreshold:5,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,resize:!1,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,sectionSelector:".section",slideSelector:".slide",afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null},s),function(){s.continuousVertical&&(s.loopTop||s.loopBottom)&&(s.continuousVertical=!1,ce("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),s.scrollBar&&s.scrollOverflow&&ce("warn","Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"),s.continuousVertical&&s.scrollBar&&(s.continuousVertical=!1,ce("warn","Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),e.each(s.anchors,function(t,i){(e("#"+i).length||e('[name="'+i+'"]').length)&&ce("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).")})}(),e.extend(e.easing,{easeInOutCubic:function(e,t,i,n,o){return 1>(t/=o/2)?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i}}),e.extend(e.easing,{easeInQuart:function(e,t,i,n,o){return n*(t/=o)*t*t*t+i}}),he.setAutoScrolling=function(t,i){le("autoScrolling",t,i);var n=e(".fp-section.active");s.autoScrolling&&!s.scrollBar?(de.css({overflow:"hidden",height:"100%"}),he.setRecordHistory(s.recordHistory,"internal"),_e.css({"-ms-touch-action":"none","touch-action":"none"}),n.length&&oe(n.position().top)):(de.css({overflow:"visible",height:"initial"}),he.setRecordHistory(!1,"internal"),_e.css({"-ms-touch-action":"","touch-action":""}),oe(0),n.length&&de.scrollTop(n.position().top))},he.setRecordHistory=function(e,t){le("recordHistory",e,t)},he.setScrollingSpeed=function(e,t){le("scrollingSpeed",e,t)},he.setFitToSection=function(e,t){le("fitToSection",e,t)},he.setLockAnchors=function(e){s.lockAnchors=e},he.setMouseWheelScrolling=function(e){e?i.addEventListener?(i.addEventListener("mousewheel",_,!1),i.addEventListener("wheel",_,!1),i.addEventListener("DOMMouseScroll",_,!1)):i.attachEvent("onmousewheel",_):i.addEventListener?(i.removeEventListener("mousewheel",_,!1),i.removeEventListener("wheel",_,!1),i.removeEventListener("DOMMouseScroll",_,!1)):i.detachEvent("onmousewheel",_)},he.setAllowScrolling=function(t,i){"undefined"!=typeof i?(i=i.replace(/ /g,"").split(","),e.each(i,function(e,i){ae(t,i,"m")})):t?(he.setMouseWheelScrolling(!0),Z()):(he.setMouseWheelScrolling(!1),ee())},he.setKeyboardScrolling=function(t,i){"undefined"!=typeof i?(i=i.replace(/ /g,"").split(","),e.each(i,function(e,i){ae(t,i,"k")})):s.keyboardScrolling=t},he.moveSectionUp=function(){var t=e(".fp-section.active").prev(".fp-section");t.length||!s.loopTop&&!s.continuousVertical||(t=e(".fp-section").last()),t.length&&C(t,null,!0)},he.moveSectionDown=function(){var t=e(".fp-section.active").next(".fp-section");t.length||!s.loopBottom&&!s.continuousVertical||(t=e(".fp-section").first()),!t.length||s.onBeforeMoveSection&&e.isFunction(s.onBeforeMoveSection)&&!1===s.onBeforeMoveSection.call(this,direction,currentSlide,destiny,slides,activeSection)||C(t,null,!1)},he.silentMoveTo=function(e,t){he.setScrollingSpeed(0,"internal"),he.moveTo(e,t),he.setScrollingSpeed(Me.scrollingSpeed,"internal")},he.moveTo=function(e,t){var i=W(e);"undefined"!=typeof t?Y(e,t):0<i.length&&C(i)},he.moveSlideRight=function(){w("next")},he.moveSlideLeft=function(){w("prev")},he.reBuild=function(t){if(!_e.hasClass("fp-destroyed")){xe=!0;var i=r.width();we=r.height(),s.resize&&O(we,i),e(".fp-section").each(function(){var t=e(this).find(".fp-slides"),i=e(this).find(".fp-slide");s.verticalCentered&&e(this).find(".fp-tableCell").css("height",B(e(this))+"px"),e(this).css("height",we+"px"),s.scrollOverflow&&(i.length?i.each(function(){j(e(this))}):j(e(this))),1<i.length&&M(t,t.find(".fp-slide.active"))}),(i=e(".fp-section.active").index(".fp-section"))&&he.silentMoveTo(i+1),xe=!1,e.isFunction(s.afterResize)&&t&&s.afterResize.call(_e),e.isFunction(s.afterReBuild)&&!t&&s.afterReBuild.call(_e)}},he.setResponsive=function(t){var i=_e.hasClass("fp-responsive");t?i||(he.setAutoScrolling(!1,"internal"),he.setFitToSection(!1,"internal"),e("#fp-nav").hide(),_e.addClass("fp-responsive")):i&&(he.setAutoScrolling(Me.autoScrolling,"internal"),he.setFitToSection(Me.autoScrolling,"internal"),e("#fp-nav").show(),_e.removeClass("fp-responsive"))};var pe,fe,me,ge,ve=!1,ye=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),be="ontouchstart"in t||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints,_e=e(this),we=r.height(),xe=!1,Ce=!0,ke=[],Se={m:{up:!0,down:!0,left:!0,right:!0}};Se.k=e.extend(!0,{},Se.m);var Te,De,Ae,Pe,Ee,Ie,Me=e.extend(!0,{},s);e(this).length&&(_e.css({height:"100%",position:"relative"}),_e.addClass("fullpage-wrapper"),e("html").addClass("fp-enabled")),s.css3&&(s.css3=J()),he.setAllowScrolling(!0),_e.removeClass("fp-destroyed"),e(s.sectionSelector).each(function(){e(this).addClass("fp-section")}),e(s.slideSelector).each(function(){e(this).addClass("fp-slide")}),s.navigation&&c(),e(".fp-section").each(function(t){var i=e(this),n=e(this).find(".fp-slide"),o=n.length;if(t||0!==e(".fp-section.active").length||e(this).addClass("active"),e(this).css("height",we+"px"),s.paddingTop&&e(this).css("padding-top",s.paddingTop),s.paddingBottom&&e(this).css("padding-bottom",s.paddingBottom),"undefined"!=typeof s.sectionsColor[t]&&e(this).css("background-color",s.sectionsColor[t]),"undefined"!=typeof s.anchors[t]&&(e(this).attr("data-anchor",s.anchors[t]),e(this).hasClass("active")&&N(s.anchors[t],t)),o>0){t=100*o;var r=100/o;n.wrapAll('<div class="fp-slidesContainer" />'),n.parent().wrap('<div class="fp-slides" />'),e(this).find(".fp-slidesContainer").css("width",t+"%"),o>1&&(s.controlArrows&&l(e(this)),s.slidesNavigation&&V(e(this),o)),n.each(function(t){e(this).css("width",r+"%"),s.verticalCentered&&z(e(this))}),i=i.find(".fp-slide.active"),i.length?ne(i):n.eq(0).addClass("active")}else s.verticalCentered&&z(e(this))}).promise().done(function(){he.setAutoScrolling(s.autoScrolling,"internal");var n=e(".fp-section.active").find(".fp-slide.active");if(n.length&&(0!==e(".fp-section.active").index(".fp-section")||0===e(".fp-section.active").index(".fp-section")&&0!==n.index())&&ne(n),s.fixedElements&&s.css3&&e(s.fixedElements).appendTo(ue),s.navigation&&(me.css("margin-top","-"+me.height()/2+"px"),me.find("li").eq(e(".fp-section.active").index(".fp-section")).find("a").addClass("active")),s.menu&&s.css3&&e(s.menu).closest(".fullpage-wrapper").length&&e(s.menu).appendTo(ue),s.scrollOverflow?("complete"===i.readyState&&d(),r.on("load",d)):u(),$(),!s.animateAnchor&&(n=t.location.hash.replace("#","").split("/")[0],n.length)){var o=e('[data-anchor="'+n+'"]');o.length&&(s.autoScrolling?oe(o.position().top):(oe(0),de.scrollTop(o.position().top)),N(n,null),e.isFunction(s.afterLoad)&&s.afterLoad.call(o,n,o.index(".fp-section")+1),o.addClass("active").siblings().removeClass("active"))}K(),r.on("load",function(){var e=t.location.hash.replace("#","").split("/"),i=e[0],e=e[1];i&&Y(i,e)})});var Le=!1;r.on("scroll",h);var $e=0,Fe=0,Oe=0,Ne=0,Re=(new Date).getTime();r.on("hashchange",E),a.keydown(function(t){clearTimeout(Ie);var i=e(":focus");i.is("textarea")||i.is("input")||i.is("select")||!s.keyboardScrolling||!s.autoScrolling||(-1<e.inArray(t.which,[40,38,32,33,34])&&t.preventDefault(),Ie=setTimeout(function(){var i=t.shiftKey;switch(ge=t.ctrlKey,t.which){case 38:case 33:Se.k.up&&he.moveSectionUp();break;case 32:if(i&&Se.k.up){he.moveSectionUp();break}case 40:case 34:Se.k.down&&he.moveSectionDown();break;case 36:Se.k.up&&he.moveTo(1);break;case 35:Se.k.down&&he.moveTo(e(".fp-section").length);break;case 37:Se.k.left&&he.moveSlideLeft();break;case 39:Se.k.right&&he.moveSlideRight()}},150))}),a.keyup(function(e){ge=e.ctrlKey}),e(t).blur(function(){ge=!1}),_e.mousedown(function(e){2==e.which&&(je=e.pageY,_e.on("mousemove",I))}),_e.mouseup(function(e){2==e.which&&_e.off("mousemove")});var je=0;a.on("click touchstart","#fp-nav a",function(t){t.preventDefault(),t=e(this).parent().index(),C(e(".fp-section").eq(t))}),a.on("click touchstart",".fp-slidesNav a",function(t){t.preventDefault(),t=e(this).closest(".fp-section").find(".fp-slides");var i=t.find(".fp-slide").eq(e(this).closest("li").index());M(t,i)}),s.normalScrollElements&&(a.on("mouseenter",s.normalScrollElements,function(){he.setMouseWheelScrolling(!1)}),a.on("mouseleave",s.normalScrollElements,function(){he.setMouseWheelScrolling(!0)})),e(".fp-section").on("click touchstart",".fp-controlArrow",function(){e(this).hasClass("fp-prev")?Se.m.left&&he.moveSlideLeft():Se.m.right&&he.moveSlideRight()}),r.resize(L);var He=we;he.destroy=function(t){he.setAutoScrolling(!1,"internal"),he.setAllowScrolling(!1),he.setKeyboardScrolling(!1),_e.addClass("fp-destroyed"),clearTimeout(Ae),clearTimeout(De),clearTimeout(Te),clearTimeout(Pe),clearTimeout(Ee),r.off("scroll",h).off("hashchange",E).off("resize",L),a.off("click","#fp-nav a").off("mouseenter","#fp-nav li").off("mouseleave","#fp-nav li").off("click",".fp-slidesNav a").off("mouseover",s.normalScrollElements).off("mouseout",s.normalScrollElements),e(".fp-section").off("click",".fp-controlArrow"),t&&se()}}}),function(){var e,t,i,n,o,r,a,s,l,c,d,u,h,p,f,m,g,v,y,b,_,w,x,C,k=[].slice,S=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};e=window.jQuery||window.Zepto||window.$,e.payment={},e.payment.fn={},e.fn.payment=function(){var t,i;return i=arguments[0],t=2<=arguments.length?k.call(arguments,1):[],e.payment.fn[i].apply(this,t)},o=/(\d{1,4})/g,e.payment.cards=n=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:o,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:o,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[1-5]|2[2-7])/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:o,length:[16],cvcLength:[3],luhn:!0}],t=function(e){var t,i,o;for(e=(e+"").replace(/\D/g,""),i=0,o=n.length;o>i;i++)if(t=n[i],t.pattern.test(e))return t},i=function(e){var t,i,o;for(i=0,o=n.length;o>i;i++)if(t=n[i],t.type===e)return t},h=function(e){var t,i,n,o,r,a;for(n=!0,o=0,i=(e+"").split("").reverse(),r=0,a=i.length;a>r;r++)t=i[r],t=parseInt(t,10),(n=!n)&&(t*=2),t>9&&(t-=9),o+=t;return o%10===0},u=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)&&document.selection.createRange().text?!0:!1},x=function(e,t){var i,n,o;try{i=t.prop("selectionStart")}catch(r){n=r,i=null}return o=t.val(),t.val(e),null!==i&&t.is(":focus")?(i===o.length&&(i=e.length),t.prop("selectionStart",i),t.prop("selectionEnd",i)):void 0},v=function(e){var t,i,n,o,r,a,s,l;for(null==e&&(e=""),n="\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19",o="0123456789",a="",i=e.split(""),s=0,l=i.length;l>s;s++)t=i[s],r=n.indexOf(t),r>-1&&(t=o[r]),a+=t;return a},g=function(t){return setTimeout(function(){var i,n;return i=e(t.currentTarget),n=i.val(),n=v(n),n=n.replace(/\D/g,""),x(n,i)})},f=function(t){return setTimeout(function(){var i,n;return i=e(t.currentTarget),n=i.val(),n=v(n),n=e.payment.formatCardNumber(n),x(n,i)})},s=function(i){var n,o,r,a,s,l,c;return r=String.fromCharCode(i.which),!/^\d+$/.test(r)||(n=e(i.currentTarget),c=n.val(),o=t(c+r),a=(c.replace(/\D/g,"")+r).length,l=16,o&&(l=o.length[o.length.length-1]),a>=l||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==c.length)?void 0:(s=o&&"amex"===o.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,s.test(c)?(i.preventDefault(),setTimeout(function(){return n.val(c+" "+r)})):s.test(c+r)?(i.preventDefault(),setTimeout(function(){return n.val(c+r+" ")})):void 0)},r=function(t){var i,n;return i=e(t.currentTarget),n=i.val(),8!==t.which||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==n.length?void 0:/\d\s$/.test(n)?(t.preventDefault(),setTimeout(function(){return i.val(n.replace(/\d\s$/,""))})):/\s\d?$/.test(n)?(t.preventDefault(),setTimeout(function(){return i.val(n.replace(/\d$/,""))})):void 0},m=function(t){return setTimeout(function(){var i,n;return i=e(t.currentTarget),n=i.val(),n=v(n),n=e.payment.formatExpiry(n),x(n,i)})},l=function(t){var i,n,o;return n=String.fromCharCode(t.which),/^\d+$/.test(n)?(i=e(t.currentTarget),o=i.val()+n,/^\d$/.test(o)&&"0"!==o&&"1"!==o?(t.preventDefault(),setTimeout(function(){return i.val("0"+o+" / ")})):/^\d\d$/.test(o)?(t.preventDefault(),setTimeout(function(){return i.val(""+o+" / ")})):void 0):void 0},c=function(t){var i,n,o;return n=String.fromCharCode(t.which),/^\d+$/.test(n)?(i=e(t.currentTarget),o=i.val(),/^\d\d$/.test(o)?i.val(""+o+" / "):void 0):void 0},d=function(t){var i,n,o;return o=String.fromCharCode(t.which),"/"===o||" "===o?(i=e(t.currentTarget),n=i.val(),/^\d$/.test(n)&&"0"!==n?i.val("0"+n+" / "):void 0):void 0},a=function(t){var i,n;return i=e(t.currentTarget),n=i.val(),8!==t.which||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==n.length?void 0:/\d\s\/\s$/.test(n)?(t.preventDefault(),setTimeout(function(){return i.val(n.replace(/\d\s\/\s$/,""))})):void 0},p=function(t){return setTimeout(function(){var i,n;return i=e(t.currentTarget),n=i.val(),n=v(n),n=n.replace(/\D/g,"").slice(0,4),x(n,i)})},w=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},b=function(i){var n,o,r,a;return n=e(i.currentTarget),r=String.fromCharCode(i.which),/^\d+$/.test(r)&&!u(n)?(a=(n.val()+r).replace(/\D/g,""),o=t(a),o?a.length<=o.length[o.length.length-1]:a.length<=16):void 0},_=function(t){var i,n,o;return i=e(t.currentTarget),n=String.fromCharCode(t.which),/^\d+$/.test(n)&&!u(i)?(o=i.val()+n,o=o.replace(/\D/g,""),o.length>6?!1:void 0):void 0},y=function(t){var i,n,o;return i=e(t.currentTarget),n=String.fromCharCode(t.which),/^\d+$/.test(n)&&!u(i)?(o=i.val()+n,o.length<=4):void 0},C=function(t){var i,o,r,a,s;return i=e(t.currentTarget),s=i.val(),a=e.payment.cardType(s)||"unknown",i.hasClass(a)?void 0:(o=function(){var e,t,i;for(i=[],e=0,t=n.length;t>e;e++)r=n[e],i.push(r.type);return i}(),i.removeClass("unknown"),i.removeClass(o.join(" ")),i.addClass(a),i.toggleClass("identified","unknown"!==a),i.trigger("payment.cardType",a))},e.payment.fn.formatCardCVC=function(){return this.on("keypress",w),this.on("keypress",y),this.on("paste",p),this.on("change",p),this.on("input",p),this},e.payment.fn.formatCardExpiry=function(){return this.on("keypress",w),this.on("keypress",_),this.on("keypress",l),this.on("keypress",d),this.on("keypress",c),this.on("keydown",a),this.on("change",m),this.on("input",m),this},e.payment.fn.formatCardNumber=function(){return this.on("keypress",w),this.on("keypress",b),this.on("keypress",s),this.on("keydown",r),this.on("keyup",C),this.on("paste",f),this.on("change",f),this.on("input",f),this.on("input",C),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",w),this.on("paste",g),this.on("change",g),this.on("input",g),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,i,n,o;return o=e.split(/[\s\/]+/,2),t=o[0],n=o[1],2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(i=(new Date).getFullYear(),i=i.toString().slice(0,2),n=i+n),t=parseInt(t,10),n=parseInt(n,10),{month:t,year:n}},e.payment.validateCardNumber=function(e){var i,n;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(i=t(e),i?(n=e.length,S.call(i.length,n)>=0&&(i.luhn===!1||h(e))):!1):!1},e.payment.validateCardExpiry=function(t,i){var n,o,r;return"object"==typeof t&&"month"in t&&(r=t,t=r.month,i=r.year),t&&i?(t=e.trim(t),i=e.trim(i),/^\d+$/.test(t)&&/^\d+$/.test(i)&&t>=1&&12>=t?(2===i.length&&(i=70>i?"20"+i:"19"+i),4!==i.length?!1:(o=new Date(i,t),n=new Date,o.setMonth(o.getMonth()-1),o.setMonth(o.getMonth()+1,1),o>n)):!1):!1},e.payment.validateCardCVC=function(t,n){var o,r;return t=e.trim(t),/^\d+$/.test(t)?(o=i(n),null!=o?(r=t.length,S.call(o.cvcLength,r)>=0):t.length>=3&&t.length<=4):!1},e.payment.cardType=function(e){var i;return e?(null!=(i=t(e))?i.type:void 0)||null:null},e.payment.formatCardNumber=function(i){var n,o,r,a;return i=i.replace(/\D/g,""),(n=t(i))?(r=n.length[n.length.length-1],i=i.slice(0,r),n.format.global?null!=(a=i.match(n.format))?a.join(" "):void 0:(o=n.format.exec(i),null!=o?(o.shift(),o=e.grep(o,function(e){return e}),o.join(" ")):void 0)):i},e.payment.formatExpiry=function(e){var t,i,n,o;return(i=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=i[1]||"",n=i[2]||"",o=i[3]||"",o.length>0?n=" / ":" /"===n?(t=t.substring(0,1),n=""):2===t.length||n.length>0?n=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,n=" / "),t+n+o):""}}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=e.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function n(){var n,o;return i.settings.submitHandler?(i.submitButton&&(n=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),o=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&n.remove(),void 0!==o?o:!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,n;return e(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,i=e(this[0].form).validate(),this.each(function(){t=i.element(this)&&t,t||(n=n.concat(i.errorList))}),i.errorList=n),t},rules:function(t,i){if(this.length){var n,o,r,a,s,l,c=this[0];if(t)switch(n=e.data(c.form,"validator").settings,o=n.rules,r=e.validator.staticRules(c),t){case"add":e.extend(r,e.validator.normalizeRule(i)),delete r.messages,o[c.name]=r,i.messages&&(n.messages[c.name]=e.extend(n.messages[c.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(t,i){l[i]=r[i],delete r[i],"required"===i&&e(c).removeAttr("aria-required")}),l):(delete o[c.name],r)}return a=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c),a.required&&(s=a.required,delete a.required,a=e.extend({required:s},a),e(c).attr("aria-required","true")),a.remote&&(s=a.remote,delete a.remote,a=e.extend(a,{remote:s})),a}}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,n)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),o=i.settings;o[n]&&!e(this).is(o.ignore)&&o[n].call(i,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})}),i=this.settings.rules,e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i,n,o=this.clean(t),r=this.validationTargetFor(o),a=this,s=!0;return void 0===r?delete this.invalid[o.name]:(this.prepareElement(r),this.currentElements=e(r),n=this.groups[r.name],n&&e.each(this.groups,function(e,t){t===n&&e!==r.name&&(o=a.validationTargetFor(a.clean(a.findByName(e))),o&&o.name in a.invalid&&(a.currentElements.push(o),s=s&&a.check(o)))}),i=this.check(r)!==!1,s=s&&i,i?this.invalid[r.name]=!1:this.invalid[r.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!i)),s},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||e(this).attr("name");return!n&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),n in i||!t.objectLength(e(this).rules())?!1:(i[n]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,n,o=e(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":o.val():(i=t.hasAttribute("contenteditable")?o.text():o.val(),"file"===r?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"),n>=0?i.substr(n+1):(n=i.lastIndexOf("\\"),n>=0?i.substr(n+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,n,o,r=e(t).rules(),a=e.map(r,function(e,t){return t}).length,s=!1,l=this.elementValue(t);if("function"==typeof r.normalizer){if(l=r.normalizer.call(t,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(n in r){o={method:n,parameters:r[n]};try{if(i=e.validator.methods[n].call(this,l,t,o.parameters),"dependency-mismatch"===i&&1===a){s=!0;continue}if(s=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,o),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",c),c instanceof TypeError&&(c.message+=".  Exception occurred when checking element "+t.id+", check the '"+o.method+"' method."),c}}if(!s)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,i){var n=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),o=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,t):o.test(n)&&(n=e.validator.format(n.replace(o,"{$1}"),i.parameters)),n},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);
this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n,o,r,a,s=this.errorsFor(t),l=this.idOrName(t),c=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),n=s,this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=s.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(c+=" "+r):c=r,e(t).attr("aria-describedby",c),o=this.groups[t.name],o&&(a=this,e.each(a.groups,function(t,i){i===o&&e("[name='"+a.escapeCssMeta(t)+"']",a.currentForm).attr("aria-describedby",s.attr("id"))})))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),n=e(t).attr("aria-describedby"),o="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(o=o+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(o)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,i){return!!e(t,i.form).length},"function":function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,n){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,n,o={},r=e(t),a=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(n=t.getAttribute(i),""===n&&(n=!0),n=!!n):n=r.attr(i),this.normalizeAttributeRule(o,a,i,n);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(t){var i,n,o={},r=e(t),a=t.getAttribute("type");for(i in e.validator.methods)n=r.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(o,a,i,n);return o},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,o){if(o===!1)return void delete t[n];if(o.param||o.depends){var r=!0;switch(typeof o.depends){case"string":r=!!e(o.depends,i.form).length;break;case"function":r=o.depends.call(i,i)}r?t[n]=void 0!==o.param?o.param:!0:(e.data(i.form,"validator").resetElements(e(i)),delete t[n])}}),e.each(t,function(n,o){t[n]=e.isFunction(o)&&"normalizer"!==n?o(i):o}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var o=e(i).val();return o&&o.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,n){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||o>=n},maxlength:function(t,i,n){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=o},rangelength:function(t,i,n){var o=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||o>=n[0]&&o<=n[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,n){var o=e(i).attr("type"),r="Step attribute on input type "+o+" is not supported.",a=["text","number","range"],s=new RegExp("\\b"+o+"\\b"),l=o&&!s.test(a.join());if(l)throw new Error(r);return this.optional(i)||t%n===0},equalTo:function(t,i,n){var o=e(n);return this.settings.onfocusout&&o.not(".validate-equalTo-blur").length&&o.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),t===o.val()},remote:function(t,i,n,o){if(this.optional(i))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var r,a,s,l=this.previousValue(i,o);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][o],this.settings.messages[i.name][o]=l.message,n="string"==typeof n&&{url:n}||n,s=e.param(e.extend({data:t},n.data)),l.old===s?l.valid:(l.old=s,r=this,this.startRequest(i),a={},a[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:a,context:r.currentForm,success:function(e){var n,a,s,c=e===!0||"true"===e;r.settings.messages[i.name][o]=l.originalMessage,c?(s=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(i),r.formSubmitted=s,r.successList.push(i),r.invalid[i.name]=!1,r.showErrors()):(n={},a=e||r.defaultMessage(i,{method:o,parameters:t}),n[i.name]=l.message=a,r.invalid[i.name]=!0,r.showErrors(n)),l.valid=c,r.stopRequest(i,c)}},n)),"pending")}}});var t,i={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,n){var o=e.port;"abort"===e.mode&&(i[o]&&i[o].abort(),i[o]=n)}):(t=e.ajax,e.ajax=function(n){var o=("mode"in n?n:e.ajaxSettings).mode,r=("port"in n?n:e.ajaxSettings).port;return"abort"===o?(i[r]&&i[r].abort(),i[r]=t.apply(this,arguments),i[r]):t.apply(this,arguments)})});var PayolaCheckout={initialize:function(){$(".payola-checkout-button").on("click",function(e){e.preventDefault(),PayolaCheckout.handleCheckoutButtonClick($(this))})},handleCheckoutButtonClick:function(e){var t=e.parent("form"),i=t.data(),n=StripeCheckout.configure({key:i.publishable_key,image:i.product_image_path,token:function(e){PayolaCheckout.tokenHandler(e,i)},name:i.name,description:i.description,amount:i.price,panelLabel:i.panel_label,allowRememberMe:i.allow_remember_me,zipCode:i.verify_zip_code,billingAddress:i.billing_address,shippingAddress:i.shipping_address,currency:i.currency,bitcoin:i.bitcoin,email:i.email||void 0});n.open()},tokenHandler:function(e,t){var i=$("#"+t.form_id);i.append($('<input type="hidden" name="stripeToken">').val(e.id)),i.append($('<input type="hidden" name="stripeEmail">').val(e.email)),t.signed_custom_fields&&i.append($('<input type="hidden" name="signed_custom_fields">').val(t.signed_custom_fields)),$(".payola-checkout-button").prop("disabled",!0),$(".payola-checkout-button-text").hide(),$(".payola-checkout-button-spinner").show(),$.ajax({type:"POST",url:t.base_path+"/buy/"+t.product_class+"/"+t.product_permalink,data:i.serialize(),success:function(e){PayolaCheckout.poll(e.guid,60,t)},error:function(e){PayolaCheckout.showError(jQuery.parseJSON(e.responseText).error,t)}})},showError:function(e,t){var i=$("#"+t.error_div_id);i.html(e),i.show(),$(".payola-checkout-button").prop("disabled",!1),$(".payola-checkout-button-spinner").hide(),$(".payola-checkout-button-text").show()},poll:function(e,t,i){if(0===t)return void PayolaCheckout.showError("This seems to be taking too long. Please contact support and give them transaction ID: "+e,i);var n=function(n){"finished"===n.status?window.location=i.base_path+"/confirm/"+e:"errored"===n.status?PayolaCheckout.showError(n.error,i):setTimeout(function(){PayolaCheckout.poll(e,t-1,i)},500)};$.ajax({type:"GET",url:i.base_path+"/status/"+e,success:n,error:function(e){n(jQuery.parseJSON(e.responseText))}})}};"undefined"!=typeof Turbolinks?$(document).on("page:change",PayolaCheckout.initialize):$(document).ready(PayolaCheckout.initialize);var PayolaPaymentForm={initialize:function(){$(".payola-payment-form").on("submit",function(){return PayolaPaymentForm.handleSubmit($(this))})},handleSubmit:function(e){return e.find(":submit").prop("disabled",!0),$(".payola-spinner").show(),Stripe.card.createToken(e,function(t,i){PayolaPaymentForm.stripeResponseHandler(e,t,i)}),!1},stripeResponseHandler:function(e,t,i){if(i.error)PayolaPaymentForm.showError(e,i.error.message);else{var n=e.find("[data-payola='email']").val(),o=e.data("payola-base-path"),r=e.data("payola-product"),a=e.data("payola-permalink"),s=$("<form></form>");s.append($('<input type="hidden" name="stripeToken">').val(i.id)),s.append($('<input type="hidden" name="stripeEmail">').val(n)),s.append(PayolaPaymentForm.authenticityTokenInput()),$.ajax({type:"POST",url:o+"/buy/"+r+"/"+a,data:s.serialize(),success:function(t){PayolaPaymentForm.poll(e,60,t.guid,o)},error:function(t){PayolaPaymentForm.showError(e,jQuery.parseJSON(t.responseText).error)}})}},poll:function(e,t,i,n){0===t&&PayolaPaymentForm.showError(e,"This seems to be taking too long. Please contact support and give them transaction ID: "+i),$.get(n+"/status/"+i,function(o){"finished"===o.status?(e.append($('<input type="hidden" name="payola_sale_guid"></input>').val(i)),e.append(PayolaPaymentForm.authenticityTokenInput()),e.get(0).submit()):"errored"===o.status?PayolaPaymentForm.showError(e,o.error):setTimeout(function(){PayolaPaymentForm.poll(e,t-1,i,n)},500)})},showError:function(e,t){$(".payola-spinner").hide(),$(e).find(":submit").prop("disabled",!1).trigger("error",t);var i=e.data("payola-error-selector");i?$(i).text(t):e.find(".payola-payment-error").text(t)},authenticityTokenInput:function(){return $('<input type="hidden" name="authenticity_token"></input>').val($('meta[name="csrf-token"]').attr("content"))}};"undefined"!=typeof Turbolinks?$(document).on("page:change",PayolaPaymentForm.initialize):$(document).ready(PayolaPaymentForm.initialize);var PayolaSubscriptionCheckout={initialize:function(){$(".payola-subscription-checkout-button").on("click",function(e){e.preventDefault(),PayolaSubscriptionCheckout.handleCheckoutButtonClick($(this))})},handleCheckoutButtonClick:function(e){var t=e.parent("form"),i=t.data();if(i.stripe_customer_id)PayolaSubscriptionCheckout.submitForm(t.attr("action"),{stripe_customer_id:i.stripe_customer_id},i);else{var n=StripeCheckout.configure({key:i.publishable_key,image:i.plan_image_path,token:function(e){PayolaSubscriptionCheckout.tokenHandler(e,i)},name:i.name,description:i.description,amount:i.price+i.price*(i.tax_percent/100),panelLabel:i.panel_label,allowRememberMe:i.allow_remember_me,zipCode:i.verify_zip_code,billingAddress:i.billing_address,shippingAddress:i.shipping_address,currency:i.currency,email:i.email||void 0});n.open()}},tokenHandler:function(e,t){var i=$("#"+t.form_id);i.append($('<input type="hidden" name="stripeToken">').val(e.id)),i.append($('<input type="hidden" name="stripeEmail">').val(e.email)),i.append($('<input type="hidden" name="quantity">').val(t.quantity)),i.append($('<input type="hidden" name="coupon">').val(t.coupon)),i.append($('<input type="hidden" name="tax_percent">').val(t.tax_percent)),t.signed_custom_fields&&i.append($('<input type="hidden" name="signed_custom_fields">').val(t.signed_custom_fields)),PayolaSubscriptionCheckout.submitForm(i.attr("action"),i.serialize(),t)},submitForm:function(e,t,i){$(".payola-subscription-checkout-button").prop("disabled",!0),$(".payola-subscription-checkout-button-text").hide(),$(".payola-subscription-checkout-button-spinner").show(),$.ajax({type:"POST",url:e,data:t,success:function(e){PayolaSubscriptionCheckout.poll(e.guid,60,i)},error:function(e){PayolaSubscriptionCheckout.showError(jQuery.parseJSON(e.responseText).error,i)}})},showError:function(e,t){var i=$("#"+t.error_div_id);i.html(e),i.show(),$(".payola-subscription-checkout-button").prop("disabled",!1).trigger("error",e),$(".payola-subscription-checkout-button-spinner").hide(),$(".payola-subscription-checkout-button-text").show()},poll:function(e,t,i){if(0===t)return void PayolaSubscriptionCheckout.showError("This seems to be taking too long. Please contact support and give them transaction ID: "+e,i);var n=function(n){"active"===n.status?window.location=i.base_path+"/confirm_subscription/"+e:"errored"===n.status?PayolaSubscriptionCheckout.showError(n.error,i):setTimeout(function(){PayolaSubscriptionCheckout.poll(e,t-1,i)},500)};$.ajax({type:"GET",url:i.base_path+"/subscription_status/"+e,success:n,error:function(e){n(jQuery.parseJSON(e.responseText))}})}};"undefined"!=typeof Turbolinks?$(document).on("page:change",PayolaSubscriptionCheckout.initialize):$(document).ready(PayolaSubscriptionCheckout.initialize);var PayolaOnestepSubscriptionForm={initialize:function(){$(".payola-onestep-subscription-form").on("submit",function(){return PayolaOnestepSubscriptionForm.handleSubmit($(this))})},handleSubmit:function(e){return $(e).find(":submit").prop("disabled",!0),$(".payola-spinner").show(),Stripe.card.createToken(e,function(t,i){PayolaOnestepSubscriptionForm.stripeResponseHandler(e,t,i)}),!1},stripeResponseHandler:function(e,t,i){if(i.error)PayolaOnestepSubscriptionForm.showError(e,i.error.message);else{var n=e.find("[data-payola='email']").val(),o=e.find("[data-payola='coupon']").val(),r=e.find("[data-payola='quantity']").val(),a=e.data("payola-base-path"),s=e.data("payola-plan-type"),l=e.data("payola-plan-id"),c=$(e).attr("action");e.append($('<input type="hidden" name="plan_type">').val(s)),e.append($('<input type="hidden" name="plan_id">').val(l)),e.append($('<input type="hidden" name="stripeToken">').val(i.id)),e.append($('<input type="hidden" name="stripeEmail">').val(n)),e.append($('<input type="hidden" name="coupon">').val(o)),e.append($('<input type="hidden" name="quantity">').val(r)),e.append(PayolaOnestepSubscriptionForm.authenticityTokenInput()),$.ajax({type:"POST",url:c,data:e.serialize(),success:function(t){PayolaOnestepSubscriptionForm.poll(e,60,t.guid,a)},error:function(t){PayolaOnestepSubscriptionForm.showError(e,jQuery.parseJSON(t.responseText).error)}})}},poll:function(e,t,i,n){0===t&&PayolaOnestepSubscriptionForm.showError(e,"This seems to be taking too long. Please contact support and give them transaction ID: "+i);var o=function(o){"active"===o.status?window.location=n+"/confirm_subscription/"+i:setTimeout(function(){PayolaOnestepSubscriptionForm.poll(e,t-1,i,n)},500)},r=function(t){PayolaOnestepSubscriptionForm.showError(e,jQuery.parseJSON(t.responseText).error)};$.ajax({type:"GET",dataType:"json",url:n+"/subscription_status/"+i,success:o,error:r})},showError:function(e,t){$(".payola-spinner").hide(),$(e).find(":submit").prop("disabled",!1).trigger("error",t);var i=e.data("payola-error-selector");i?($(i).text(t),$(i).show()):(e.find(".payola-payment-error").text(t),e.find(".payola-payment-error").show())},authenticityTokenInput:function(){return $('<input type="hidden" name="authenticity_token"></input>').val($('meta[name="csrf-token"]').attr("content"))}};"undefined"!=typeof Turbolinks?$(document).on("page:change",PayolaOnestepSubscriptionForm.initialize):$(document).ready(PayolaOnestepSubscriptionForm.initialize);var PayolaRegistrationForm={initialize:function(){$(".payola-register-form").on("submit",function(e){return e.preventDefault(),PayolaRegistrationForm.handleSubmit($(this))})},handleSubmit:function(e){return $(e).find(":submit").prop("disabled",!0),$(".payola-spinner").show(),PayolaRegistrationForm.makeCustomer(e),!1},makeCustomer:function(e){var t=e.find("[data-payola='email']").val(),i=e.find("[data-payola='coupon']").val(),n=e.find("[data-payola='quantity']").val(),o=e.data("payola-base-path"),r=e.data("payola-plan-type"),a=e.data("payola-plan-id"),s=$(e).attr("action");e.append($('<input type="hidden" name="[user]plan_id">').val(a)),e.append($('<input type="hidden" name="plan_type">').val(r)),e.append($('<input type="hidden" name="plan_id">').val(a)),e.append($('<input type="hidden" name="stripeEmail">').val(t)),e.append($('<input type="hidden" name="coupon">').val(i)),e.append($('<input type="hidden" name="quantity">').val(n)),e.append(PayolaRegistrationForm.authenticityTokenInput()),$.ajax({type:"POST",url:s,data:e.serialize(),success:function(t){PayolaRegistrationForm.poll(e,60,t.guid,o)},error:function(t){PayolaRegistrationForm.showError(e,jQuery.parseJSON(t.responseText).error)}})},poll:function(e,t,i,n){0===t&&PayolaRegistrationForm.showError(e,"This seems to be taking too long. Please contact support and give them transaction ID: "+i);var o=function(o){"active"===o.status?(e.append($('<input type="hidden" name="payola_subscription_guid"></input>').val(i)),e.append(PayolaRegistrationForm.authenticityTokenInput()),e.get(0).submit()):setTimeout(function(){PayolaRegistrationForm.poll(e,t-1,i,n)},500)},r=function(t){var i=jQuery.parseJSON(t.responseText);"errored"===i.status&&PayolaRegistrationForm.showError(e,i.error)};$.ajax({type:"GET",dataType:"json",url:n+"/subscription_status/"+i,success:o,error:r})},showError:function(e,t){$(".payola-spinner").hide(),$(e).find(":submit").prop("disabled",!1);var i=e.data("payola-error-selector");i?($(i).text(t),$(i).show()):(e.find(".payola-payment-error").text(t),e.find(".payola-payment-error").show())},authenticityTokenInput:function(){return $('<input type="hidden" name="authenticity_token"></input>').val($('meta[name="csrf-token"]').attr("content"))}};"undefined"!=typeof Turbolinks?$(document).on("page:change",PayolaRegistrationForm.initialize):$(document).ready(PayolaRegistrationForm.initialize);var PayolaSubscriptionForm={initialize:function(){$(".payola-subscription-form").on("submit",function(){return PayolaSubscriptionForm.handleSubmit($(this))})},handleSubmit:function(e){return $(e).find(":submit").prop("disabled",!0),$(".payola-spinner").show(),Stripe.card.createToken(e,function(t,i){PayolaSubscriptionForm.stripeResponseHandler(e,t,i)}),!1},stripeResponseHandler:function(e,t,i){if(i.error)PayolaSubscriptionForm.showError(e,i.error.message);else{var n=e.find("[data-payola='email']").val(),o=e.find("[data-payola='coupon']").val(),r=e.find("[data-payola='quantity']").val(),a=e.data("payola-base-path"),s=e.data("payola-plan-type"),l=e.data("payola-plan-id"),c=$("<form></form>");c.append($('<input type="hidden" name="stripeToken">').val(i.id)),c.append($('<input type="hidden" name="stripeEmail">').val(n)),c.append($('<input type="hidden" name="coupon">').val(o)),c.append($('<input type="hidden" name="quantity">').val(r)),c.append(PayolaSubscriptionForm.authenticityTokenInput()),$.ajax({type:"POST",url:a+"/subscribe/"+s+"/"+l,data:c.serialize(),success:function(t){PayolaSubscriptionForm.poll(e,60,t.guid,a)},error:function(t){PayolaSubscriptionForm.showError(e,jQuery.parseJSON(t.responseText).error)}})}},poll:function(e,t,i,n){0===t&&PayolaSubscriptionForm.showError(e,"This seems to be taking too long. Please contact support and give them transaction ID: "+i);var o=function(o){"active"===o.status?(e.append($('<input type="hidden" name="payola_subscription_guid"></input>').val(i)),e.append(PayolaSubscriptionForm.authenticityTokenInput()),e.get(0).submit()):setTimeout(function(){PayolaSubscriptionForm.poll(e,t-1,i,n)},500)},r=function(t){var i=jQuery.parseJSON(t.responseText);"errored"===i.status&&PayolaSubscriptionForm.showError(e,i.error)};$.ajax({type:"GET",dataType:"json",url:n+"/subscription_status/"+i,success:o,error:r})},showError:function(e,t){$(".payola-spinner").hide(),$(e).find(":submit").prop("disabled",!1).trigger("error",t);var i=e.data("payola-error-selector");i?($(i).text(t),$(i).show()):(e.find(".payola-payment-error").text(t),e.find(".payola-payment-error").show())},authenticityTokenInput:function(){return $('<input type="hidden" name="authenticity_token"></input>').val($('meta[name="csrf-token"]').attr("content"))}};"undefined"!=typeof Turbolinks?$(document).on("page:change",PayolaSubscriptionForm.initialize):$(document).ready(PayolaSubscriptionForm.initialize),function(){function e(){}function t(e){return r.retinaImageSuffix+e}function i(e,i){if(this.path=e||"","undefined"!=typeof i&&null!==i)this.at_2x_path=i,this.perform_check=!1;else{if(void 0!==document.createElement){var n=document.createElement("a");n.href=this.path,n.pathname=n.pathname.replace(a,t),this.at_2x_path=n.href}else{var o=this.path.split("?");o[0]=o[0].replace(a,t),this.at_2x_path=o.join("?")}this.perform_check=!0}}function n(e){this.el=e,this.path=new i(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var t=this;this.path.check_2x_variant(function(e){e&&t.swap()})}var o="undefined"==typeof exports?window:exports,r={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};o.Retina=e,e.configure=function(e){null===e&&(e={});for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])},e.init=function(e){null===e&&(e=o);var t=e.onload||function(){};e.onload=function(){var e,i,o=document.getElementsByTagName("img"),r=[];for(e=0;e<o.length;e+=1)i=o[e],i.getAttributeNode("data-no-retina")||r.push(new n(i));t()}},e.isRetina=function(){var e="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return o.devicePixelRatio>1?!0:o.matchMedia&&o.matchMedia(e).matches?!0:!1};var a=/\.\w+$/;o.RetinaImagePath=i,i.confirmed_paths=[],i.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},i.prototype.check_2x_variant=function(e){var t,n=this;return this.is_external()?e(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in i.confirmed_paths?e(!0):(t=new XMLHttpRequest,t.open("HEAD",this.at_2x_path),t.onreadystatechange=function(){if(4!==t.readyState)return e(!1);if(t.status>=200&&t.status<=399){if(r.check_mime_type){var o=t.getResponseHeader("Content-Type");if(null===o||!o.match(/^image/i))return e(!1)}return i.confirmed_paths.push(n.at_2x_path),e(!0)}return e(!1)},t.send(),void 0):e(!0)},o.RetinaImage=n,n.prototype.swap=function(e){function t(){i.el.complete?(r.force_original_dimensions&&(i.el.setAttribute("width",i.el.offsetWidth),i.el.setAttribute("height",i.el.offsetHeight)),i.el.setAttribute("src",e)):setTimeout(t,5)}"undefined"==typeof e&&(e=this.path.at_2x_path);var i=this;t()},e.isRetina()&&e.init(o)}(),function(e,t){function i(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function n(e){return u?u(e):"[object Array]"===h.call(e)}function o(e){return e&&"[object Object]"===h.call(e)}function r(e,t){var i;e=e||{},t=t||{};for(i in t)t.hasOwnProperty(i)&&null==e[i]&&(e[i]=t[i]);return e}function a(e,t,i){var n,o,r=[];if(!e)return r;if(d&&e.map===d)return e.map(t,i);for(n=0,o=e.length;o>n;n++)r[n]=t.call(i,e[n],n,e);return r}function s(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function l(e){var t=c.settings.currency.format;return"function"==typeof e&&(e=e()),i(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:i(t)?c.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var c={};c.version="0.4.1",c.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var d=Array.prototype.map,u=Array.isArray,h=Object.prototype.toString,p=c.unformat=c.parse=function(e,t){if(n(e))return a(e,function(e){return p(e,t)});if(e=e||0,"number"==typeof e)return e;t=t||c.settings.number.decimal;var i=new RegExp("[^0-9-"+t+"]",["g"]),o=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(i,"").replace(t,"."));return isNaN(o)?0:o},f=c.toFixed=function(e,t){t=s(t,c.settings.number.precision);var i=Math.pow(10,t);return(Math.round(c.unformat(e)*i)/i).toFixed(t)},m=c.formatNumber=c.format=function(e,t,i,l){if(n(e))return a(e,function(e){return m(e,t,i,l)});e=p(e);var d=r(o(t)?t:{precision:t,thousand:i,decimal:l},c.settings.number),u=s(d.precision),h=0>e?"-":"",g=parseInt(f(Math.abs(e||0),u),10)+"",v=g.length>3?g.length%3:0;return h+(v?g.substr(0,v)+d.thousand:"")+g.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+d.thousand)+(u?d.decimal+f(Math.abs(e),u).split(".")[1]:"")},g=c.formatMoney=function(e,t,i,d,u,h){if(n(e))return a(e,function(e){return g(e,t,i,d,u,h)});e=p(e);var f=r(o(t)?t:{symbol:t,precision:i,thousand:d,decimal:u,format:h},c.settings.currency),v=l(f.format),y=e>0?v.pos:0>e?v.neg:v.zero;return y.replace("%s",f.symbol).replace("%v",m(Math.abs(e),s(f.precision),f.thousand,f.decimal))};c.formatColumn=function(e,t,d,u,h,f){if(!e)return[];var g=r(o(t)?t:{symbol:t,precision:d,thousand:u,decimal:h,format:f},c.settings.currency),v=l(g.format),y=v.pos.indexOf("%s")<v.pos.indexOf("%v")?!0:!1,b=0,_=a(e,function(e,t){if(n(e))return c.formatColumn(e,g);e=p(e);var i=e>0?v.pos:0>e?v.neg:v.zero,o=i.replace("%s",g.symbol).replace("%v",m(Math.abs(e),s(g.precision),g.thousand,g.decimal));return o.length>b&&(b=o.length),o});return a(_,function(e,t){return i(e)&&e.length<b?y?e.replace(g.symbol,g.symbol+new Array(b-e.length+1).join(" ")):new Array(b-e.length+1).join(" ")+e:e})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.accounting=c):"function"==typeof define&&define.amd?define([],function(){return c}):(c.noConflict=function(i){return function(){return e.accounting=i,c.noConflict=t,c}}(e.accounting),e.accounting=c)}(this),function(){$.pipefy.SubscriptionCheckout={init:function(){return this.bindPaymentForm(),this.bindValidation(),this.calculatePrice()},bindValidation:function(){return $(".checkout-form").on("submit",function(e){return e.preventDefault()}),$(".checkout-form").validate({rules:{name:"required",address_line1:"required",address_zip:"required",address_city:"required",address_state:"required",address_country:"required"},messages:{name:"Please enter your name",email:"Please enter a valid email address"},errorElement:"em",errorPlacement:function(e,t){return e.addClass("help-block"),"checkbox"===t.prop("type")?e.insertAfter(t.parent("label")):e.insertAfter(t)},highlight:function(e,t,i){return $(e).parents(".form-group").addClass("has-error").removeClass("has-success")},unhighlight:function(e,t,i){return $(e).parents(".form-group").removeClass("has-error")},submitHandler:function(e){return PayolaOnestepSubscriptionForm.handleSubmit($(e))}})},bindPaymentForm:function(){return $(".cc-number").payment("formatCardNumber"),$(".cc-number").payment("formatCardNumber"),$(".cc-exp").payment("formatCardExpiry"),$(".cc-cvc").payment("formatCardCVC"),$("#users-field").payment("restrictNumeric"),$("#cc-number").on("blur change click keyup",function(){var e;return e=$.payment.cardType($(this).val()),$("#card-type").removeClass(),"amex"===e&&(e="american-express"),"dinersclub"===e&&(e="diners"),e?$("#card-type").addClass("pf pf-"+e):void 0}),$(".plus-sign").on("click",function(e){return function(t){var i;return t.preventDefault(),i=$("#users-field").val(),$("#users-field").val(parseInt(i)+1),e.calculatePrice()}}(this)),$("#users-field").on("change",function(e){return function(t){var i,n;return t.preventDefault(),i=$(".users-quantity").data("min-users"),i=parseInt(i),n=$("#users-field").val(),n=i>n?i:n,$("#users-field").val(n),e.calculatePrice()}}(this)),$(".minus-sign").on("click",function(e){return function(t){var i,n;return t.preventDefault(),i=$(".users-quantity").data("min-users"),i=parseInt(i),n=$("#users-field").val(),n=parseInt(n)-1,n=i>n?i:n,$("#users-field").val(n),e.calculatePrice()}}(this)),$(".cc-exp").on("blur keyup change click",function(){var e,t;return e=$(".cc-exp").first(),t=$.payment.cardExpiryVal(e.val()),$('input[data-stripe="exp_month"]').val(t.month),$('input[data-stripe="exp_year"]').val(t.year)})},calculatePrice:function(){var e,t,i,n,o,r;return e=parseInt($("#users-field").val()),n=$(".plan-price .item-value").data("value"),n=parseFloat(n),t=parseFloat($(".discount .item-value").data("value")),t?(i=$.parseJSON($(".discount .item-value").data("per-quantity")),i&&(t*=e),$(".discount .item-value").text(accounting.formatMoney(t,"$"))):(i=!1,t=0),o=n*e,r=o-t,$(".plan-price .item-label").text("Pro account with "+e+" users"),$(".plan-price .item-value").text(accounting.formatMoney(o,"$")),
$(".total-price .total-value").text(accounting.formatMoney(r,""))}}}.call(this),function(e,t,i){var n=function(e,n){"use strict";var o=function(t,i){this.CLASS&&"ColVis"==this.CLASS||alert("Warning: ColVis must be initialised with the keyword 'new'"),"undefined"==typeof i&&(i={});var n=e.fn.dataTable.camelToHungarian;return n&&(n(o.defaults,o.defaults,!0),n(o.defaults,i)),this.s={dt:null,oInit:i,hidden:!0,abOriginal:[]},this.dom={wrapper:null,button:null,collection:null,background:null,catcher:null,buttons:[],groupButtons:[],restore:null},o.aInstances.push(this),this.s.dt=e.fn.dataTable.Api?new e.fn.dataTable.Api(t).settings()[0]:t,this._fnConstruct(i),this};return o.prototype={button:function(){return this.dom.wrapper},fnRebuild:function(){this.rebuild()},rebuild:function(){for(var e=this.dom.buttons.length-1;e>=0;e--)this.dom.collection.removeChild(this.dom.buttons[e]);this.dom.buttons.splice(0,this.dom.buttons.length),this.dom.groupButtons.splice(0,this.dom.groupButtons.length),this.dom.restore&&this.dom.restore.parentNode(this.dom.restore),this._fnAddButtons(),this._fnDrawCallback()},_fnConstruct:function(i){this._fnApplyCustomisation(i);var n,o,r=this;for(this.dom.wrapper=t.createElement("div"),this.dom.wrapper.className="ColVis",this.dom.button=e("<button />",{"class":this.s.dt.bJUI?"ColVis_Button ColVis_MasterButton ui-button ui-state-default":"ColVis_Button ColVis_MasterButton"}).append("<span>"+this.s.buttonText+"</span>").bind("mouseover"==this.s.activate?"mouseover":"click",function(e){e.preventDefault(),r._fnCollectionShow()}).appendTo(this.dom.wrapper)[0],this.dom.catcher=this._fnDomCatcher(),this.dom.collection=this._fnDomCollection(),this.dom.background=this._fnDomBackground(),this._fnAddButtons(),n=0,o=this.s.dt.aoColumns.length;o>n;n++)this.s.abOriginal.push(this.s.dt.aoColumns[n].bVisible);this.s.dt.aoDrawCallback.push({fn:function(){r._fnDrawCallback.call(r)},sName:"ColVis"}),e(this.s.dt.oInstance).bind("column-reorder.dt",function(e,t,i){for(n=0,o=r.s.aiExclude.length;o>n;n++)r.s.aiExclude[n]=i.aiInvertMapping[r.s.aiExclude[n]];var a=r.s.abOriginal.splice(i.iFrom,1)[0];r.s.abOriginal.splice(i.iTo,0,a),r.fnRebuild()}),e(this.s.dt.oInstance).bind("destroy.dt",function(){e(r.dom.wrapper).remove()}),this._fnDrawCallback()},_fnApplyCustomisation:function(t){e.extend(!0,this.s,o.defaults,t),!this.s.showAll&&this.s.bShowAll&&(this.s.showAll=this.s.sShowAll),!this.s.restore&&this.s.bRestore&&(this.s.restore=this.s.sRestore);var i=this.s.groups,n=this.s.aoGroups;if(i)for(var r=0,a=i.length;a>r;r++)i[r].title&&(n[r].sTitle=i[r].title),i[r].columns&&(n[r].aiColumns=i[r].columns)},_fnDrawCallback:function(){for(var t,n=this.s.dt.aoColumns,o=this.dom.buttons,r=0,a=o.length;a>r;r++)t=o[r],t.__columnIdx!==i&&e("input",t).prop("checked",n[t.__columnIdx].bVisible)},_fnAddGroups:function(){var e;if("undefined"!=typeof this.s.aoGroups)for(var t=0,i=this.s.aoGroups.length;i>t;t++)e=this._fnDomGroupButton(t),this.dom.groupButtons.push(e),this.dom.buttons.push(e),this.dom.collection.appendChild(e)},_fnAddButtons:function(){var t,i=this.s.dt.aoColumns;if("undefined"!=typeof this.s.aoGroups)for(var n=0,o=this.s.aoGroups.length;o>n;n++){var r=this.s.aoGroups[n],a=r.sTitle,s=e('<li class="header">'+a+"</li>")[0];this.dom.buttons.push(s);for(var l=0,c=r.columns.length;c>l;l++){var d=r.columns[l],u=_.find(this.s.dt.aoColumns,function(e){return e._ColReorder_iOrigCol==d});t=this._fnDomColumnButton(u.idx),t.__columnIdx=u.idx,this.dom.buttons.push(t)}}else if(-1===e.inArray("all",this.s.aiExclude))for(var n=0,o=i.length;o>n;n++)-1===e.inArray(n,this.s.aiExclude)&&(t=this._fnDomColumnButton(n),t.__columnIdx=n,this.dom.buttons.push(t));"alpha"===this.s.order&&this.dom.buttons.sort(function(e,t){var n=i[e.__columnIdx].sTitle,o=i[t.__columnIdx].sTitle;return n===o?0:o>n?-1:1}),this.s.restore&&(t=this._fnDomRestoreButton(),t.className+=" ColVis_Restore",this.dom.buttons.push(t)),this.s.showAll&&(t=this._fnDomShowXButton(this.s.showAll,!0),t.className+=" ColVis_ShowAll",this.dom.buttons.push(t)),this.s.showNone&&(t=this._fnDomShowXButton(this.s.showNone,!1),t.className+=" ColVis_ShowNone",this.dom.buttons.push(t)),e(this.dom.collection).append(this.dom.buttons)},_fnDomRestoreButton:function(){var t=this,i=this.s.dt;return e('<li class="ColVis_Special '+(i.bJUI?"ui-button ui-state-default":"")+'">'+this.s.restore+"</li>").click(function(e){for(var i=0,n=t.s.abOriginal.length;n>i;i++)t.s.dt.oInstance.fnSetColumnVis(i,t.s.abOriginal[i],!1);t._fnAdjustOpenRows(),t.s.dt.oInstance.fnAdjustColumnSizing(!1),t.s.dt.oInstance.fnDraw(!1)})[0]},_fnDomShowXButton:function(t,i){var n=this,o=this.s.dt;return e('<li class="ColVis_Special '+(o.bJUI?"ui-button ui-state-default":"")+'">'+t+"</li>").click(function(e){for(var t=0,o=n.s.abOriginal.length;o>t;t++)-1===n.s.aiExclude.indexOf(t)&&n.s.dt.oInstance.fnSetColumnVis(t,i,!1);n._fnAdjustOpenRows(),n.s.dt.oInstance.fnAdjustColumnSizing(!1),n.s.dt.oInstance.fnDraw(!1)})[0]},_fnDomGroupButton:function(t){var i=this,n=this.s.dt,o=this.s.aoGroups[t];return e('<li class="ColVis_Special '+(n.bJUI?"ui-button ui-state-default":"")+'"><label><input type="checkbox" /><span>'+o.sTitle+"</span></label></li>").click(function(t){var n=!e("input",this).is(":checked");"li"!==t.target.nodeName.toLowerCase()&&(n=!n);for(var r=0;r<o.aiColumns.length;r++)i.s.dt.oInstance.fnSetColumnVis(o.aiColumns[r],n)})[0]},_fnDomColumnButton:function(t){var i=this,n=this.s.dt.aoColumns[t],o=this.s.dt,r=null===this.s.fnLabel?n.sTitle:this.s.fnLabel(t,n.sTitle,n.nTh);return e("<li "+(o.bJUI?'class="ui-button ui-state-default"':"")+'><label><input type="checkbox" /><span>'+r+"</span></label></li>").click(function(n){var r=!e("input",this).is(":checked");"li"!==n.target.nodeName.toLowerCase()&&("input"==n.target.nodeName.toLowerCase()||null===i.s.fnStateChange)&&(r=!r);var a=e.fn.dataTableExt.iApiIndex;e.fn.dataTableExt.iApiIndex=i._fnDataTablesApiIndex.call(i),o.oFeatures.bServerSide?(i.s.dt.oInstance.fnSetColumnVis(t,r,!1),i.s.dt.oInstance.fnAdjustColumnSizing(!1),(""!==o.oScroll.sX||""!==o.oScroll.sY)&&i.s.dt.oInstance.oApi._fnScrollDraw(i.s.dt),i._fnDrawCallback()):i.s.dt.oInstance.fnSetColumnVis(t,r),e.fn.dataTableExt.iApiIndex=a,null!==i.s.fnStateChange&&("span"==n.target.nodeName.toLowerCase()&&n.preventDefault(),i.s.fnStateChange.call(i,t,r))})[0]},_fnDataTablesApiIndex:function(){for(var e=0,t=this.s.dt.oInstance.length;t>e;e++)if(this.s.dt.oInstance[e]==this.s.dt.nTable)return e;return 0},_fnDomCollection:function(){return e("<ul />",{"class":this.s.dt.bJUI?"ColVis_collection ui-buttonset ui-buttonset-multi":"ColVis_collection"}).css({display:"none",opacity:0,position:this.s.bCssPosition?"":"absolute"})[0]},_fnDomCatcher:function(){var i=this,n=t.createElement("div");return n.className="ColVis_catcher",e(n).click(function(){i._fnCollectionHide.call(i,null,null)}),n},_fnDomBackground:function(){var t=this,i=e("<div></div>").addClass("ColVis_collectionBackground").css("opacity",0).click(function(){t._fnCollectionHide.call(t,null,null)});return"mouseover"==this.s.activate&&i.mouseover(function(){t.s.overcollection=!1,t._fnCollectionHide.call(t,null,null)}),i[0]},_fnCollectionShow:function(){var i,n=this,o=e(this.dom.button).offset(),r=this.dom.collection,a=this.dom.background,s=parseInt(o.left,10)-110,l=parseInt(o.top+e(this.dom.button).outerHeight(),10);this.s.bCssPosition||(r.style.top=l+"px",r.style.left=s+"px"),e(r).css({display:"block",opacity:0}),a.style.bottom="0px",a.style.right="0px";var c=this.dom.catcher.style;if(c.height=e(this.dom.button).outerHeight()+"px",c.width=e(this.dom.button).outerWidth()+"px",c.top=o.top+"px",c.left=s+"px",t.body.appendChild(a),t.body.appendChild(r),t.body.appendChild(this.dom.catcher),e(r).animate({opacity:1},n.s.iOverlayFade),e(a).animate({opacity:.1},n.s.iOverlayFade,"linear",function(){e.browser&&e.browser.msie&&"6.0"==e.browser.version&&n._fnDrawCallback()}),!this.s.bCssPosition){i="left"==this.s.sAlign?s:s-e(r).outerWidth()+e(this.dom.button).outerWidth(),r.style.left=i+"px";var d=e(r).outerWidth(),u=(e(r).outerHeight(),e(t).width());i+d>u&&(r.style.left=u-d+"px")}this.s.hidden=!1},_fnCollectionHide:function(){var i=this;this.s.hidden||null===this.dom.collection||(this.s.hidden=!0,e(this.dom.collection).animate({opacity:0},i.s.iOverlayFade,function(e){this.style.display="none"}),e(this.dom.background).animate({opacity:0},i.s.iOverlayFade,function(e){t.body.removeChild(i.dom.background),t.body.removeChild(i.dom.catcher)}))},_fnAdjustOpenRows:function(){for(var e=this.s.dt.aoOpenRows,t=this.s.dt.oApi._fnVisbleColumns(this.s.dt),i=0,n=e.length;n>i;i++)e[i].nTr.getElementsByTagName("td")[0].colSpan=t}},o.fnRebuild=function(t){var i=null;"undefined"!=typeof t&&(i=e.fn.dataTable.Api?new e.fn.dataTable.Api(t).table().node():t.fnSettings().nTable);for(var n=0,r=o.aInstances.length;r>n;n++)("undefined"==typeof t||i==o.aInstances[n].s.dt.nTable)&&o.aInstances[n].fnRebuild()},o.defaults={active:"click",buttonText:"Show / hide columns",aiExclude:[],bRestore:!1,sRestore:"Restore original",bShowAll:!1,sShowAll:"Show All",sAlign:"left",fnStateChange:null,iOverlayFade:500,fnLabel:null,bCssPosition:!1,aoGroups:[],order:"column"},o.aInstances=[],o.prototype.CLASS="ColVis",o.VERSION="1.1.2",o.prototype.VERSION=o.VERSION,"function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.7.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit,i=new o(e,t.colVis||t.oColVis||{});return i.button()},cFeature:"C",sFeature:"ColVis"}):alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download"),e.fn.dataTable.ColVis=o,e.fn.DataTable.ColVis=o,o};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.ColVis&&n(jQuery,jQuery.fn.dataTable)}(window,document),function(){$.pipefy.InvitationNewForm={init:function(e,t){var i,n;return null==e&&(e=null),null==t&&(t=null),n=t?$("#"+t):$(document),i=n.find("#user_email.typeahead"),i.selectize({valueField:"email",labelField:"name",searchField:["email","name","display_username"],options:[],create:!0,persist:!1,createOnBlur:!0,openOnFocus:!1,maxItems:null,hideSelected:!0,selectOnTab:!0,load:function(t,n){return t.length?$.ajax({url:"/users.json",type:"GET",dataType:"json",data:{q:t,organization_id:e,limit:5,accepted_or_not_invited:!0},error:function(){return n()},success:function(e){return i.data("suggest")?n(e):n()}}):n()},render:{option_create:function(e,t){return"<div class='create'>"+I18n.t("add")+" <strong>"+t(e.input)+"</strong>&hellip;</div>"},option:function(e,t){return"<div class='user-suggest'> <img src='"+Util.gravatar(t(e.email))+"''> <span class='label user-fullname'> "+t(e.name?e.name:I18n.t("no_name"))+" </span> <span class='user-username'> "+t(e.display_username)+" </span> </div>"}}})}}}.call(this),function(){$.pipefy.InvitationNewFormModal={init:function(e){return null==e&&(e={}),e.autoOpen&&$("#"+e.modalId).modal(),$("#"+e.modalId).on("shown.bs.modal",function(){return $(this).find("input:visible").first().focus()})}}}.call(this),function(){$.pipefy.PipeMetrics={init:function(e){var t,i,n;return i=$("<div></div>"),i.html($("#cumulative-chart-data").text()),n=JSON.parse(i.text()),this.buildProductivityChart(n),i=$("<div></div>"),i.html($("#phases-cumulative-chart-data").text()),t=JSON.parse(i.text()),this.buildCumulativePhasesChart(t,e)},buildProductivityChart:function(e){return Morris.Area({element:"productivity-chart-area",data:e,grid:!0,axes:"y",parseTime:!0,dateFormat:function(e){return moment(e).format("lll")},gridLineColor:"#E1E0E5",gridTextColor:"#666666",gridTextFamily:"Source Sans Pro",gridTextWeight:"800",xkey:"date",padding:0,smooth:!1,ykeys:["done_count","expired_count","late_count","on_time_count"],lineColors:["#4BB4FF","#F15854","#FFA146","#3DE485"],pointStrokeColors:["#4BB4FF","#F15854","#FFA146","#3DE485"],lineBorderColors:["#009EFF","#EE463D","#FF7D00","#3ED980"],pointFillColors:["#009EFF","#EE463D","#FF7D00","#3ED980"],lineWidth:4,pointSize:5,fillOpacity:1,hideHover:!0,resize:!0,labels:[I18n.t("done"),I18n.t("expired"),I18n.t("late"),I18n.t("on_time")]})},buildCumulativePhasesChart:function(e,t){return Morris.Area({element:"cumulative-chart-area",data:e,grid:!0,axes:"y",parseTime:!0,dateFormat:function(e){return moment(e).format("lll")},gridLineColor:"#E1E0E5",gridTextColor:"#666666",gridTextFamily:"Source Sans Pro",gridTextWeight:"800",xkey:"date",padding:0,smooth:!1,ykeys:t.phases_chart_keys,lineColors:["#4AD5D4","#FD4D83","#4098E5","#FBBA64","#7AD789","#ABB7D2","#BDA45A","#DDEF7F"],pointStrokeColors:["#4AD5D4","#FD4D83","#4098E5","#FBBA64","#7AD789","#ABB7D2","#BDA45A","#DDEF7F"],lineBorderColors:["#20C5C3","#ED1D5D","#1584E5","#FFA329","#1BBB35","#7D8AAA","#B2912F","#CAE930"],pointFillColors:["#20C5C3","#ED1D5D","#1584E5","#FFA329","#1BBB35","#7D8AAA","#B2912F","#CAE930"],lineWidth:4,pointSize:5,fillOpacity:1,hideHover:!0,resize:!0,labels:t.phases_labels})}}}.call(this),function(){$.pipefy.OrganizationOnboardNew={init:function(){return"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.track("visited-third-step-signup"),$("#organization_name").focus()}}}.call(this),function(){$.pipefy.PhaseEdit={init:function(){return this.bindUp(),this.bindDown(),this.bindPublicPipeToggle(),this.bindEmailInboxToggle()},bindUp:function(){return $(".setup-item-order .up").click(function(e){var t,i;return e.preventDefault(),i=$(e.target).closest("a"),t=i.closest(".setup-item-movable"),t.addClass("flash"),$.ajax(i.attr("href"),{dataType:"json",type:"PUT"}).done(function(){return t=i.closest(".setup-item-movable"),t.insertBefore(t.prev())}).fail(function(e){return Util.showAjaxErrorNoties(e)})})},bindDown:function(){return $(".setup-item-order .down").click(function(e){var t,i;return e.preventDefault(),i=$(e.target).closest("a"),t=i.closest(".setup-item-movable"),t.addClass("flash"),$.ajax(i.attr("href"),{dataType:"json",type:"PUT"}).done(function(){return t=i.closest(".setup-item-movable"),t.insertAfter(t.next())}).fail(function(e){return Util.showAjaxErrorNoties(e)})})},bindPublicPipeToggle:function(){var e;return e=$("#public-url-container"),$("#pipe_public_form").on("ifChecked",function(){return e.slideDown()}),$("#pipe_public_form").on("ifUnchecked",function(){return e.slideUp()})},bindEmailInboxToggle:function(){var e;return e=$("#email-inbox-container"),$("#pipe_email_inbox").on("ifChecked",function(){return e.slideDown()}),$("#pipe_email_inbox").on("ifUnchecked",function(){return e.slideUp()})}}}.call(this),function(){$.pipefy.RegistrationEdit={init:function(e,t){return"undefined"!=typeof mixpanel&&null!==mixpanel&&(mixpanel.alias(e),mixpanel.people.set({$email:t,$lead:!0}),mixpanel.track("visited-second-step-signup")),$("#user_name").focus()}}}.call(this),function(){$.pipefy.RegistrationNew={init:function(){return"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.track("visited-first-step-signup"),""===$("#user_email").val()?$("#user_email").focus():$("#user_password").focus()}}}.call(this),function(){$.pipefy.PipeReports={init:function(){var e,t;return e=$("<div></div>"),e.html($("#reports-options").text()),t=JSON.parse(e.text()),this.setupDataTable(t),this.setupSaveReport(),this.setupEditName(),this.exportReport(),this.tableColVis(t)},setupDataTable:function(e){return this.dataTable=$("#cards-table").DataTable({autoWidth:!0,processing:!0,serverSide:!0,ajax:{url:$("#cards-table").data("source"),type:"POST"},colReorder:!0,dom:"RfrtiS",scrollColapse:!0,scrollY:$(".content-wrapper").height()-$(".page-header").height()-75,scrollX:!0,scroller:!0,lengthChange:!1,deferRender:!0,searching:!1,pageLength:30,columns:e.columns_definitions,columnDefs:[{visible:!0,targets:e.visible_columns},{visible:!1,targets:"_all"}]}),this.dataTable.on("column-reorder",function(e,t,i){return Analytics.track("reports_column_reorder")}),this.dataTable.on("column-visibility.dt",function(e,t,i){return Analytics.track("reports_column_visibility_change")}),e.sort_by_to_table&&e.sort_by_to_table.length>0&&this.dataTable.order(e.sort_by_to_table),e.columns_order&&e.columns_order.length>0?this.dataTable.colReorder.order(e.columns_order):void 0},tableColVis:function(e){var t;return t=new $.fn.dataTable.ColVis(this.dataTable,{buttonText:'<i class="fa fa-columns"></i><span class="caret"></span>',align:"right",overlayFade:0,groups:e.grouped_columns}),$(t.button()).insertAfter(".save-report")},setupSaveReport:function(){return $(".save-report").on("click",function(e){return function(t){var i;return t.preventDefault(),i=$("body").hasClass("new"),i?$("#create-report-modal").modal("show"):e.callAjaxSaveReport()}}(this)),$("#create-report").on("click",function(e){return function(t){return e.callAjaxSaveReport()}}(this))},setupEditName:function(){return $("#edit-name").on("click",function(e){var t;return e.preventDefault(),t=$(this).data("name"),$("#report_name").val(t),$("#edit-name-modal").modal("show")}),$("#update-report-name").on("click",function(e){var t,i;return e.preventDefault(),t=$("#report_name").val(),i=$(".save-report").attr("href"),$.ajax({url:i,method:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({name:t})}).done(function(e){return noty({text:I18n.t("reports.saved"),type:"success"}),$("#edit-name-modal").modal("hide"),$("#edit-name").data("name",t),$(".report-name").text(t)}).error(function(e){return noty({text:I18n.t("reports.not_saved"),type:"error"})})})},callAjaxSaveReport:function(){var e,t,i,n;return n=$(".save-report").attr("href"),t=$("body").hasClass("new"),i=t?"POST":"PUT",e={columnsVisible:this.columnsVisible(),columnsOrder:this.columnsOrder(),tableSort:this.tableSort()},t&&(e.name=$("#report_name").val()),$.ajax({url:n,method:i,dataType:"json",contentType:"application/json",data:JSON.stringify(e)}).done(function(e){return t?window.location.href=e.url:noty({text:I18n.t("reports.saved"),type:"success"})}).error(function(e){return noty({text:I18n.t("reports.not_saved"),type:"error"})})},exportReport:function(){return $(".export-report").on("click",function(e){return function(t){var i;return t.preventDefault(),i=$(".export-report").attr("href"),$.ajax({url:i,method:"POST",dataType:"json",contentType:"application/json",data:e.fetchReportData()}).done(function(e){return noty({text:I18n.t("reports.export_success"),type:"success"})})}}(this))},fetchReportData:function(){return JSON.stringify({columnsVisible:this.columnsVisible(),columnsOrder:this.columnsOrder(),tableSort:this.tableSort()})},columnsVisible:function(){return jQuery.makeArray(this.dataTable.columns().visible())},columnsOrder:function(){return this.dataTable.colReorder.order()},tableSort:function(){return this.dataTable.order()}}}.call(this),function(){$.pipefy.SearchIndex={init:function(){return this.autoFocusSearch(),this.bindSearchTermClicks(),this.bindSearchFormSubmitAsPJAX(),this.bindFocusToSearchAfterPJAX()},autoFocusSearch:function(){return $("input#q").focus()},bindSearchTermClicks:function(){return $(".search-term-toggler").click(function(e){return function(t){var i;return t.preventDefault(),i=$(t.target).data("search-term"),e.toggleTermSearch(i)}}(this))},toggleTermSearch:function(e){return this.findSearchTerm(e)?(this.removeSearchButtonHilight(e),this.removeSearchTerm(e)):(this.addSearchButtonHilight(e),this.appendSearchTerm(e)),this.search()},findSearchTerm:function(e){var t;return t=$("input#q").val(),t.indexOf(e)>=0?!0:!1},appendSearchTerm:function(e){return $("input#q").val($("input#q").val().trim()+" "+e)},removeSearchTerm:function(e){var t,i;return t=$("input#q").val(),i=t.replace(e,""),$("input#q").val(i)},addSearchButtonHilight:function(e){var t;return t="[data-search-term='"+e+"']",$(t).addClass("btn-primary").addClass("active").removeClass("inactive")},removeSearchButtonHilight:function(e){var t;return t="[data-search-term='"+e+"']",$(t).removeClass("btn-primary").removeClass("active").addClass("inactive")},search:function(){return $("#card_search_form").submit()},bindSearchFormSubmitAsPJAX:function(){return $.support.pjax?($.pjax.defaults.timeout=6e3,$.pjax.defaults.scrollTo=!1,$(document).on("submit","form#card_search_form",function(e){return e.preventDefault(),$.pjax.submit(e,"#pjax-container")})):void 0},bindFocusToSearchAfterPJAX:function(){return $(document).on("pjax:end","#pjax-container",function(e){return function(t){return e.autoFocusSearch()}}(this))}}}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var o,r,a,s=t.nodeName.toLowerCase();return"area"===s?(o=t.parentNode,r=o.name,t.href&&r&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap='#"+r+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&t(i,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,r){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?a["inner"+i].call(this):this.each(function(){e(this).css(r,n(this,t)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(r,n(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,r=e.ui[t].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,r=e.plugins[t];if(r&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,i)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)try{n=e._data(o,"events"),n&&n.remove&&e(o).triggerHandler("remove")}catch(a){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,r,a,s,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}()):void(l[t]=n)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,o,r=i.call(arguments,1),a=0,s=r.length;s>a;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&void 0!==o&&(e.isPlainObject(o)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],o):e.widget.extend({},o):t[n]=o);return t},e.widget.bridge=function(t,n){var o=n.prototype.widgetFullName||t;e.fn[t]=function(r){var a="string"==typeof r,s=i.call(arguments,1),l=this;return a?this.each(function(){var i,n=e.data(this,o);return"instance"===r?(l=n,!1):n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,s),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each(function(){var t=e.data(this,o);t?(t.option(r||{}),t._init&&t._init()):e.data(this,o,new n(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,r,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(o=a[t]=e.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,a){function s(){return t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?o.delegate(d,c,s):i.bind(c,s)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,r,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[s]?n[t](o):s!==t&&n[s]?n[s](o.duration,o.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,r="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),
t=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,r.widgetName+"-item")===r?(n=e(this),!1):void 0}),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var o,r,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,r,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],r=this._intersectsWithPointer(n),r&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,a={};r&&"x"!==r||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=e.left,a=r+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>s&&l>n+c,h="y"===this.options.axis||t+d>r&&a>t+d,p=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&s<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return n?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){s.push(this)}var n,o,r,a,s=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(r=e(c[n],this.document[0]),o=r.length-1;o>=0;o--)a=e.data(r[o],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,r,a,s,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(o=e(h[i],this.document[0]),n=o.length-1;n>=0;n--)r=e.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(u.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=u.length-1;i>=0;i--)for(a=u[i][1],s=u[i][0],n=0,c=s.length;c>n;n++)l=e(s[n]),l.data(this.widgetName+"-item",a),d.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===n?t._createTrPlaceholder(t.currentItem,o):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,o,r,a,s,l,c,d,u,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,r=null,d=h.floating||this._isFloating(this.currentItem),a=d?"left":"top",s=d?"width":"height",u=d?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],c=!1,t[u]-l>this.items[n][s]/2&&(c=!0),Math.abs(t[u]-l)<o&&(o=Math.abs(t[u]-l),r=this.items[n],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,r=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<o.length;n++)o[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}),function(e,t,i){function n(e,t,i){return e.addEventListener?void e.addEventListener(t,i,!1):void e.attachEvent("on"+t,i)}function o(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return S[e.which]?S[e.which]:T[e.which]?T[e.which]:String.fromCharCode(e.which).toLowerCase()}function r(e,t){return e.sort().join(",")===t.sort().join(",")}function a(e){e=e||{};var t,i=!1;for(t in I)e[t]?i=!0:I[t]=0;i||($=!1)}function s(e,t,i,n,o,a){var s,l,c=[],d=i.type;if(!P[e])return[];for("keyup"==d&&f(e)&&(t=[e]),s=0;s<P[e].length;++s)if(l=P[e][s],(n||!l.seq||I[l.seq]==l.level)&&d==l.action&&("keypress"==d&&!i.metaKey&&!i.ctrlKey||r(t,l.modifiers))){var u=!n&&l.combo==o,h=n&&l.seq==n&&l.level==a;(u||h)&&P[e].splice(s,1),c.push(l)}return c}function l(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function c(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function d(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function u(e,t,i,n){O.stopCallback(t,t.target||t.srcElement,i,n)||e(t,i)===!1&&(c(t),d(t))}function h(e,t,i){var n,o=s(e,t,i),r={},l=0,c=!1;for(n=0;n<o.length;++n)o[n].seq&&(l=Math.max(l,o[n].level));for(n=0;n<o.length;++n)if(o[n].seq){if(o[n].level!=l)continue;c=!0,r[o[n].seq]=1,u(o[n].callback,i,o[n].combo,o[n].seq)}else c||u(o[n].callback,i,o[n].combo);var d="keypress"==i.type&&L;i.type!=$||f(e)||d||a(r),L=c&&"keydown"==i.type}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=o(e);if(t)return"keyup"==e.type&&M===t?void(M=!1):void O.handleKey(t,l(e),e)}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(){clearTimeout(k),k=setTimeout(a,1e3)}function g(){if(!C){C={};for(var e in S)e>95&&112>e||S.hasOwnProperty(e)&&(C[S[e]]=e)}return C}function v(e,t,i){return i||(i=g()[e]?"keydown":"keypress"),"keypress"==i&&t.length&&(i="keydown"),i}function y(e,t,i,n){function r(t){return function(){$=t,++I[e],m()}}function s(t){u(i,t,e),"keyup"!==n&&(M=o(t)),setTimeout(a,10)}I[e]=0;for(var l=0;l<t.length;++l){var c=l+1===t.length,d=c?s:r(n||_(t[l+1]).action);w(t[l],d,n,e,l)}}function b(e){return"+"===e?["+"]:e.split("+")}function _(e,t){var i,n,o,r=[];for(i=b(e),o=0;o<i.length;++o)n=i[o],A[n]&&(n=A[n]),t&&"keypress"!=t&&D[n]&&(n=D[n],r.push("shift")),f(n)&&r.push(n);return t=v(n,r,t),{key:n,modifiers:r,action:t}}function w(e,t,i,n,o){E[e+":"+i]=t,e=e.replace(/\s+/g," ");var r,a=e.split(" ");return a.length>1?void y(e,a,t,i):(r=_(e,i),P[r.key]=P[r.key]||[],s(r.key,r.modifiers,{type:r.action},n,e,o),void P[r.key][n?"unshift":"push"]({callback:t,modifiers:r.modifiers,action:r.action,seq:n,level:o,combo:e}))}function x(e,t,i){for(var n=0;n<e.length;++n)w(e[n],t,i)}for(var C,k,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},T={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},D={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},P={},E={},I={},M=!1,L=!1,$=!1,F=1;20>F;++F)S[111+F]="f"+F;for(F=0;9>=F;++F)S[F+96]=F;n(t,"keypress",p),n(t,"keydown",p),n(t,"keyup",p);var O={bind:function(e,t,i){return e=e instanceof Array?e:[e],x(e,t,i),this},unbind:function(e,t){return O.bind(e,function(){},t)},trigger:function(e,t){return E[e+":"+t]&&E[e+":"+t]({},e),this},reset:function(){return P={},E={},this},stopCallback:function(e,t){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},handleKey:h};e.Mousetrap=O,"function"==typeof define&&define.amd&&define(O)}(window,document),function(e,t){"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e)}(this,function(e){function t(e){this._targetElement=e,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1}}function i(e){var t=[],i=this;if(this._options.steps)for(var s=[],l=0,s=this._options.steps.length;s>l;l++){var d=n(this._options.steps[l]);if(d.step=t.length+1,"string"==typeof d.element&&(d.element=document.querySelector(d.element)),"undefined"==typeof d.element||null==d.element){var u=document.querySelector(".introjsFloatingElement");null==u&&(u=document.createElement("div"),u.className="introjsFloatingElement",document.body.appendChild(u)),d.element=u,d.position="floating"}null!=d.element&&t.push(d)}else{if(s=e.querySelectorAll("*[data-intro]"),1>s.length)return!1;for(l=0,d=s.length;d>l;l++){var u=s[l],h=parseInt(u.getAttribute("data-step"),10);h>0&&(t[h-1]={element:u,intro:u.getAttribute("data-intro"),step:parseInt(u.getAttribute("data-step"),10),tooltipClass:u.getAttribute("data-tooltipClass"),highlightClass:u.getAttribute("data-highlightClass"),position:u.getAttribute("data-position")||this._options.tooltipPosition})}for(l=h=0,d=s.length;d>l;l++)if(u=s[l],null==u.getAttribute("data-step")){for(;"undefined"!=typeof t[h];)h++;t[h]={element:u,intro:u.getAttribute("data-intro"),step:h+1,tooltipClass:u.getAttribute("data-tooltipClass"),highlightClass:u.getAttribute("data-highlightClass"),position:u.getAttribute("data-position")||this._options.tooltipPosition}}}for(l=[],s=0;s<t.length;s++)t[s]&&l.push(t[s]);return t=l,t.sort(function(e,t){return e.step-t.step}),i._introItems=t,m.call(i,e)&&(o.call(i),e.querySelector(".introjs-skipbutton"),e.querySelector(".introjs-nextbutton"),i._onKeyDown=function(t){if(27===t.keyCode&&1==i._options.exitOnEsc)a.call(i,e),void 0!=i._introExitCallback&&i._introExitCallback.call(i);else if(37===t.keyCode)r.call(i);else if(39===t.keyCode)o.call(i);else if(13===t.keyCode){var n=t.target||t.srcElement;n&&0<n.className.indexOf("introjs-prevbutton")?r.call(i):n&&0<n.className.indexOf("introjs-skipbutton")?a.call(i,e):o.call(i),t.preventDefault?t.preventDefault():t.returnValue=!1}},i._onResize=function(e){c.call(i,document.querySelector(".introjs-helperLayer")),c.call(i,document.querySelector(".introjs-tooltipReferenceLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",i._onKeyDown,!0),window.addEventListener("resize",i._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",i._onKeyDown),
document.attachEvent("onresize",i._onResize))),!1}function n(e){if(null==e||"object"!=typeof e||"undefined"!=typeof e.nodeType)return e;var t,i={};for(t in e)i[t]=n(e[t]);return i}function o(){if(this._direction="forward","undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),a.call(this,this._targetElement);else{var e=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,e.element),u.call(this,e)}}function r(){if(this._direction="backward",0===this._currentStep)return!1;var e=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,e.element),u.call(this,e)}function a(e){var t=e.querySelector(".introjs-overlay");if(null!=t){t.style.opacity=0,setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},500);var i=e.querySelector(".introjs-helperLayer");if(i&&i.parentNode.removeChild(i),(i=e.querySelector(".introjs-tooltipReferenceLayer"))&&i.parentNode.removeChild(i),(e=e.querySelector(".introjs-disableInteraction"))&&e.parentNode.removeChild(e),(e=document.querySelector(".introjsFloatingElement"))&&e.parentNode.removeChild(e),(e=document.querySelector(".introjs-showElement"))&&(e.className=e.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),(e=document.querySelectorAll(".introjs-fixParent"))&&0<e.length)for(i=e.length-1;i>=0;i--)e[i].className=e[i].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function s(e,t,i,n){var o="";if(t.style.top=null,t.style.right=null,t.style.bottom=null,t.style.left=null,t.style.marginLeft=null,t.style.marginTop=null,i.style.display="inherit","undefined"!=typeof n&&null!=n&&(n.style.top=null,n.style.left=null),this._introItems[this._currentStep]){if(o=this._introItems[this._currentStep],o="string"==typeof o.tooltipClass?o.tooltipClass:this._options.tooltipClass,t.className=("introjs-tooltip "+o).replace(/^\s+|\s+$/g,""),currentTooltipPosition=this._introItems[this._currentStep].position,("auto"==currentTooltipPosition||"auto"==this._options.tooltipPosition)&&"floating"!=currentTooltipPosition){var o=currentTooltipPosition,r=this._options.positionPrecedence.slice(),a=p(),s=g(t).height+10,c=g(t).width+20,d=g(e),u="floating";d.left+c>a.width||0>d.left+d.width/2-c?(l(r,"bottom"),l(r,"top")):(d.height+d.top+s>a.height&&l(r,"bottom"),0>d.top-s&&l(r,"top")),d.width+d.left+c>a.width&&l(r,"right"),0>d.left-c&&l(r,"left"),0<r.length&&(u=r[0]),o&&"auto"!=o&&-1<r.indexOf(o)&&(u=o),currentTooltipPosition=u}switch(o=g(e),r=g(t).height,a=p(),currentTooltipPosition){case"top":t.style.left="15px",t.style.top="-"+(r+10)+"px",i.className="introjs-arrow bottom";break;case"right":t.style.left=g(e).width+20+"px",o.top+r>a.height&&(i.className="introjs-arrow left-bottom",t.style.top="-"+(r-o.height-20)+"px"),i.className="introjs-arrow left";break;case"left":1==this._options.showStepNumbers&&(t.style.top="15px"),o.top+r>a.height?(t.style.top="-"+(r-o.height-20)+"px",i.className="introjs-arrow right-bottom"):i.className="introjs-arrow right",t.style.right=o.width+20+"px";break;case"floating":i.style.display="none",e=g(t),t.style.left="50%",t.style.top="50%",t.style.marginLeft="-"+e.width/2+"px",t.style.marginTop="-"+e.height/2+"px","undefined"!=typeof n&&null!=n&&(n.style.left="-"+(e.width/2+18)+"px",n.style.top="-"+(e.height/2+18)+"px");break;case"bottom-right-aligned":i.className="introjs-arrow top-right",t.style.right="0px",t.style.bottom="-"+(g(t).height+10)+"px";break;case"bottom-middle-aligned":n=g(e),e=g(t),i.className="introjs-arrow top-middle",t.style.left=n.width/2-e.width/2+"px",t.style.bottom="-"+(e.height+10)+"px";break;default:t.style.bottom="-"+(g(t).height+10)+"px",t.style.left=g(e).width/2-g(t).width/2+"px",i.className="introjs-arrow top"}}}function l(e,t){-1<e.indexOf(t)&&e.splice(e.indexOf(t),1)}function c(e){if(e&&this._introItems[this._currentStep]){var t=this._introItems[this._currentStep],i=g(t.element),n=10;"floating"==t.position&&(n=0),e.setAttribute("style","width: "+(i.width+n)+"px; height:"+(i.height+n)+"px; top:"+(i.top-5)+"px;left: "+(i.left-5)+"px;")}}function d(){var e=document.querySelector(".introjs-disableInteraction");null===e&&(e=document.createElement("div"),e.className="introjs-disableInteraction",this._targetElement.appendChild(e)),c.call(this,e)}function u(e){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,e.element);var t=this,i=document.querySelector(".introjs-helperLayer"),n=document.querySelector(".introjs-tooltipReferenceLayer"),l="introjs-helperLayer";if(g(e.element),"string"==typeof e.highlightClass&&(l+=" "+e.highlightClass),"string"==typeof this._options.highlightClass&&(l+=" "+this._options.highlightClass),null!=i){var u=n.querySelector(".introjs-helperNumberLayer"),m=n.querySelector(".introjs-tooltiptext"),y=n.querySelector(".introjs-arrow"),b=n.querySelector(".introjs-tooltip"),_=n.querySelector(".introjs-skipbutton"),w=n.querySelector(".introjs-prevbutton"),x=n.querySelector(".introjs-nextbutton");if(i.className=l,b.style.opacity=0,b.style.display="none",null!=u){var C=this._introItems[0<=e.step-2?e.step-2:0];(null!=C&&"forward"==this._direction&&"floating"==C.position||"backward"==this._direction&&"floating"==e.position)&&(u.style.opacity=0)}if(c.call(t,i),c.call(t,n),(C=document.querySelectorAll(".introjs-fixParent"))&&0<C.length)for(l=C.length-1;l>=0;l--)C[l].className=C[l].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");C=document.querySelector(".introjs-showElement"),C.className=C.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),t._lastShowElementTimer&&clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=setTimeout(function(){null!=u&&(u.innerHTML=e.step),m.innerHTML=e.intro,b.style.display="block",s.call(t,e.element,b,y,u),n.querySelector(".introjs-bullets li > a.active").className="",n.querySelector('.introjs-bullets li > a[data-stepnumber="'+e.step+'"]').className="active",n.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+v.call(t)+"%;"),b.style.opacity=1,u&&(u.style.opacity=1),-1===x.tabIndex?_.focus():x.focus()},350)}else{var k=document.createElement("div"),w=document.createElement("div"),i=document.createElement("div"),S=document.createElement("div"),T=document.createElement("div"),D=document.createElement("div"),A=document.createElement("div"),P=document.createElement("div");k.className=l,w.className="introjs-tooltipReferenceLayer",c.call(t,k),c.call(t,w),this._targetElement.appendChild(k),this._targetElement.appendChild(w),i.className="introjs-arrow",T.className="introjs-tooltiptext",T.innerHTML=e.intro,D.className="introjs-bullets",!1===this._options.showBullets&&(D.style.display="none");for(var k=document.createElement("ul"),l=0,E=this._introItems.length;E>l;l++){var I=document.createElement("li"),M=document.createElement("a");M.onclick=function(){t.goToStep(this.getAttribute("data-stepnumber"))},l===e.step-1&&(M.className="active"),M.href="javascript:void(0);",M.innerHTML="&nbsp;",M.setAttribute("data-stepnumber",this._introItems[l].step),I.appendChild(M),k.appendChild(I)}D.appendChild(k),A.className="introjs-progress",!1===this._options.showProgress&&(A.style.display="none"),l=document.createElement("div"),l.className="introjs-progressbar",l.setAttribute("style","width:"+v.call(this)+"%;"),A.appendChild(l),P.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(P.style.display="none"),S.className="introjs-tooltip",S.appendChild(T),S.appendChild(D),S.appendChild(A),1==this._options.showStepNumbers&&(C=document.createElement("span"),C.className="introjs-helperNumberLayer",C.innerHTML=e.step,w.appendChild(C)),S.appendChild(i),w.appendChild(S),x=document.createElement("a"),x.onclick=function(){t._introItems.length-1!=t._currentStep&&o.call(t)},x.href="javascript:void(0);",x.innerHTML=this._options.nextLabel,w=document.createElement("a"),w.onclick=function(){0!=t._currentStep&&r.call(t)},w.href="javascript:void(0);",w.innerHTML=this._options.prevLabel,_=document.createElement("a"),_.className="introjs-button introjs-skipbutton",_.href="javascript:void(0);",_.innerHTML=this._options.skipLabel,_.onclick=function(){t._introItems.length-1==t._currentStep&&"function"==typeof t._introCompleteCallback&&t._introCompleteCallback.call(t),t._introItems.length-1!=t._currentStep&&"function"==typeof t._introExitCallback&&t._introExitCallback.call(t),a.call(t,t._targetElement)},P.appendChild(_),1<this._introItems.length&&(P.appendChild(w),P.appendChild(x)),S.appendChild(P),s.call(t,e.element,S,i,C)}for(!0===this._options.disableInteraction&&d.call(t),w.removeAttribute("tabIndex"),x.removeAttribute("tabIndex"),0==this._currentStep&&1<this._introItems.length?(w.className="introjs-button introjs-prevbutton introjs-disabled",w.tabIndex="-1",x.className="introjs-button introjs-nextbutton",_.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(_.innerHTML=this._options.doneLabel,w.className="introjs-button introjs-prevbutton",x.className="introjs-button introjs-nextbutton introjs-disabled",x.tabIndex="-1"):(w.className="introjs-button introjs-prevbutton",x.className="introjs-button introjs-nextbutton",_.innerHTML=this._options.skipLabel),x.focus(),e.element.className+=" introjs-showElement",C=h(e.element,"position"),"absolute"!==C&&"relative"!==C&&(e.element.className+=" introjs-relativePosition"),C=e.element.parentNode;null!=C&&"body"!==C.tagName.toLowerCase();)i=h(C,"z-index"),S=parseFloat(h(C,"opacity")),P=h(C,"transform")||h(C,"-webkit-transform")||h(C,"-moz-transform")||h(C,"-ms-transform")||h(C,"-o-transform"),(/[0-9]+/.test(i)||1>S||"none"!==P)&&(C.className+=" introjs-fixParent"),C=C.parentNode;f(e.element)||!0!==this._options.scrollToElement||(S=e.element.getBoundingClientRect(),C=p().height,i=S.bottom-(S.bottom-S.top),S=S.bottom-C,0>i||e.element.clientHeight>C?window.scrollBy(0,i-30):window.scrollBy(0,S+100)),"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,e.element)}function h(e,t){var i="";return e.currentStyle?i=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),i&&i.toLowerCase?i.toLowerCase():i}function p(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function f(e){return e=e.getBoundingClientRect(),0<=e.top&&0<=e.left&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}function m(e){var t=document.createElement("div"),i="",n=this;if(t.className="introjs-overlay","body"===e.tagName.toLowerCase())i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",t.setAttribute("style",i);else{var o=g(e);o&&(i+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",t.setAttribute("style",i))}return e.appendChild(t),t.onclick=function(){1==n._options.exitOnOverlayClick&&(a.call(n,e),void 0!=n._introExitCallback&&n._introExitCallback.call(n))},setTimeout(function(){i+="opacity: "+n._options.overlayOpacity.toString()+";",t.setAttribute("style",i)},10),!0}function g(e){var t={};t.width=e.offsetWidth,t.height=e.offsetHeight;for(var i=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)i+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return t.top=n,t.left=i,t}function v(){return 100*(parseInt(this._currentStep+1,10)/this._introItems.length)}var y=function(e){if("object"==typeof e)return new t(e);if("string"==typeof e){if(e=document.querySelector(e))return new t(e);throw Error("There is no element with given selector.")}return new t(document.body)};return y.version="1.0.0",y.fn=t.prototype={clone:function(){return new t(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){var t,i=this._options,n={};for(t in i)n[t]=i[t];for(t in e)n[t]=e[t];return this._options=n,this},start:function(){return i.call(this,this._targetElement),this},goToStep:function(e){return this._currentStep=e-2,"undefined"!=typeof this._introItems&&o.call(this),this},nextStep:function(){return o.call(this),this},previousStep:function(){return r.call(this),this},exit:function(){return a.call(this,this._targetElement),this},refresh:function(){return c.call(this,document.querySelector(".introjs-helperLayer")),c.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),this},onbeforechange:function(e){if("function"!=typeof e)throw Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},onchange:function(e){if("function"!=typeof e)throw Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},onafterchange:function(e){if("function"!=typeof e)throw Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},oncomplete:function(e){if("function"!=typeof e)throw Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},onexit:function(e){if("function"!=typeof e)throw Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this}},e.introJs=y}),function(e,t,i){function n(e){for(var t=[],i=0,n=e.length;n>i;i++)t[e[i]]=i;return t}function o(e,t,i){var n=e.splice(t,1)[0];e.splice(i,0,n)}function r(e,t,i){for(var n=[],o=0,r=e.childNodes.length;r>o;o++)1==e.childNodes[o].nodeType&&n.push(e.childNodes[o]);var a=n[t];null!==i?e.insertBefore(a,n[i]):e.appendChild(a)}var a=function(e,a){"use strict";e.fn.dataTableExt.oApi.fnColReorder=function(t,i,a){var s,l,c,d,u,h,p=e.fn.dataTable.Api?!0:!1,f=t.aoColumns.length,m=function(e,t,i){if(e[t]){var n=e[t].split("."),o=n.shift();isNaN(1*o)||(e[t]=i[1*o]+"."+n.join("."))}};if(i!=a){if(0>i||i>=f)return void this.oApi._fnLog(t,1,"ColReorder 'from' index is out of bounds: "+i);if(0>a||a>=f)return void this.oApi._fnLog(t,1,"ColReorder 'to' index is out of bounds: "+a);var g=[];for(s=0,l=f;l>s;s++)g[s]=s;o(g,i,a);var v=n(g);for(s=0,l=t.aaSorting.length;l>s;s++)t.aaSorting[s][0]=v[t.aaSorting[s][0]];if(null!==t.aaSortingFixed)for(s=0,l=t.aaSortingFixed.length;l>s;s++)t.aaSortingFixed[s][0]=v[t.aaSortingFixed[s][0]];for(s=0,l=f;l>s;s++){for(h=t.aoColumns[s],c=0,d=h.aDataSort.length;d>c;c++)h.aDataSort[c]=v[h.aDataSort[c]];p&&(h.idx=v[h.idx])}for(p&&e.each(t.aLastSort,function(e,i){t.aLastSort[e].src=v[i.src]}),s=0,l=f;l>s;s++)h=t.aoColumns[s],"number"==typeof h.mData?(h.mData=v[h.mData],t.oApi._fnColumnOptions(t,s,{})):e.isPlainObject(h.mData)&&(m(h.mData,"_",v),m(h.mData,"filter",v),m(h.mData,"sort",v),m(h.mData,"type",v),t.oApi._fnColumnOptions(t,s,{}));if(t.aoColumns[i].bVisible){var y=this.oApi._fnColumnIndexToVisible(t,i),b=null;for(s=i>a?a:a+1;null===b&&f>s;)b=this.oApi._fnColumnIndexToVisible(t,s),s++;for(u=t.nTHead.getElementsByTagName("tr"),s=0,l=u.length;l>s;s++)r(u[s],y,b);if(null!==t.nTFoot)for(u=t.nTFoot.getElementsByTagName("tr"),s=0,l=u.length;l>s;s++)r(u[s],y,b);for(s=0,l=t.aoData.length;l>s;s++)null!==t.aoData[s].nTr&&r(t.aoData[s].nTr,y,b)}for(o(t.aoColumns,i,a),o(t.aoPreSearchCols,i,a),s=0,l=t.aoData.length;l>s;s++){var _=t.aoData[s];p?(_.anCells&&o(_.anCells,i,a),"dom"!==_.src&&e.isArray(_._aData)&&o(_._aData,i,a)):(e.isArray(_._aData)&&o(_._aData,i,a),o(_._anHidden,i,a))}for(s=0,l=t.aoHeader.length;l>s;s++)o(t.aoHeader[s],i,a);if(null!==t.aoFooter)for(s=0,l=t.aoFooter.length;l>s;s++)o(t.aoFooter[s],i,a);if(p){var w=new e.fn.dataTable.Api(t);w.rows().invalidate()}for(s=0,l=f;l>s;s++)e(t.aoColumns[s].nTh).off("click.DT"),this.oApi._fnSortAttachListener(t,t.aoColumns[s].nTh,s);e(t.oInstance).trigger("column-reorder",[t,{iFrom:i,iTo:a,aiInvertMapping:v}])}};var s=function(t,i){var n;if(e.fn.dataTable.Api?n=new e.fn.dataTable.Api(t).settings()[0]:t.fnSettings?n=t.fnSettings():"string"==typeof t?e.fn.dataTable.fnIsDataTable(e(t)[0])&&(n=e(t).eq(0).dataTable().fnSettings()):t.nodeName&&"table"===t.nodeName.toLowerCase()?e.fn.dataTable.fnIsDataTable(t.nodeName)&&(n=e(t.nodeName).dataTable().fnSettings()):t instanceof jQuery?e.fn.dataTable.fnIsDataTable(t[0])&&(n=t.eq(0).dataTable().fnSettings()):n=t,n._colReorder)throw"ColReorder already initialised on table #"+n.nTable.id;var o=e.fn.dataTable.camelToHungarian;return o&&(o(s.defaults,s.defaults,!0),o(s.defaults,i||{})),this.s={dt:null,init:e.extend(!0,{},s.defaults,i),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,pointer:null},this.s.dt=n,this.s.dt._colReorder=this,this._fnConstruct(),n.oApi._fnCallbackReg(n,"aoDestroyCallback",e.proxy(this._fnDestroy,this),"ColReorder"),this};return s.prototype={fnReset:function(){for(var e=[],t=0,i=this.s.dt.aoColumns.length;i>t;t++)e.push(this.s.dt.aoColumns[t]._ColReorder_iOrigCol);return this._fnOrderColumns(e),this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(e){if(e===i){for(var t=[],o=0,r=this.s.dt.aoColumns.length;r>o;o++)t.push(this.s.dt.aoColumns[o]._ColReorder_iOrigCol);return t}return this._fnOrderColumns(n(e)),this},_fnConstruct:function(){var e,t=this,i=this.s.dt.aoColumns.length;for(this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns),this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0,this.s.init.fnReorderCallback&&(this.s.reorderCallback=this.s.init.fnReorderCallback),e=0;i>e;e++)e>this.s.fixed-1&&e<i-this.s.fixedRight&&this._fnMouseListener(e,this.s.dt.aoColumns[e].nTh),this.s.dt.aoColumns[e]._ColReorder_iOrigCol=e;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(e,i){t._fnStateSave.call(t,i)},"ColReorder_State");var o=null;if(this.s.init.aiOrder&&(o=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(o=this.s.dt.oLoadedState.ColReorder),o)if(t.s.dt._bInitComplete){var r=n(o);t._fnOrderColumns.call(t,r)}else{var a=!1;this.s.dt.aoDrawCallback.push({fn:function(){if(!t.s.dt._bInitComplete&&!a){a=!0;var e=n(o);t._fnOrderColumns.call(t,e)}},sName:"ColReorder_Pre"})}else this._fnSetColumnIndexes()},_fnOrderColumns:function(t){if(t.length!=this.s.dt.aoColumns.length)return void this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");for(var i=0,n=t.length;n>i;i++){var r=e.inArray(i,t);i!=r&&(o(t,r,i),this.s.dt.oInstance.fnColReorder(r,i))}(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),this._fnSetColumnIndexes(),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this)},_fnStateSave:function(t){var i,n,o,r=this.s.dt,a=r.aoColumns;if(t.ColReorder=[],t.aaSorting){for(i=0;i<t.aaSorting.length;i++)t.aaSorting[i][0]=a[t.aaSorting[i][0]]._ColReorder_iOrigCol;var s=e.extend(!0,[],t.aoSearchCols);for(i=0,n=a.length;n>i;i++)o=a[i]._ColReorder_iOrigCol,t.aoSearchCols[o]=s[i],t.abVisCols[o]=a[i].bVisible,t.ColReorder.push(o)}else if(t.order){for(i=0;i<t.order.length;i++)t.order[i][0]=a[t.order[i][0]]._ColReorder_iOrigCol;var l=e.extend(!0,[],t.columns);for(i=0,n=a.length;n>i;i++)o=a[i]._ColReorder_iOrigCol,t.columns[o]=l[i],t.ColReorder.push(o)}},_fnMouseListener:function(t,i){var n=this;e(i).on("mousedown.ColReorder",function(e){e.preventDefault(),n._fnMouseDown.call(n,e,i)})},_fnMouseDown:function(n,o){var r=this,a=e(n.target).closest("th, td"),s=a.offset(),l=parseInt(e(o).attr("data-column-index"),10);l!==i&&(this.s.mouse.startX=n.pageX,this.s.mouse.startY=n.pageY,this.s.mouse.offsetX=n.pageX-s.left,this.s.mouse.offsetY=n.pageY-s.top,this.s.mouse.target=this.s.dt.aoColumns[l].nTh,this.s.mouse.targetIndex=l,this.s.mouse.fromIndex=l,this._fnRegions(),e(t).on("mousemove.ColReorder",function(e){r._fnMouseMove.call(r,e)}).on("mouseup.ColReorder",function(e){r._fnMouseUp.call(r,e)}))},_fnMouseMove:function(e){if(null===this.dom.drag){if(Math.pow(Math.pow(e.pageX-this.s.mouse.startX,2)+Math.pow(e.pageY-this.s.mouse.startY,2),.5)<5)return;this._fnCreateDragNode()}this.dom.drag.css({left:e.pageX-this.s.mouse.offsetX,top:e.pageY-this.s.mouse.offsetY});for(var t=!1,i=this.s.mouse.toIndex,n=1,o=this.s.aoTargets.length;o>n;n++)if(e.pageX<this.s.aoTargets[n-1].x+(this.s.aoTargets[n].x-this.s.aoTargets[n-1].x)/2){this.dom.pointer.css("left",this.s.aoTargets[n-1].x),this.s.mouse.toIndex=this.s.aoTargets[n-1].to,t=!0;break}t||(this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x),this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to),this.s.init.bRealtime&&i!==this.s.mouse.toIndex&&(this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex),this.s.mouse.fromIndex=this.s.mouse.toIndex,this._fnRegions())},_fnMouseUp:function(i){e(t).off("mousemove.ColReorder mouseup.ColReorder"),null!==this.dom.drag&&(this.dom.drag.remove(),this.dom.pointer.remove(),this.dom.drag=null,this.dom.pointer=null,this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex),this._fnSetColumnIndexes(),(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))},_fnRegions:function(){var t=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:e(this.s.dt.nTable).offset().left,to:0});for(var i=0,n=0,o=t.length;o>n;n++)n!=this.s.mouse.fromIndex&&i++,t[n].bVisible&&this.s.aoTargets.push({x:e(t[n].nTh).offset().left+e(t[n].nTh).outerWidth(),to:i});0!==this.s.fixedRight&&this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight),0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)},_fnCreateDragNode:function(){var t=""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY,i=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh,n=i.parentNode,o=n.parentNode,r=o.parentNode,a=e(i).clone();this.dom.drag=e(r.cloneNode(!1)).addClass("DTCR_clonedTable").append(e(o.cloneNode(!1)).append(e(n.cloneNode(!1)).append(a[0]))).css({position:"absolute",top:0,left:0,width:e(i).outerWidth(),height:e(i).outerHeight()}).appendTo("body"),this.dom.pointer=e("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:t?e("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:e(this.s.dt.nTable).offset().top,height:t?e("div.dataTables_scroll",this.s.dt.nTableWrapper).height():e(this.s.dt.nTable).height()}).appendTo("body")},_fnDestroy:function(){var t,i;for(t=0,i=this.s.dt.aoDrawCallback.length;i>t;t++)if("ColReorder_Pre"===this.s.dt.aoDrawCallback[t].sName){this.s.dt.aoDrawCallback.splice(t,1);break}e(this.s.dt.nTHead).find("*").off(".ColReorder"),e.each(this.s.dt.aoColumns,function(t,i){e(i.nTh).removeAttr("data-column-index")}),this.s.dt._colReorder=null,this.s=null},_fnSetColumnIndexes:function(){e.each(this.s.dt.aoColumns,function(t,i){e(i.nTh).attr("data-column-index",t)})}},s.defaults={aiOrder:null,bRealtime:!1,iFixedColumns:0,iFixedColumnsRight:0,fnReorderCallback:null},s.version="1.1.3",e.fn.dataTable.ColReorder=s,e.fn.DataTable.ColReorder=s,"function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.9.3")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInstance;if(e._colReorder)t.oApi._fnLog(e,1,"ColReorder attempted to initialise twice. Ignoring second");else{var i=e.oInit,n=i.colReorder||i.oColReorder||{};new s(e,n)}return null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.9.3 or greater - www.datatables.net/download"),e.fn.dataTable.Api&&(e.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(e){e._colReorder.fnReset()})}),e.fn.dataTable.Api.register("colReorder.order()",function(e){return e?this.iterator("table",function(t){t._colReorder.fnOrder(e)}):this.context.length?this.context[0]._colReorder.fnOrder():null})),s};"function"==typeof define&&define.amd?define(["jquery","datatables"],a):"object"==typeof exports?a(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.ColReorder&&a(jQuery,jQuery.fn.dataTable)}(window,document),function(e,t,i){var n=function(n,o){"use strict";var r=function(e,i){return!this instanceof r?void alert("Scroller warning: Scroller must be initialised with the 'new' keyword."):("undefined"==typeof i&&(i={}),this.s={dt:e,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1},this.s=n.extend(this.s,r.oDefaults,i),this.s.heights.row=this.s.rowHeight,this.dom={force:t.createElement("div"),scroller:null,table:null,loader:null},this.s.dt.oScroller=this,void this._fnConstruct())};if(r.prototype={fnRowToPixels:function(e,t,n){var o;if(n)o=this._domain("virtualToPhysical",e*this.s.heights.row);else{var r=e-this.s.baseRowTop;o=this.s.baseScrollTop+r*this.s.heights.row}return t||t===i?parseInt(o,10):o},fnPixelsToRow:function(e,t,n){var o=e-this.s.baseScrollTop,r=n?this._domain("physicalToVirtual",e)/this.s.heights.row:o/this.s.heights.row+this.s.baseRowTop;return t||t===i?parseInt(r,10):r},fnScrollToRow:function(e,t){var i=this,o=!1,r=this.fnRowToPixels(e),a=(this.s.displayBuffer-1)/2*this.s.viewportRows,s=e-a;0>s&&(s=0),(r>this.s.redrawBottom||r<this.s.redrawTop)&&this.s.dt._iDisplayStart!==s&&(o=!0,r=this.fnRowToPixels(e,!1,!0)),"undefined"==typeof t||t?(this.s.ani=o,n(this.dom.scroller).animate({scrollTop:r},function(){setTimeout(function(){i.s.ani=!1},25)})):n(this.dom.scroller).scrollTop(r)},fnMeasure:function(e){this.s.autoHeight&&this._fnCalcRowHeight();var t=this.s.heights;t.viewport=n(this.dom.scroller).height(),this.s.viewportRows=parseInt(t.viewport/t.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer,(e===i||e)&&this.s.dt.oInstance.fnDraw()},_fnConstruct:function(){var t=this;if(!this.s.dt.oFeatures.bPaginate)return void this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller");this.dom.force.style.position="absolute",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=n("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=n(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",n(this.s.dt.nTableWrapper).addClass("DTS"),this.s.loadingIndicator&&(this.dom.loader=n('<div class="DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),n(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),this.s.ingnoreScroll=!0,this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){t.s.dt.oApi._fnSaveState(t.s.dt)},500),n(this.dom.scroller).on("scroll.DTS",function(e){t._fnScroll.call(t)}),n(this.dom.scroller).on("touchstart.DTS",function(){t._fnScroll.call(t)}),this.s.dt.aoDrawCallback.push({fn:function(){t.s.dt.bInitialised&&t._fnDrawCallback.call(t)},sName:"Scroller"}),n(e).on("resize.DTS",function(){t.fnMeasure(!1),t._fnInfo()});var i=!0;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(e,n){i&&t.s.dt.oLoadedState?(n.iScroller=t.s.dt.oLoadedState.iScroller,n.iScrollerTopRow=t.s.dt.oLoadedState.iScrollerTopRow,i=!1):(n.iScroller=t.dom.scroller.scrollTop,n.iScrollerTopRow=t.s.topRowFloat)},"Scroller_State"),this.s.dt.oLoadedState&&(this.s.topRowFloat=this.s.dt.oLoadedState.iScrollerTopRow||0),this.s.dt.aoDestroyCallback.push({sName:"Scroller",fn:function(){n(e).off("resize.DTS"),n(t.dom.scroller).off("touchstart.DTS scroll.DTS"),n(t.s.dt.nTableWrapper).removeClass("DTS"),n("div.DTS_Loading",t.dom.scroller.parentNode).remove(),t.dom.table.style.position="",t.dom.table.style.top="",t.dom.table.style.left=""}})},_fnScroll:function(){var e,t=this,i=this.s.heights,o=this.dom.scroller.scrollTop;if(!this.s.skip&&!this.s.ingnoreScroll){if(this.s.dt.bFiltered||this.s.dt.bSorted)return void(this.s.lastScrollTop=0);if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){t.s.dt.oApi._fnSaveState(t.s.dt)},250),o<this.s.redrawTop||o>this.s.redrawBottom){var r=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);if(Math.abs(o-this.s.lastScrollTop)>i.viewport||this.s.ani?(e=parseInt(this._domain("physicalToVirtual",o)/i.row,10)-r,this.s.topRowFloat=this._domain("physicalToVirtual",o)/i.row):(e=this.fnPixelsToRow(o)-r,this.s.topRowFloat=this.fnPixelsToRow(o,!1)),0>=e?e=0:e+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(e=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength,0>e&&(e=0)):e%2!==0&&e++,e!=this.s.dt._iDisplayStart){this.s.tableTop=n(this.s.dt.nTable).offset().top,this.s.tableBottom=n(this.s.dt.nTable).height()+this.s.tableTop;var a=function(){null===t.s.scrollDrawReq&&(t.s.scrollDrawReq=o),t.s.dt._iDisplayStart=e,t.s.dt.oApi._fnCalculateEnd&&t.s.dt.oApi._fnCalculateEnd(t.s.dt),t.s.dt.oApi._fnDraw(t.s.dt)};this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(a,this.s.serverWait)):a(),this.dom.loader&&!this.s.loaderVisible&&(this.dom.loader.css("display","block"),this.s.loaderVisible=!0)}}this.s.lastScrollTop=o,this.s.stateSaveThrottle()}},_domain:function(e,t){var i,n=this.s.heights;if(n.virtual===n.scroll){if(i=(n.virtual-n.viewport)/(n.scroll-n.viewport),"virtualToPhysical"===e)return t/i;if("physicalToVirtual"===e)return t*i}var o=(n.scroll-n.viewport)/2,r=(n.virtual-n.viewport)/2;return i=r/(o*o),"virtualToPhysical"===e?r>t?Math.pow(t/i,.5):(t=2*r-t,0>t?n.scroll:2*o-Math.pow(t/i,.5)):"physicalToVirtual"===e?o>t?t*t*i:(t=2*o-t,0>t?n.virtual:2*r-t*t*i):void 0},_fnDrawCallback:function(){var e=this,t=this.s.heights,i=this.dom.scroller.scrollTop,o=(i+t.viewport,n(this.s.dt.nTable).height()),r=this.s.dt._iDisplayStart,a=this.s.dt._iDisplayLength,s=this.s.dt.fnRecordsDisplay();this.s.skip=!0,this._fnScrollForce(),i=0===r?this.s.topRowFloat*t.row:r+a>=s?t.scroll-(s-this.s.topRowFloat)*t.row:this._domain("virtualToPhysical",this.s.topRowFloat*t.row),this.dom.scroller.scrollTop=i,this.s.baseScrollTop=i,this.s.baseRowTop=this.s.topRowFloat;var l=i-(this.s.topRowFloat-r)*t.row;0===r?l=0:r+a>=s&&(l=t.scroll-o),this.dom.table.style.top=l+"px",this.s.tableTop=l,this.s.tableBottom=o+this.s.tableTop;var c=(i-this.s.tableTop)*this.s.boundaryScale;if(this.s.redrawTop=i-c,this.s.redrawBottom=i+c,this.s.skip=!1,this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.iScroller){var d=!this.s.dt.sAjaxSource&&!e.s.dt.ajax||this.s.dt.oFeatures.bServerSide?!1:!0;(d&&2==this.s.dt.iDraw||!d&&1==this.s.dt.iDraw)&&setTimeout(function(){n(e.dom.scroller).scrollTop(e.s.dt.oLoadedState.iScroller),e.s.redrawTop=e.s.dt.oLoadedState.iScroller-t.viewport/2,setTimeout(function(){e.s.ingnoreScroll=!1},0)},0)}else e.s.ingnoreScroll=!1;setTimeout(function(){e._fnInfo.call(e)},0),this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var e=this.s.heights,t=1e6;e.virtual=e.row*this.s.dt.fnRecordsDisplay(),e.scroll=e.virtual,e.scroll>t&&(e.scroll=t),this.dom.force.style.height=e.scroll+"px"},_fnCalcRowHeight:function(){var e=this.s.dt,t=e.nTable,i=t.cloneNode(!1),o=n("<tbody/>").appendTo(i),r=n('<div class="'+e.oClasses.sWrapper+' DTS"><div class="'+e.oClasses.sScrollWrapper+'"><div class="'+e.oClasses.sScrollBody+'"></div></div></div>');for(n("tbody tr:lt(4)",t).clone().appendTo(o);n("tr",o).length<3;)o.append("<tr><td>&nbsp;</td></tr>");n("div."+e.oClasses.sScrollBody,r).append(i);var a;e._bInitComplete?a=t.parentNode:(this.s.dt.nHolding||(this.s.dt.nHolding=n("<div></div>").insertBefore(this.s.dt.nTable)),a=this.s.dt.nHolding),r.appendTo(a),this.s.heights.row=n("tr",o).eq(1).outerHeight(),r.remove()},_fnInfo:function(){
if(this.s.dt.oFeatures.bInfo){var e,t=this.s.dt,i=t.oLanguage,o=this.dom.scroller.scrollTop,r=Math.floor(this.fnPixelsToRow(o,!1,this.s.ani)+1),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=Math.ceil(this.fnPixelsToRow(o+this.s.heights.viewport,!1,this.s.ani)),c=l>s?s:l,d=t.fnFormatNumber(r),u=t.fnFormatNumber(c),h=t.fnFormatNumber(a),p=t.fnFormatNumber(s);e=0===t.fnRecordsDisplay()&&t.fnRecordsDisplay()==t.fnRecordsTotal()?i.sInfoEmpty+i.sInfoPostFix:0===t.fnRecordsDisplay()?i.sInfoEmpty+" "+i.sInfoFiltered.replace("_MAX_",h)+i.sInfoPostFix:t.fnRecordsDisplay()==t.fnRecordsTotal()?i.sInfo.replace("_START_",d).replace("_END_",u).replace("_MAX_",h).replace("_TOTAL_",p)+i.sInfoPostFix:i.sInfo.replace("_START_",d).replace("_END_",u).replace("_MAX_",h).replace("_TOTAL_",p)+" "+i.sInfoFiltered.replace("_MAX_",t.fnFormatNumber(t.fnRecordsTotal()))+i.sInfoPostFix;var f=i.fnInfoCallback;f&&(e=f.call(t.oInstance,t,r,c,a,s,e));var m=t.aanFeatures.i;if("undefined"!=typeof m)for(var g=0,v=m.length;v>g;g++)n(m[g]).html(e)}}},r.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},r.oDefaults=r.defaults,r.version="1.2.2","function"==typeof n.fn.dataTable&&"function"==typeof n.fn.dataTableExt.fnVersionCheck&&n.fn.dataTableExt.fnVersionCheck("1.9.0")?n.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit,i=t.scroller||t.oScroller||{},n=new r(e,i);return n.dom.wrapper},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.9.0 or greater - www.datatables.net/download"),n.fn.dataTable.Scroller=r,n.fn.DataTable.Scroller=r,n.fn.dataTable.Api){var a=n.fn.dataTable.Api;a.register("scroller()",function(){return this}),a.register("scroller().rowToPixels()",function(e,t,i){var n=this.context;return n.length&&n[0].oScroller?n[0].oScroller.fnRowToPixels(e,t,i):void 0}),a.register("scroller().pixelsToRow()",function(e,t,i){var n=this.context;return n.length&&n[0].oScroller?n[0].oScroller.fnPixelsToRow(e,t,i):void 0}),a.register("scroller().scrollToRow()",function(e,t){return this.iterator("table",function(i){i.oScroller&&i.oScroller.fnScrollToRow(e,t)}),this}),a.register("scroller().measure()",function(e){return this.iterator("table",function(t){t.oScroller&&t.oScroller.fnMeasure(e)}),this})}return r};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.Scroller&&n(jQuery,jQuery.fn.dataTable)}(window,document),function(){window.Views||(window.Views={}),Views.Application=function(){function e(){}return e.beforeDocReady=function(){},e.prototype.render=function(){},e.prototype.cleanup=function(){},e}()}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.Cards=function(){function e(){}return e.DATE_FIELD_VALUE_FORMAT="YYYY-MM-DD HH:mm",e.preloadCard=function(e){return e!==this.preloadedCard&&e!==this.requestedPreloadedCard?(this.requestedPreloadedCard=e,console.log("Requesting "+e),$.ajax({url:"/cards/"+e,accepts:"application/html; charset=utf-8",data:{no_layout:!0}}).done(function(t){return function(i){return t.preloadedCard=e,t.cardPreloadedHtml=i}}(this))):void 0},e.openCard=function(e){var t,i;if(!this.cardOpening)return i=$.Deferred(),this.cardOpening=!0,this.showOverlay(),this.bindOverlay(),this.bindCloseOnEsc(),null==this.cardShowView&&(this.cardShowView=new Views.Cards.Show),e===String(this.preloadedCard)?($("#open-card").addClass("active"),$("#open-card").addClass("is-loaded"),t=document.getElementById("open-card-content"),t.innerHTML=this.cardPreloadedHtml,this.cardOpening=!1,this.cardShowView.render(),i.resolve(),this.loadOtherPhaseDetails()):$.ajax({url:"/cards/"+e,accepts:"application/html; charset=utf-8",data:{no_layout:!0}}).done(function(n){return function(o){return n.cardOpening=!1,$("#open-card").addClass("active"),$("#open-card").addClass("is-loaded"),t=document.getElementById("open-card-content"),t.innerHTML=o,n.cardShowView.render(),i.resolve(),n.loadOtherPhaseDetails(),Analytics.track("viewed_card",{card_id:e}),Analytics.incrementUserAttributes({viewed_card_count:1})}}(this)).fail(function(e){return function(t){return e.cardOpening=!1,e.closeCard(),i.reject(t)}}(this)),this.adjustSizes(),i},e.loadOtherPhaseDetails=function(){return $(".phases-information-delayed").each(function(e){return function(t,i){var n;return n=$(i),$.ajax({url:"/cards/"+n.data("id")+"/other_phase_details",accepts:"application/html; charset=utf-8",data:{no_layout:!0}}).done(function(t){return n.html(t),e.cardShowView.renderOtherPhaseDetails()})}}(this))},e.clearPreloadedCard=function(){return this.preloadedCard=null,this.cardPreloadedHtml=null},e.closeCard=function(){return this.cardOpening?void 0:null!=this.cardShowView?(this.cardOpen=!1,this.clearPreloadedCard(),$(".card-action-buttons .btn").addClass("disabled"),$("#open-card").removeClass("is-loaded"),$("#open-card-content").empty(),this.cardShowView.cleanup(),this.cardShowView=null,$("#open-card").removeClass("active"),this.hideOverlay(),window.location="#"):void 0},e.isLoaded=function(){return $("#open-card").hasClass("is-loaded")},e.bindCloseOnEsc=function(){return Mousetrap.bind("esc",function(e){return function(){return e.closeCard()}}(this))},e.bindOverlay=function(){return this.overlayBinded?void 0:($(".sidebar-nav, .header-nav, #overlay-open-card").on("click",function(e){return function(){return null!=e.cardShowView?e.closeCard():void 0}}(this)),this.overlayBinded=!0)},e.showOverlay=function(){return $("#overlay-open-card").addClass("active"),setTimeout(function(){return $("#overlay-open-card").addClass("fade-in")},10)},e.hideOverlay=function(){return $("#overlay-open-card").removeClass("fade-in").addClass("fade-out"),setTimeout(function(){return $("#overlay-open-card").removeClass("active fade-in fade-out")},300)},e.adjustSizes=function(){var e;return e=$(window).height()-50,$(".open-card").height(e)},e.jumpRequest=function(e){var t,i,n,o,r,a,s;return null==e&&(e={}),s=e.url,o=e.cardId,a=e.promisse,n=e.ajaxParams||{},r=e.isCreating,a||(a=$.Deferred()),this.savingValues?setTimeout(function(t){return function(){var i;return i=$.extend(e,{promisse:a}),t.jumpRequest(i)}}(this),100):(i=$.extend(n,{no_layout:!0}),t=$(".card-show.card-data[data-id="+o+"]"),t.data("moving",!0),Helpers.Utils.pusherAjax({url:"/cards/"+o+"/"+s,accepts:"application/html; charset=utf-8",data:i,type:"PUT",success:function(e){return function(e){var t,i,n;return a.resolve(e),t=$(e),n=t.data("current-phase-id"),i=$("#phase-"+n+" .phase-content"),r?void 0:Helpers.Onboard.showMovedCardGuide(i.find(".closed-card").first())}}(this),error:function(e){return function(e){return Util.showAjaxErrorNoties(e),a.reject()}}(this)})),a},e.createCard=function(e){return this.jumpRequest({url:"next_phase",cardId:e,isCreating:!0})},e.jumpToNextPhase=function(e,t){return null==t&&(t={}),this.jumpRequest({url:"next_phase",cardId:e,ajaxParams:t})},e.jumpToPreviousPhase=function(e){return this.jumpRequest({url:"previous_phase",cardId:e})},e.jumpToPhase=function(e,t,i){return null==i&&(i={}),this.jumpRequest({url:"jump_to_phase/"+t,cardId:e,ajaxParams:i})},e.bindForm=function(e,t){return null==t&&(t={}),this.applyFieldsPlugins(e,t),this.bindLabelSelectors(e),this.bindAssigneeSelectors(e),this.bindDatabaseLookup(e),this.bindAttachment(e),this.bindDeleteAttachment(e),this.bindHelp(e),this.bindFieldChange(e,t)},e.applyFieldsPlugins=function(e,t){return null==t&&(t={}),e.find(".card-field").find("input, textarea, select").addClass("form-control"),e.find(".card-field").find("input[type=text], textarea").mention(),t.cyanIChecks?e.find(".card-field input[type=checkbox], input[type=radio]").iCheck({checkboxClass:"icheck-wrap icheckbox_flat-cyan",radioClass:"icheck-wrap iradio_flat-cyan"}):e.find(".card-field input[type=checkbox], input[type=radio]").iCheck({checkboxClass:"icheck-wrap icheckbox_flat-blue",radioClass:"icheck-wrap iradio_flat-blue"}),e.find(".card-field .currencyField").maskMoney({thousands:I18n.t("number.format.delimiter"),decimal:I18n.t("number.format.separator"),allowNegative:!0}).maskMoney("mask"),e.find(".card-field .numberField").maskMoney({thousands:I18n.t("number.format.delimiter"),decimal:I18n.t("number.format.separator"),allowNegative:!0,precision:0}).maskMoney("mask"),e.find(".card-field .phoneBRField").mask("(99) 9999-9999?9",{placeholder:""}),e.find(".card-field .phoneUSField").mask("(999) 999-9999",{placeholder:""}),e.find(".card-field .cpfField").mask("999.999.999-99",{placeholder:""}),e.find(".card-field .cnpjField").mask("99.999.999/9999-99",{placeholder:""}),e.find(".card-field .datetimeField").datetimepicker({useCurrent:!1,showClear:!0}).each(function(e){return function(t,i){var n;return n=$(i).closest(".card-field").data("value"),$(i).data("DateTimePicker").date(moment(n,e.DATE_FIELD_VALUE_FORMAT))}}(this)),e.find(".card-field .dateField").datetimepicker({format:"L",useCurrent:!1,showClear:!0}).each(function(e){return function(t,i){var n;return n=$(i).closest(".card-field").data("value"),$(i).data("DateTimePicker").date(moment(n,e.DATE_FIELD_VALUE_FORMAT))}}(this)),e.find(".card-field .timeField").datetimepicker({format:"LT",useCurrent:!1,showClear:!0}),e.find(".card-field a.help-bullet").tooltip(),e.find(".card-field select:not(.databaseLookup, .assigneeSelectField, .labelSelectField)").selectize()},e.bindDatabaseLookup=function(e){return Helpers.DatabaseRecords.bindDatabaseLookup(e.find(".databaseLookup"))},e.bindFieldChange=function(e,t){var i;return null==t&&(t={}),i=function(e){return function(i){return e.saveField($(i.target)).done(function(e){return null!=t.afterSave?t.afterSave(e):void 0})}}(this),e.find(".form-control").on("change",i),e.find("[type=checkbox]").on("ifToggled",i),e.find("[type=radio]").on("ifChecked",i),e.find(".form-control").on("dp.hide",i)},e.saveField=function(e,t){var i,n,o,r,a,s,l;return null==t&&(t={}),r=$.extend({format:"json"},t),s=$.Deferred(),l=this.getFieldValue(e),this.savingValues=!0,n=e.closest(".card-field"),i=n.closest(".card-data"),o=n.closest(".phase-detail-data"),a=o.exists()?o.data("id"):i.data("current-phase-detail-id"),Helpers.Utils.pusherAjax({url:"/card_field_values",method:"post",dataType:r.format,contentType:"application/json",data:JSON.stringify({card_field_value:{field_id:n.data("field-id"),card_phase_detail_id:a,value:l}}),success:function(e){return function(t){return s.resolve(t),e.savingValues=!1,n.find("label em.feedback").html("Saved").removeClass("error").addClass("success").hide().fadeIn(200)}}(this),error:function(e){return function(t){var i;return s.reject(),e.savingValues=!1,i=Util.getAjaxErrorMessages(t),n.find("label em.feedback").html(i.join(", ")).removeClass("success").addClass("error").hide().fadeIn(200)}}(this)},s)},e.getFieldValue=function(e){var t,i,n,o,r;return t=e.closest(".card-field"),t.data("field-type-multiple")?"SELECT"===e.prop("tagName")?r=e.val():(i=t.find(".form-control"),r=i.filter(function(e){return function(e,t){return $(t).prop("checked")}}(this)).map(function(e){return function(e,t){return $(t).val()}}(this)).toArray()):e.hasClass("icheck")?(i=t.find(".form-control"),r=i.filter(function(e){return function(e,t){return $(t).prop("checked")}}(this)).map(function(e){return function(e,t){return $(t).val()}}(this)).toArray()):"file"===e.attr("type")?r=t.find(".phase-attachment").map(function(e){return function(e,t){return $(t).data("key")}}(this)).toArray():e.hasClass("numberField")?(o=new RegExp("\\"+I18n.t("number.format.delimiter"),"g"),r=parseInt(e.val().replace(o,""),10)):e.hasClass("currencyField")?r=e.maskMoney("unmasked")[0]:e.hasClass("databaseLookup")?(n=Helpers.DatabaseRecords.getActualSelectedItems(e),n=_.map(n,function(e){return e.id}),r=n):r=t.data("field-type-date")?e.data("DateTimePicker").date().format(this.DATE_FIELD_VALUE_FORMAT):e.val(),r},e.bindLabelSelectors=function(e){var t;return t=e.find(".card-field select.labelSelectField"),t.exists()?t.each(function(t,i){var n,o;return e=$(i),n=e.selectize({options:[],valueField:"id",labelField:"name",searchField:"name",preload:!0,openOnFocus:!0,create:!1,render:{option:function(e,t){return'<div class="option"> <i class="label-color fa fa-circle" style="color: '+e.color+';"></i> '+t(e.name)+" </div>"},item:function(e,t){return'<div class="item"> <i class="label-color fa fa-circle" style="color: '+e.color+';"></i> '+t(e.name)+" </div>"}}}),o=n[0].selectize,_.each(e.closest(".card-data").data("labels"),function(e){return o.addOption(e)}),_.each(e.data("value"),function(e){return o.addItem(e)})}):void 0},e.bindAssigneeSelectors=function(e){var t;return t=e.find(".card-field select.assigneeSelectField"),t.exists()?t.each(function(t,i){var n,o;return e=$(i),n=e.selectize({options:[],valueField:"id",labelField:"display_username",searchField:"display_username",preload:!0,openOnFocus:!0,create:!1,render:{option:function(e,t){return'<div class="option"> <img class="member-pic" alt="'+t(e.name)+'" src="'+Util.gravatar(e.email)+'"> '+t(e.display_username)+" </div>"},item:function(e,t){return'<div class="item"> <img class="member-pic" alt="'+t(e.name)+'" src="'+Util.gravatar(e.email)+'"> '+t(e.display_username)+" </div>"}}}),o=n[0].selectize,_.each(e.closest(".card-data").data("users"),function(e){return o.addOption(e)}),_.each(e.data("value"),function(e){return o.addItem(e)})}):void 0},e.bindAttachment=function(e){return e.find(".card-field.attachment-field").each(function(e){return function(t,i){var n;return n=$(i),$.ajax({url:"/uploads/new",data:"",dataType:"json",success:function(t){var i,o,r,a,s,l;return o=t.url,i=n.find(".files"),i.html(""),a=n.find("#fileupload").data("value"),r=n.find("#fileupload").data("urls"),s=null!=a?a.toString().split(","):[],l=0,_.each(s,function(e){var t,n,o;return""!==e&&(o=r[l],n=e.split("/"),t=n[n.length-1],i.append('<div class="phase-attachment" data-key="'+e+'" title='+t+'> <a href="'+o+'" class="phase-attachment-link"> '+Util.truncateMiddle(t,30)+' <i class="fa fa-cloud-download"></i> </a> <a href="#" class="phase-attachment-remove"> <i class="fa fa-times"></i> </a> </div>')),l++}),n.find("#fileupload").fileupload({url:o,type:"POST",autoUpload:!0,formData:t.fields,paramName:"file",dataType:"XML",replaceFileInput:!1,downloadTemplateId:null,downloadTemplate:""}).on("fileuploaddone",function(e,t){var n,r,a;return n=t.files[0].name,r=$(t.jqXHR.responseXML).find("Key").text(),a=o+r,i.find(".template-upload").remove(),i.append('<div class="phase-attachment" data-key="'+r+'" title='+n+'> <a href="'+a+'" class="phase-attachment-link"> '+Util.truncateMiddle(n,30)+' <i class="fa fa-cloud-download"></i> </a> <a href="#" class="phase-attachment-remove"> <i class="fa fa-times"></i> </a> </div>')}).on("fileuploadstop",function(t){return e.saveField($(t.target).find("input"))})}})}}(this))},e.bindDeleteAttachment=function(e){return e.find(".attachment-field").on("click",".phase-attachment-remove",function(e){return function(t){var i,n;return t.preventDefault(),i=$(t.target).closest(".phase-attachment"),n=$(t.target).closest(".card-field"),Helpers.Utils.pusherAjax({url:"/uploads",data:{key:i.data("key")},method:"delete",success:function(){return i.remove(),e.saveField(n.find("input"))}})}}(this))},e.bindHelp=function(e){var t,i;return t=$(".card-details .card-content .help"),i=$(".card-details .card-content .tabs"),e.find(".help-link").on("click",function(e){var n;return e.preventDefault(),n=$(e.target).closest(".card-field"),t.html('<h3 class="header"> <a href="#" class="btn btn-primary btn-back"> <i class="fa fa-chevron-left"></i> </a> '+n.data("help-title")+' </h3> <div class="content"> '+n.data("help-content")+" </div>"),t.find(".btn-back").on("click",function(e){return e.preventDefault(),t.hide(),i.show()}),t.show(),i.hide()})},e.saveAssignees=function(e,t){var i;return i=$.Deferred(),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/cards/"+e,method:"put",accepts:"application/html; charset=utf-8",contentType:"application/json",data:JSON.stringify({no_layout:!0,card:{id:e,assignee_ids:t}}),success:function(t){var n;return Util.hideLoadBox(),n=$(t),$("#card-"+e).replaceWith(n),Helpers.Pipes.setClosedCardInfo(n),Helpers.Pipes.remakeCardsSortable($(".pipe-data")),i.resolve(t)},fail:function(e){return Util.hideLoadBox(),Util.showAjaxErrorNoties(e),i.reject()}}),i},e}()}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.DatabaseFields=function(){function e(){}return e.bindForm=function(e){return this.bindValidation(e),this.bindAddOption(e),this.bindTitleCheckbox(e)},e.bindValidation=function(e){var t,i,n;return this.checkSelectedType(e),this.checkSelectedValidation(e),t=e.find("input[name='database_field[type]']"),n=e.find(".validation-group"),i=n.find("#database_field_validation"),t.on("ifToggled",function(t){return function(){return t.checkSelectedType(e)}}(this)),i.on("change",function(t){return function(){return t.checkSelectedValidation(e)}}(this))},e.checkSelectedValidation=function(e){var t,i,n;return i=e.find(".validation-group"),t=i.find("#database_field_validation"),n=i.find("#database_field_validation_pattern"),"custom"===t.val()?n.show():n.hide()},e.checkSelectedType=function(e){var t,i,n,o;return t=e.find("input[name='database_field[type]']"),n=e.find(".validation-group"),i=n.find("select"),o=1===t.length?t.val():t.filter(function(e,t){return $(t).prop("checked")}).val(),_.include(n.data("validated-types"),o)?n.show():(i.val("").selectpicker("refresh"),n.hide())},e.bindAddOption=function(e){return e.find(".js-add-option").click(function(t){var i;return t.preventDefault(),i=$("<input>").prop("type","text").prop("name","database_field[options][]").addClass("setup-control database-field-option-input"),e.find(".database-field-options-list").append(i),i.focus()})},e.checkRequiredCheckbox=function(e){return e.find(".database-title-field-check").iCheck("update").prop("checked")?e.find(".database-required-check").iCheck("check").iCheck("disable"):e.find(".database-required-check").iCheck("enable")},e.bindTitleCheckbox=function(e){return e.find(".database-title-field-check").on("ifToggled",function(t){return function(){return t.checkRequiredCheckbox(e)}}(this)),this.checkRequiredCheckbox(e)},e}()}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.DatabaseRecords=function(){function e(){}return e.newRecord=function(e,t){return null==t&&(t={}),$.ajax({url:"/database_tables/"+e+"/records/new",accepts:"application/html; charset=utf-8",data:{modal:!0,no_layout:!0}}).done(function(e){return function(i){var n,o,r;return o=$(i),$("body").append(o),n=o.find(".database-record-form"),n.find(".is-title-field").val(t.title),o.show().addClass("in"),e.bindRecordForm(n),setTimeout(function(){return n.find("input:not([type=hidden]), select, textarea").first().focus()},500),r=function(){return o.removeClass("in").hide()},o.find(".modal-header .close").on("click",r),o.find(".btn-cancel").on("click",r),o.find(".btn-save-record").on("click",function(i){return e.submitRecordForm(n).done(function(e){return r(),null!=t.onSubmit?t.onSubmit(e):void 0})})}}(this)).fail(function(e){return Util.showAjaxErrorNoties(e)})},e.bindRecordForm=function(e){var t,i;return e.find(".database-control.date-type").datetimepicker({format:"L",useCurrent:!1,showClear:!0,widgetPositioning:{vertical:"bottom"}}).each(function(e){return function(e,t){var i;return i=$(t),i.data("DateTimePicker").date(moment(i.siblings(".js-original-value").val(),Helpers.Cards.DATE_FIELD_VALUE_FORMAT))}}(this)),e.find(".database-control.datetime-type").datetimepicker({useCurrent:!1,showClear:!0,widgetPositioning:{vertical:"bottom"}}).each(function(e){return function(e,t){var i;return i=$(t),i.data("DateTimePicker").date(moment.utc(i.siblings(".js-original-value").val(),Helpers.Cards.DATE_FIELD_VALUE_FORMAT))}}(this)),e.find(".database-control.time-type").on("blur",function(e){return function(t){return e.handleTime($(t.target))}}(this)),i=e.find(".database-control.integer_number-type"),i.autoNumeric({aSep:I18n.t("number.format.delimiter"),aDec:I18n.t("number.format.separator"),mDec:0,vMin:"-"+Array(1e3).join("9"),vMax:""+Array(1e3).join("9")}),t=e.find(".database-control.decimal_number-type"),t.autoNumeric({aSep:I18n.t("number.format.delimiter"),aDec:I18n.t("number.format.separator"),aPad:!1,mDec:Array(1e3).join("9"),vMin:"-"+Array(1e3).join("9"),vMax:""+Array(1e3).join("9")}),e.find(".database-control.currency_number-type").maskMoney({thousands:I18n.t("number.format.delimiter"),decimal:I18n.t("number.format.separator"),allowNegative:!0,precision:2}).maskMoney("mask"),e.find(".database-control.phone-type").intlTelInput({utilsScript:"//cdnjs.cloudflare.com/ajax/libs/intl-tel-input/6.0.4/lib/libphonenumber/build/utils.js",defaultCountry:"US"}),this.bindDatabaseLookup(e.find(".database-control.database_lookup-type")),e.on("submit.record",function(t){return function(){return t.handleValues(e)}}(this))},e.handleTime=function(e){var t;switch(t=e.val(),t.length){case 3:t="0"+t;break;case 2:t=""+t+"00"}return e.val(moment(t,"h:mm").format("h:mm"))},e.submitRecordForm=function(e){return this.handleValues(e),$.ajax({type:e.find("input[name=_method]").val()||e.attr("method"),url:e.attr("action"),data:e.serialize(),dataType:"json"}).fail(function(e){return Util.showAjaxErrorNoties(e)})},e.handleValues=function(e){var t;return t=function(e,t){var i,n,o;return i=$(t),n=i.data("DateTimePicker").date(),null!=n?(o=n.format(Helpers.Cards.DATE_FIELD_VALUE_FORMAT),i.siblings(".js-original-value").val(o)):void 0},e.find(".database-control.date-type").each(t),e.find(".database-control.datetime-type").each(t),e.find(".database-control.time-type").each(function(e){return function(t,i){return e.handleTime($(i))}}(this)),e.find(".database-control.integer_number-type").each(function(e,t){var i,n,o;return i=$(t),n=new RegExp("\\"+I18n.t("number.format.delimiter"),"g"),o=i.val().replace(n,""),i.siblings(".js-original-value").val(o)}),e.find(".database-control.decimal_number-type").each(function(e,t){var i,n,o,r;return i=$(t),r=i.val(),o=new RegExp("\\"+I18n.t("number.format.delimiter"),"g"),r=r.replace(o,""),n=new RegExp("\\"+I18n.t("number.format.separator"),"g"),r=r.replace(n,"."),i.siblings(".js-original-value").val(r)}),e.find(".database-control.currency_number-type").each(function(e,t){var i;return i=$(t),i.siblings(".js-original-value").val(i.maskMoney("unmasked")[0])}),e.find(".database-control.phone-type").each(function(e,t){var i;return i=$(t),i.closest(".intl-tel-input").siblings(".js-original-value").val(i.intlTelInput("getNumber"))})},e.renderRecordBox=function(e){return'<div class="database-record-box" data-id="'+e.id+'" data-title="'+e.title+'"> <a href="#" class="view-record">'+e.title+'</a> <a href="#" class="database-record-remove"> <i class="fa fa-times"></i></a> </div>'},e.addRecordBox=function(e,t,i){var n,o;return n=$(this.renderRecordBox(i)),o=n.find("a.view-record"),o.attr({href:"/database_tables/"+t+"/records/"+i.id}).attr({target:"_blank"}),e.before(n)},e.clearRecordBox=function(e){return e.parent().find(".database-record-box").remove(),e.parent().find(".selectize-control").hide()},e.getSelectedItems=function(e){var t;return t=e.data("selected-items"),"string"==typeof t&&(t=JSON.parse(t)),t},e.getActualSelectedItems=function(e){var t;return t=[],e.parent().find(".database-record-box").each(function(e,i){return t.push({id:$(i).data("id"),title:$(i).data("title")})}),t},e.getActualSelectedItemsIds=function(e){return _.map(this.getActualSelectedItems(e),function(e){return e.id})},e.bindDatabaseRecordDelete=function(e,t){return $(".database-record-remove").on("click",function(i){var n;return i.preventDefault(),n=$(this).parents(".database-record-box"),n.remove(),e.trigger("change"),e.parent().find(".selectize-control").show(),t.clearOptions(!1),t.onSearchChange("")})},e.bindDatabaseLookup=function(e){return e.each(function(e){return function(t,i){var n,o,r,a,s,l,c,d,u,h,p,f;return o=$(i),f=o.data("database-table-slug"),s=o.closest(".card-field"),c=!(s.length>0),l=s.data("database-layout"),r=o.data("can-create-database-record")||"search_and_create"===l,a=o.data("can-have-multiple-database-records")||s.data("can-have-multiple-database-records"),d="only_create"===l,p={options:[],valueField:"id",labelField:"title",searchField:"title",preload:!0,openOnFocus:!0,hideSelected:!0,loadThrottle:null,closeAfterSelect:!0,placeholder:I18n.t("views.cards.details.select_record"),onItemAdd:function(t,i){return a||e.clearRecordBox(o),e.addRecordBox(o,f,{id:t,title:i.text()}),e.bindDatabaseRecordDelete(o,h),c?void 0:(h.clearOptions(!1),h.onSearchChange(""))},load:function(t,i){return $.ajax({url:"/database_tables/"+f+"/records/search.json",type:"GET",dataType:"json",data:{query:t,selected_items:e.getActualSelectedItemsIds(o)},error:function(){return i()},success:function(e){return i(e)}})}},r&&(p=$.extend(p,{addPrecedence:!0,create:function(e){var t;return t=n[0].selectize,Helpers.DatabaseRecords.newRecord(f,{title:e,onSubmit:function(e){return function(e){return t.addOption(e),t.addItem(e.id)}}(this)}),{}},render:{option_create:function(e,t){var i;return i=e.input.length>0?I18n.t("views.cards.details.new_record",{query:e.input}):I18n.t("views.cards.details.empty_new_record"),'<div class="create btn btn-block btn-success btn-new-database-record"> '+i+" </div>"}}})),n=o.selectize(p),h=n[0].selectize,u=e.getSelectedItems(o),_.each(u,function(t){return e.addRecordBox(o,f,t)}),o.parent().find(".database-record-box").length>0&&!a&&o.parent().find(".selectize-control").hide(),e.bindDatabaseRecordDelete(o,h),d?(h.destroy(),o.hide(),o.after('<div class="create btn btn-block btn-success btn-new-database-record"> '+I18n.t("views.cards.details.empty_new_record")+" </div>"),$(".btn-new-database-record").on("click",function(t){return Helpers.DatabaseRecords.newRecord(f,{title:"",onSubmit:function(t){return a||e.clearRecordBox(o),e.addRecordBox(o,f,{id:t.id,title:t.title}),e.bindDatabaseRecordDelete(o,h),o.trigger("change")}})})):void 0}}(this))},e}()}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.Fields=function(){function e(){}return e.renderForm=function(){return Util.runPagedown(),this.setEditableEnabled(),this.setOptionsVisible(),this.setDatabaseVisible(),this.bindTypeChange()},e.setEditableEnabled=function(){return this.getSelectedFieldType().editable?$("#field_editable").iCheck("enable"):($("#field_editable").iCheck("uncheck"),$("#field_editable").iCheck("disable"))},e.setDatabaseVisible=function(){return this.getSelectedFieldType().database_field?$(".js-database-field").show():$(".js-database-field").hide()},e.setOptionsVisible=function(){return this.getSelectedFieldType().options?$(".js-options-field").show():$(".js-options-field").hide()},e.bindTypeChange=function(){var e;return e=$("#field_type_id"),e.change(function(t){return function(i){var n,o;return o=e.data("old-value"),n=e.val(),null!=o&&n!==o?(e.val(e.data("old-value")).selectpicker("refresh"),Util.confirmation({text:I18n.t("views.fields.edit.confirmation_text"),confirmButtonText:I18n.t("views.fields.edit.confirmation_button"),closeOnConfirm:!0},function(){return e.val(n).selectpicker("refresh"),t.setEditableEnabled(),t.setOptionsVisible(),t.setDatabaseVisible()})):(t.setEditableEnabled(),t.setOptionsVisible(),t.setDatabaseVisible())}}(this))},e.getFieldTypes=function(){return this.fieldTypes||(this.fieldTypes=gon.fieldTypes),this.fieldTypes},e.getSelectedFieldType=function(){return _.find(this.getFieldTypes(),function(e){return function(t){return t.id===e.getSelectedFieldTypeId()}}(this))},e.getSelectedFieldTypeId=function(){return parseInt($("#field_type_id").val())},e}()}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.Launchpad=function(){function e(){}return e.openLaunchpad=function(){return null==this.launchpadIndexView&&(this.launchpadIndexView=new Views.Launchpad.Index),this.launchpadIndexView.show(),this.bindOverlay(),$.ajax({url:"/v2/launchpad",accepts:"application/html; charset=utf-8",data:{no_layout:!0},success:function(e){return function(t){return $("#launchpad-container").html(t),e.launchpadIndexView.render()}}(this)})},e.openStartForm=function(e){return $(".startform-container").html($("#startform-spinner").html()),null==this.startFormView&&(this.startFormView=new Views.Launchpad.StartForm),this.startFormView.show(),this.bindOverlay(),$.ajax({url:"/pipes/"+e+"/start_form",accepts:"application/html; charset=utf-8",data:{no_layout:!0},error:function(e){return function(t){return Util.showAjaxErrorNoties(t),e.closeStartForm(!1)}}(this),success:function(e){return function(t){return $("#startform-container").html(t),e.startFormView.render()}}(this)})},e.closeStartForm=function(e){return null==e&&(e=!0),this.startFormView.hideAndCleanup(e),this.startFormView=null},e.closeLaunchpad=function(){return this.launchpadIndexView.hideAndCleanup(),this.launchpadIndexView=null},e.bindOverlay=function(){return this.overlayBinded?void 0:($(".header-nav, #overlay-launchpad").on("click",function(e){return function(){return null!=e.startFormView&&e.startFormView.active()?e.closeStartForm():null!=e.launchpadIndexView&&e.launchpadIndexView.active()?e.closeLaunchpad():void 0}}(this)),this.overlayBinded=!0)},e.showOverlay=function(){return $("#overlay-launchpad").addClass("active"),setTimeout(function(){return $("#overlay-launchpad").addClass("fade-in")},10)},e.hideOverlay=function(){return this.canHideOverlay()?($("#overlay-launchpad").removeClass("fade-in").addClass("fade-out"),setTimeout(function(){return $("#overlay-launchpad").removeClass("active fade-in fade-out")},300)):void 0},e.canHideOverlay=function(){return!(null!=this.launchpadIndexView&&this.launchpadIndexView.active()||null!=this.startFormView&&this.startFormView.active())},e}()}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.Onboard={showCongrats:function(){var e,t,i;return e=$("#congrats-modal"),t=e.find(".try-it"),i=function(){var t,i;return t=510,i=($(window).height()-t)/2,e.find(".modal-dialog").css("margin-top",i)},$(window).on("resize.congratsModal",i),t.on("click.congratsModal",function(t){return function(i){return i.preventDefault(),$("body").hasClass("pipes")&&$("body").hasClass("show")?(e.removeClass("in"),t.showOpenPipeIntro()):e.modal("hide")}}(this)),e.on("show.bs.modal.congratsModal",i),e.on("hide.bs.modal.congratsModal",function(){return $(window).off("resize.congratsModal"),t.off("click.congratsModal"),e.off("show.bs.modal.congratsModal"),e.off("hide.bs.modal.congratsModal")}),e.modal({keyboard:!1,backdrop:"static"})},showOpenPipeIntro:function(){var e,t,i,n,o;return e=$(".phase:first"),e.exists()?(o=introJs().setOptions({disableInteraction:!0,exitOnEsc:!1,exitOnOverlayClick:!1,scrollToElement:!0,showBullets:!1,showButtons:!1,showStepNumbers:!1,steps:[{position:"right",element:$(".pipe-title")[0],intro:I18n.t("views.pipes.onboard.title")},{position:"right",element:e[0],intro:I18n.t("views.pipes.onboard.phase")}]}).start(),i=$("<a>").attr({href:"#"}).addClass("btn prev").text("Back"),i.click(function(e){return e.preventDefault(),o.previousStep()}),t=$("<a>").attr({href:"#"}).addClass("btn next").text("Next"),t.click(function(e){return e.preventDefault(),o.nextStep()}),n=$("<div>").addClass("mybuttons step-0").append(i).append(t),$(".introjs-tooltip").append(n),o.onbeforechange(function(){return n.removeClass("step-0 step-1"),n.addClass("step-"+o._currentStep)}).oncomplete(function(t){return function(){return t.showHowItWorks(e)}}(this))):setTimeout(function(e){return function(){return e.showOpenPipeIntro()}}(this),500)},showHowItWorks:function(e){var t;return t=e.find(".card-list .card:first"),t.exists()?(t.addClass("freaking-active"),t.append($("<div>").attr("id","pontoA").addClass("point-ball").append($("<a>").attr("href","#").html("&nbsp;"))),$("#how-it-works").removeClass("hidden"),this.renderSVGArrow(),t.on("click.howitworks",function(e){return function(i){var n;return i.preventDefault(),t.removeClass("freaking-active"),$("#how-it-works").addClass("hidden"),(n=function(){return Helpers.Cards.isLoaded()?($("#congrats-modal").modal("hide"),e.showCardGuide(),t.off("click.howitworks")):setTimeout(n,500)})()}}(this))):$("#congrats-modal").modal("hide")},showMovedCardGuide:function(e){var t,i,n;return gon.currentUser.movedCard?void 0:(n=introJs().setOptions({disableInteraction:!0,exitOnEsc:!1,exitOnOverlayClick:!1,scrollToElement:!0,showBullets:!1,showButtons:!1,showStepNumbers:!1,steps:[{position:"right",element:e[0],intro:I18n.t("cards.show.onboard.moved")}]}).start(),t=$("<a>").attr({href:"#"}).addClass("btn next").text("Done"),t.click(function(e){return e.preventDefault(),n.nextStep()}),i=$("<div>").addClass("mybuttons step-0 first-step last-step").append(t),
$(".introjs-tooltip").append(i),n.oncomplete(function(){return $.ajax({url:"/users/"+gon.currentUser.id,method:"put",dataType:"json",data:{user:{moved_card:!0}},success:function(){return gon.currentUser.movedCard=!0}})}))},showCardGuide:function(){var e,t,i,n,o;return e=$("#open-card"),o=introJs().setOptions({disableInteraction:!0,exitOnEsc:!1,exitOnOverlayClick:!1,scrollToElement:!0,showBullets:!1,showButtons:!1,showStepNumbers:!1,steps:[{position:"right",element:e.find(".card-details")[0],intro:I18n.t("cards.show.onboard.left_side")},{position:"left",element:e.find(".card-form")[0],intro:I18n.t("cards.show.onboard.right_side")},{position:"left",element:e.find(".card-action-buttons")[0],intro:I18n.t("cards.show.onboard.actions")},{position:"left",element:e.find(".card-form .card-action-title")[0],intro:I18n.t("cards.show.onboard.setup")}]}).start(),i=$("<a>").attr({href:"#"}).addClass("btn prev").text("Back"),i.click(function(e){return e.preventDefault(),o.previousStep()}),t=$("<a>").attr({href:"#"}).addClass("btn next").text("Next"),t.click(function(e){return e.preventDefault(),o.nextStep()}),n=$("<div>").addClass("mybuttons step-0 first-step").append(i).append(t),$(".introjs-tooltip").append(n),o.onbeforechange(function(){return n.removeClass("step-0 step-1 step-2 step-3 first-step last-step"),n.addClass("step-"+o._currentStep),3===o._currentStep?(n.addClass("last-step"),t.text("Done")):t.text("Next")})},renderSVGArrow:function(){var e,t,i,n;return n=function(e){return 0>e?-1:1},e=function(e){return 0>e?-e:e},i=function(t,i,o,r,a,s){var l,c,d,u;return u=parseFloat(i.attr("stroke-width")),t.attr("height")<s&&t.attr("height",s+u),t.attr("width")<o+u&&t.attr("width",o+u),t.attr("width")<a+u&&t.attr("width",a+u),o>a?(c=.15*(a-o),l=e(c),i.attr("d","M"+o+" "+r+" V"+(r+l)+" A"+l+" "+l+" 0 0 1 "+(o+l*n(c))+" "+(r+2*l)+" H"+(a-l*n(c))+" A"+l+" "+l+" 0 0 0 "+a+" "+(r+3*l)+" V"+s)):(c=a-o,d=.05*(s-r),a+=5,i.attr("d","M"+o+" "+r+" V"+(s-d)+" A"+d+" "+d+" 0 0 0 "+(o+d*n(c))+" "+s+" H"+(a-d*n(c))))},t=function(e,t,n,o){var r,a,s,l,c,d,u,h,p,f;return u=$("#svgContainer"),n.offset().top>o.offset().top&&(f=n,n=o,o=f),p=u.offset().top,h=u.offset().left,l=n.offset(),r=o.offset(),c=l.left+.5*n.outerWidth()-h,d=l.top+n.outerHeight()-p,a=r.left+.5*o.outerWidth()-h,s=r.top+.5*o.outerHeight()-p,i(e,t,c,d,a,s)},$("#svg1").attr("height","0"),$("#svg1").attr("width","0"),t($("#svg1"),$("#path1"),$("#pontoA"),$("#pontoB")),$(".pipe-how-it-works").on("resize",function(){return $("#svg1").attr("height","0"),$("#svg1").attr("width","0"),t($("#svg1"),$("#path1"),$("#pontoA"),$("#pontoB"))}),$(window).resize(function(){return $("#svg1").attr("height","0"),$("#svg1").attr("width","0"),t($("#svg1"),$("#path1"),$("#pontoA"),$("#pontoB"))})}}}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.PipeFilter=function(){function e(){}return e.show=function(){return $("#filter-modal").addClass("active"),this.showOverlay(),this.bindAll(),setTimeout(function(){return $("#filter-title").focus()},200)},e.hide=function(){return $("#filter-title").blur(),$("#filter-modal").removeClass("active"),this.hideOverlay(),this.unbindAll()},e.applyFilter=function(){var e,t,i,n,o;return e=$(".closed-card"),this.isFiltering()?(e.addClass("hidden").removeClass("match-label match-member match-title"),t=$(".filter-label.checked"),t.each(function(t,i){var n;return n=$(i).data("id"),e.has(".closed-card-label[data-id="+n+"]").addClass("match-label")}),i=$(".filter-member.checked"),i.each(function(t,i){var n;return n=$(i).data("id"),e.has(".closed-card-member[data-id="+n+"]").addClass("match-member")}),o=$("#filter-title").val(),""!==o&&_.each(o.split(" "),function(t){return""!==t?e.has(".card-title:icontains("+t+")").addClass("match-title"):void 0}),n="",t.exists()&&(n+=".match-label"),i.exists()&&(n+=".match-member"),""!==o&&(n+=".match-title"),$(n).removeClass("hidden")):e.removeClass("hidden"),Helpers.Pipes.updateFilter()},e.clearFilter=function(){return $(".filter-item.checked").removeClass("checked"),$("#filter-title").val(""),this.applyFilter()},e.isFiltering=function(){return $(".filter-item.checked").exists()||""!==$("#filter-title").val()},e.unbindAll=function(){return this.unbindClose(),this.unbindClear(),this.unbindOverlay(),this.unbindCheckItem()},e.bindAll=function(){return this.bindClose(),this.bindClear(),this.bindOverlay(),this.bindCheckItem(),this.bindTitle()},e.bindTitle=function(){return $("#filter-title").on("keyup",function(e){return function(){return e.applyFilter()}}(this))},e.bindCheckItem=function(){return $(".filter-item").on("click",function(e){return function(t){return t.preventDefault(),$(t.target).closest(".filter-item").toggleClass("checked"),e.applyFilter()}}(this))},e.unbindCheckItem=function(){return $(".filter-item").off("click")},e.bindClose=function(){return $(".filter-close").on("click",function(e){return function(){return e.hide()}}(this)),$("body").on("keyup.filter",function(e){return function(t){return 27===t.which?e.hide():void 0}}(this))},e.unbindClose=function(){return $(".filter-close").off("click"),$("body").off("keyup.filter")},e.bindClear=function(){return $(".filter-clear").on("click",function(e){return function(t){return t.preventDefault(),e.clearFilter()}}(this))},e.unbindClear=function(){return $(".filter-clear").off("click")},e.bindOverlay=function(){return $(".sidebar-nav, .header-nav, #overlay-filter").on("click.filter",function(e){return function(){return e.hide()}}(this))},e.unbindOverlay=function(){return $(".sidebar-nav, .header-nav, #overlay-filter").off("click.filter")},e.showOverlay=function(){return $("#overlay-filter").addClass("active"),setTimeout(function(){return $("#overlay-filter").addClass("fade-in")},10)},e.hideOverlay=function(){return $("#overlay-filter").removeClass("fade-in").addClass("fade-out"),setTimeout(function(){return $("#overlay-filter").removeClass("active fade-in fade-out")},300)},e}()}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.Pipes=function(){function e(){}return e.toggleCreateFirstCard=function(){return $(".create-first-card").toggleClass("hidden",$(".card").length>0)},e.remakeCardsSortable=function(e){var t,i;return t=e.find(".card-list"),(i=t.sortable("instance"))?i.refresh?i.refresh():void 0:this.makeCardsSortable(e)},e.unmakeCardsSortable=function(e){var t,i;return t=e.find(".card-list"),(i=t.sortable("instance"))?i.sortable("destroy"):void 0},e.makeCardsSortable=function(e){return this.isReadOnly(e)?void 0:e.find(".card-list").sortable({connectWith:".card-list",forcePlaceholderSize:!0,forceHelperSize:!0,delay:75,tolerance:"pointer",distance:9,scroll:!0,helper:"original",placeholder:"sortable-placeholder",scrollSensitivity:40,scrollSpeed:30,items:"> .card",over:function(e,t){return t.item.data("sortableItem").scrollParent=t.placeholder.parent().parent(),t.item.data("sortableItem").overflowOffset=t.placeholder.parent().parent().offset()},update:function(t){return function(i,n){var o,r,a,s,l,c,d,u;return s=n.item,d=n.sender,c=$(".card-list").data("dragging-previndex"),o=s.data("id"),r=s.data("current-phase-id"),a=s.closest(".phase").data("id"),u=s.prev().data("id"),l=s.next().data("id"),a===r?Helpers.Utils.pusherAjax({url:"/cards/"+o+"/move",data:{previous_id:u,next_id:l},dataType:"json",type:"PUT"}).fail(function(e){var t;return Util.showAjaxErrorNoties(e),0===c?d.prepend(s):(t=$(d.find(".card")[c]),t.exists()?c<s.index()?t.before(s):t.after(s):d.append(s))}):Helpers.Cards.jumpToPhase(o,a,{previous_card_id:u,next_card_id:l}).fail(function(){var e;return window.location=s.find("a.card-title").attr("href"),0===c?d.prepend(s):(e=$(d.find(".card")[c]),e.exists()?e.before(s):d.append(s))}).done(function(i){var n;return n=$(i),s.replaceWith(n),t.setClosedCardInfo(n),t.updatePhasesCounters(),t.remakeCardsSortable(e),Helpers.Cards.clearPreloadedCard()})}}(this),start:function(e,t){return $(".card-list").data("dragging-previndex",t.item.index()),$(".card-list").data("dragging",!0)},stop:function(){return $(".card-list").data("dragging",!1)}}).disableSelection()},e.setClosedCardInfo=function(e){return this.setClosedCardDuration(e),this.setClosedCardCurrentPhaseDuration(e),this.setClosedCardDueDate(e),this.setClosedCardRibbons(e),e.removeClass("new-card")},e.getClosedCardDuration=function(e){var t,i;return i=e.data("duration-started-at"),t=e.data("finished-at")||moment().unix(),t-i},e.setClosedCardDuration=function(e){var t,i;return t=this.getClosedCardDuration(e),i=Util.higherDuration(t,!0).join(""),e.find(".card-duration strong").text(i)},e.getClosedCardPhaseDuration=function(e){var t,i;return t=e.data("finished-time-entries-duration"),i=e.data("current-time-entry-start"),moment().unix()-i+t},e.setClosedCardCurrentPhaseDuration=function(e){var t,i;return t=this.getClosedCardPhaseDuration(e),i=Util.higherDuration(t,!0).join(""),e.find(".current-phase-duration strong").text(i)},e.setClosedCardDueDate=function(e){var t,i,n,o,r,a,s;return i=e.data("due-date")||e.data("expiration-time"),t=e.find(".due-date"),i?(n=moment.unix(i),a=n.format("D/MMM").toUpperCase(),t.find("strong").text(a),o=e.data("finished-at"),r=null!=o&&""!==o?moment.unix(o):moment(),s=r>n?"label-danger":n<r.add(1,"days")?"label-warning":"",t.removeClass("hidden label-danger label-warning").addClass(s)):t.addClass("hidden")},e.setClosedCardRibbons=function(e){var t,i,n,o,r,a,s;return t=e.find(".ribbon-wrapper.late-expired"),i=this.getClosedCardDuration(e),s=e.data("pipe-expiration-time"),n=s>0&&i>s,r=this.getClosedCardPhaseDuration(e),a=e.data("phase-lateness-time"),o=a>0&&r>a,n||o?t.removeClass("on-time"):t.addClass("on-time"),n?t.addClass("expired"):t.removeClass("expired"),o?t.addClass("late"):t.removeClass("late")},e.updateFilter=function(){return Helpers.PipeFilter.isFiltering()?$(".pipe-header .item-filter").addClass("active").find(".action-filter span").text(I18n.t("pipes.show.filter_on")):$(".pipe-header .item-filter").removeClass("active").find(".action-filter span").text(I18n.t("pipes.show.filter")),this.updatePhasesCounters()},e.updatePhasesCounters=function(){return $(".phase").each(function(e,t){var i,n,o,r,a,s;return n=$(t),i=n.find(".closed-card:not(.hidden)"),n.find(".phase-card-count").text("("+i.length+")"),o=n.find(".phase-status"),r=i.find(".ribbon-wrapper.late-expired.expired").length,r>0?o.find(".expired").removeClass("hidden").find("a").text(r):o.find(".expired").addClass("hidden"),a=i.find(".ribbon-wrapper.late-expired.late").length,a>0?o.find(".late").removeClass("hidden").find("a").text(a):o.find(".late").addClass("hidden"),s=i.find(".ribbon-wrapper.late-expired.on-time").length,s>0?o.find(".on-time").removeClass("hidden").find("a").text(s):o.find(".on-time").addClass("hidden")})},e.isReadOnly=function(e){return null!=e.data("read-only")},e.isCurrentPipe=function(e){return window.currentView instanceof Views.Pipes.Show&&$(".pipe-data").data("id")===e},e}()}.call(this),function(){window.Helpers||(window.Helpers={}),Helpers.Utils=function(){function e(){}return e.pusherAjax=function(e){var t,i,n,o;return t={},null!=gon.pusher&&null!=gon.pusher.connection&&(t.pusher_socket_id=gon.pusher.connection.socket_id),n=e.data,o="string"==typeof n,o&&(n=JSON.parse(n)),i=e,i.data=$.extend(t,n),o&&(i.data=JSON.stringify(i.data)),$.ajax(i)},e.setupCheckBoxes=function(e){return e.iCheck({checkboxClass:"icheck-wrap icheckbox_flat-cyan",radioClass:"icheck-wrap iradio_flat-cyan"})},e}()}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,n=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};(e=window.Views).Cards||(e.Cards={}),Views.Cards.Show=function(e){function i(){return this.changeDueDate=t(this.changeDueDate,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.renderOtherPhaseDetails=function(){var e;return e=$(".phases-information-delayed"),this.setOtherPhasesDates(e),this.bindInlineForms(e),this.rerenderEditableFields(),this.rerenderChecklists()},i.prototype.render=function(){var e,t;return i.__super__.render.call(this),e=$(".card-details"),t=$(".card-form"),this.setHeaderDates(e),this.setEditHeaderDates(t),this.bindHeaderLabelPicker(),this.bindHeaderDueDatePicker(),this.setOtherPhasesDates(e),this.startOpenCardDurationsUpdater(),this.formatCommentsDates(e),this.formatCommentsDates(t),this.setConnectedCardsDates(),this.bindScrolls(),this.bindHeaderAssigneePicker(),this.bindHeaderSendAutoMessage(),this.bindPhaseForm(),this.bindConnectedCardForms(),this.bindConnectedCardCreate(),this.bindNewConnectedCard(),this.bindFooterCommentField(),this.bindFooterMoveToPrevious(),this.bindFooterMoveToNext(),this.bindFooterJumpButtons(),this.bindFooterDeleteButton(),this.bindFooterPostComment(),this.bindInlineForms($(".card-form, .card-details")),this.bindCardTitleEdit(),this.bindCardTitleSave(),this.bindCardTitleCancel(),this.bindCardTitleEsc(),this.bindCardTitleEnter(),this.renderEditableFields(),this.applyMentionsToComments(),this.renderChecklists(),this.subscribeToLiveUpdates()},i.prototype.cleanup=function(){return i.__super__.cleanup.call(this),this.unbindHeaderLabelPicker(),this.unbindHeaderDueDatePicker(),this.unbindInlineForms($(".card-form, .card-details")),this.cleanupEditableFields(),this.cleanupChecklists(),this.unsubscribeToLiveUpdates()},i.prototype.renderEditableFields=function(){return this.bindEditableFieldClick(),this.applyEditableFieldsPlugins(),this.bindEditableFieldCancelClick(),this.bindEditableFieldSaveClick(),this.bindEditableFieldEnter(),this.bindEditableFieldEsc()},i.prototype.cleanupEditableFields=function(){return this.unbindEditableFieldClick(),this.unbindEditableFieldCancelClick(),this.unbindEditableFieldSaveClick(),this.unbindEditableFieldEnter(),this.unbindEditableFieldEsc()},i.prototype.rerenderEditableFields=function(){return this.cleanupEditableFields(),this.renderEditableFields()},i.prototype.subscribeToLiveUpdates=function(){var e;return null!=gon.pusher&&null==this.cardChannel?(e=$(".card-show.card-data").data("token"),this.cardChannel=gon.pusher.subscribe("v2-"+e),this.cardChannel.bind("card_details_update",function(e){return function(t){var i;return i=t.card_id,$.ajax({url:"/cards/"+i+"/closed_show",dataType:"json"}).done(function(t){var i,n;return n=t.title,i=$(".card-details .card-header .card-title"),i.find(".card-name").text(n),i.find(".card-title-form input").val(n),e.updateDueDateElements(moment(t.due_date).unix()),$("#open_card_label_picker").val(t.label_ids).selectpicker("refresh"),$("#open_card_assignee_picker").val(t.assignee_ids).selectpicker("refresh")})}}(this)),this.cardChannel.bind("new_comment",function(e){return function(t){var i,n;return i=t.id,n=t.card_phase_detail_id,$.ajax({url:"/comments/"+i,method:"get",accepts:"application/html; charset=utf-8",data:{no_layout:!0}}).done(function(t){var o,r;return $("#comment-"+i).remove(),r=$("#phase-detail-"+n),o=r.find(".phase-comments-container"),o.find(".comments-container").prepend(t),o.find(".comment-block-title").removeClass("hidden"),e.formatCommentsDates(o)})}}(this)),this.cardChannel.bind("card_move",function(e){return function(t){var i,n;return i=t.card_id,n=t.current_phase_name,$(".card-show.card-data").data("moving")?void 0:sweetAlert({title:I18n.t("views.cards.details.closed_by_move",{phase_name:n}),confirmButtonText:I18n.t("views.cards.details.reload_card"),type:"warning",confirmButtonColor:"#00C5EF"},function(){return Util.showLoadBox(),$.ajax({url:"/cards/"+i,accepts:"application/html; charset=utf-8",data:{no_layout:!0}}).done(function(t){return e.cleanup(),$("#open-card-content").html(t),e.render(),Util.hideLoadBox()})})}}(this))):void 0},i.prototype.unsubscribeToLiveUpdates=function(){return null!=this.cardChannel?(this.cardChannel.unsubscribe(),this.cardChannel=null):void 0},i.prototype.applyMentionsToComments=function(){return $(".card-form .comment-field textarea").mention()},i.prototype.renderChecklists=function(){return this.bindChecklistCreationButtons(),this.bindChecklistDelete(),this.bindChecklistItemDelete(),this.applyChecklistItemsIcheck(),this.bindChecklistItems(),this.applyChecklistItemsSortable(),this.bindChecklistItemCreationForm(),this.bindChecklistNameEdit(),this.bindChecklistItemEdit(),this.bindSaveChecklistName(),this.bindSaveChecklistNameOnEnter(),this.bindSaveChecklistItem(),this.bindSaveChecklistItemOnEnter(),this.bindSaveChecklistItemOnEsc(),this.bindCancelChecklistNameForm(),this.bindCancelChecklistNameFormOnEsc(),this.bindCancelChecklistItemForm(),this.bindInlineForms($(".checklist")),this.applyChecklistItemsMentions()},i.prototype.cleanupChecklists=function(){return this.unbindChecklistCreationButtons(),this.unbindChecklistDelete(),this.destroyChecklistItemsIcheck(),this.unbindChecklistItems(),this.destroyChecklistItemsSortable(),this.unbindChecklistItemCreationForm(),this.unbindChecklistNameEdit(),this.unbindChecklistItemEdit(),this.unbindSaveChecklistName(),this.unbindSaveChecklistNameOnEnter(),this.unbindSaveChecklistItem(),this.unbindSaveChecklistItemOnEnter(),this.unbindSaveChecklistItemOnEsc(),this.unbindCancelChecklistNameForm(),this.unbindCancelChecklistNameFormOnEsc(),this.unbindCancelChecklistItemForm(),this.unbindInlineForms($(".checklist"))},i.prototype.rerenderChecklists=function(){return this.cleanupChecklists(),this.renderChecklists()},i.prototype.setHeaderDates=function(e){return this.setHeaderStart(e),this.setHeaderFinish(e),this.setHeaderDuration(e),this.setHeaderDueDate(e)},i.prototype.setEditHeaderDates=function(e){return this.setEditHeaderStart(e),this.setEditHeaderDuration(e)},i.prototype.setConnectedCardsDates=function(){var e;return e=$(".card-details, .card-form"),e.find(".connected-card-item").each(function(e){return function(t,i){return e.setConnectedCardDates($(i))}}(this))},i.prototype.setConnectedCardDates=function(e){var t,i,n,o,r,a,s,l,c,d,u,h,p;return d=u="?",t=e.closest(".card-data"),t.data("duration-started-at")&&(h=e.data("duration-started-at"),o=moment.unix(h),d=o.format("D"),u=o.format("MMM").toUpperCase()),t.find(".start .day").text(d),t.find(".start .month").text(u),s=l="?",t.data("finished-at")&&(c=t.data("finished-at"),n=moment.unix(c),s=n.format("D"),l=n.format("MMM").toUpperCase()),e.find(".finish .day").text(s),e.find(".finish .month").text(l),a=r="?",o=t.data("duration-started-at"),n=t.data("finished-at")||moment().unix(),i=n-o,p=Util.higherDuration(i),a=p[0],r=p[1],e.find(".duration .day").text(a),e.find(".duration .month").text(r)},i.prototype.setOtherPhasesDates=function(e){return e.find(".phase-item-info").each(function(e){return function(e,t){var i,n,o,r,a,s,l,c,d,u,h,p;return i=$(t),c=d=a=s=h=u="?",i.data("started-at")&&(n=moment.unix(i.data("started-at")),c=n.format("D"),d=n.format("MMM").toUpperCase()),i.data("finished-at")&&(l=moment.unix(i.data("finished-at")),a=l.format("D"),s=l.format("MMM").toUpperCase()),p=Util.higherDuration(i.data("duration")),o=p[0],r=p[1],i.find(".phase-start .day").text(c),i.find(".phase-start .month").text(d),i.find(".phase-finish .day").text(c),i.find(".phase-finish .month").text(d),i.find(".phase-duration .day").text(o),i.find(".phase-duration .month").text(r)}}(this))},i.prototype.setHeaderStart=function(e){var t,i,n,o,r;return n=o="?",t=e.closest(".card-data"),t.data("duration-started-at")&&(r=t.data("duration-started-at"),i=moment.unix(r),n=i.format("D"),o=i.format("MMM").toUpperCase()),e.find(".card-start .day").text(n),e.find(".card-start .month").text(o)},i.prototype.setHeaderFinish=function(e){var t,i,n,o,r;return n=o="?",t=e.closest(".card-data"),t.data("finished-at")&&(r=t.data("finished-at"),i=moment.unix(r),n=i.format("D"),o=i.format("MMM").toUpperCase()),e.find(".card-finish .day").text(n),e.find(".card-finish .month").text(o)},i.prototype.setHeaderDuration=function(e){var t,i,n,o,r,a,s;return t=e.closest(".card-data"),a=r="?",o=t.data("duration-started-at"),n=t.data("finished-at")||moment().unix(),i=n-o,s=Util.higherDuration(i),a=s[0],r=s[1],e.find(".card-duration .day").text(a),e.find(".card-duration .month").text(r)},i.prototype.setHeaderDueDate=function(e){var t,i,n,o,r,a,s;return n=r="?",t=e.closest(".card-data"),o=t.data("due-date"),a=t.data("expiration-time"),o?(i=moment.unix(o),n=i.format("D"),r=i.format("MMM").toUpperCase()):a&&(s=moment.unix(a),n=s.format("D"),r=s.format("MMM").toUpperCase()),e.find(".card-due-date .day").text(n),e.find(".card-due-date .month").text(r)},i.prototype.setEditHeaderStart=function(e){var t,i,n,o;return t=i="?",o=e.find(".card-action-dates").data("started-at"),n=moment.unix(o),t=n.format("D"),i=n.format("MMM").toUpperCase(),e.find(".current-phase-start .day").text(t),e.find(".current-phase-start .month").text(i)},i.prototype.setEditHeaderDuration=function(e){var t,i,n,o,r,a;return r=o="?",n=e.find(".card-action-dates").data("started-at"),i=moment().unix(),t=i-n,a=Util.higherDuration(t),r=a[0],o=a[1],e.find(".current-phase-duration .day").text(r),e.find(".current-phase-duration .month").text(o)},i.prototype.bindHeaderLabelPicker=function(){var e;return e=$("#open_card_label_picker"),e.data("old-value",e.val()),e.selectpicker({title:I18n.t("views.cards.details.add_label")}),e.closest(".label-select").on("hidden.bs.dropdown",this.changeLabels)},i.prototype.unbindHeaderLabelPicker=function(){return $("#open_card_label_picker").selectpicker("destroy"),$("#open_card_label_picker").off("change")},i.prototype.bindHeaderDueDatePicker=function(){return $(".card-details").find(".due-date-picker").datepicker({format:"dd/mm/yyyy"}).on("click",this.showDueDatePicker).on("changeDate",this.changeDueDate)},i.prototype.unbindHeaderDueDatePicker=function(){return $("div.due-date-picker").off("click"),$("div.due-date-picker").off("changeDate")},i.prototype.unbindInlineForms=function(e){return e.find(".inline-form input").off("focus").off("blur")},i.prototype.bindChecklistCreationButtons=function(){return $(".new-checklist").on("click",function(e){return function(t){var i,n;return t.preventDefault(),i=$(t.target),n=i.closest(".card-data").data("current-phase-detail-id"),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/checklists",method:"post",accepts:"application/html; charset=utf-8",data:{no_layout:!0,checklist:{card_phase_detail_id:n,name:"Checklist"}},complete:function(){return Util.hideLoadBox(),e.rerenderChecklists()},success:function(e){var t;return $(".card-form .checklists").append(e),$(".card-details .checklists-tab .checklists").append(e),t=i.closest(".card-block-wrapper"),t.closest(".card-form").exists()?t.scrollTo(".checklists .checklist:last",200):void 0},error:function(e){return Util.showAjaxErrorNoties(e)}})}}(this))},i.prototype.bindChecklistDelete=function(){return $(".delete-checklist").on("click",function(e){return function(e){var t;return e.preventDefault(),t=function(){var t,i;return t=$(e.target),i=t.closest(".checklist").data("id"),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/checklists/"+i,method:"delete",dataType:"json",complete:function(e){return function(){return Util.hideLoadBox()}}(this),success:function(e){return function(){return t.closest(".checklist").remove()}}(this),error:function(e){return function(e){return Util.showAjaxErrorNoties(e)}}(this)})},gon.showAlerts?Util.deleteConfirmation({closeOnConfirm:!0},t):t()}}(this))},i.prototype.bindChecklistItemDelete=function(){return $(".checklist-item .checklist-item-form .btn-delete").on("click",function(e){return function(e){var t;return e.preventDefault(),t=function(){var t,i;return t=$(e.target),i=t.closest(".checklist-item").data("id"),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/checklist_items/"+i,method:"delete",dataType:"json",complete:function(e){return function(){return Util.hideLoadBox()}}(this),success:function(e){return function(){return $(".checklist-item[data-id="+i+"]").remove()}}(this),error:function(e){return function(e){return Util.showAjaxErrorNoties(e)}}(this)})},gon.showAlerts?Util.deleteConfirmation({closeOnConfirm:!0},t):t()}}(this))},i.prototype.bindChecklistNameEdit=function(){return $(".checklist .name").on("click",function(e){return function(t){return t.preventDefault(),e.openChecklistNameForm($(t.target))}}(this))},i.prototype.bindChecklistItemEdit=function(){return $(".checklist-item .text").on("click",function(e){return function(t){var i;return i=$(t.target),"A"!==i.prop("tagName")?(t.preventDefault(),e.openChecklistItemForm(i)):void 0}}(this))},i.prototype.unbindChecklistNameEdit=function(){return $(".checklist .name").off("click")},i.prototype.unbindChecklistItemEdit=function(){return $(".checklist-item .text").off("click")},i.prototype.openChecklistItemForm=function(e){var t,i;return i=e.closest(".checklist-item"),i.addClass("editing"),t=i.find(".checklist-item-form"),t.removeClass("hidden"),t.find("input").focus()},i.prototype.closeChecklistItemForm=function(e){var t,i;return i=e.closest(".checklist-item"),i.removeClass("editing"),t=i.find(".checklist-item-form"),t.addClass("hidden")},i.prototype.openChecklistNameForm=function(e){var t,i;return i=e.closest(".title"),i.addClass("editing"),t=i.find(".name-form"),t.removeClass("hidden"),t.find("input").focus()},i.prototype.closeChecklistNameForm=function(e){var t,i;return i=e.closest(".title"),i.removeClass("editing"),t=i.find(".name-form"),t.addClass("hidden")},i.prototype.unbindChecklistDelete=function(){return $(".delete-checklist").off("click")},i.prototype.unbindChecklistCreationButtons=function(){return $(".new-checklist").off("click")},i.prototype.applyChecklistItemsIcheck=function(){return $(".card-details, .card-form").find('.checklist-item input[type="checkbox"]').iCheck({checkboxClass:"icheck-wrap"})},i.prototype.applyChecklistItemsMentions=function(){return $(".card-details, .card-form").find(".checklist-item-form .inline-form input").mention()},i.prototype.destroyChecklistItemsIcheck=function(){return $(".card-details, .card-form").find('.checklist-item input[type="checkbox"]').iCheck("destroy")},i.prototype.bindChecklistItems=function(){return $(".checklist-item input.icheck").on("ifToggled",function(e){return function(t){return e.changeChecklistItem(t)}}(this))},i.prototype.unbindChecklistItems=function(){return $(".checklist-item input.icheck").off("ifToggled")},i.prototype.changeChecklistItem=function(e){var t,i;return t=$(e.target),i=t.data("id"),Helpers.Utils.pusherAjax({url:"/checklist_items/"+i,method:"put",dataType:"json",data:{checklist_item:{id:i,checked:t.is(":checked")}}}).fail(function(e){return function(i){return e.unbindChecklistItems(),t.iCheck("toggle"),e.bindChecklistItems(),Util.showAjaxErrorNoties(i)}}(this))},i.prototype.changeLabels=function(e){var t,i,n,o,r;return i=$(e.target),n=i.closest(".card-data").data("id"),t=$("#open_card_label_picker"),o=t.val()||[],r=t.data("old-value")||[],_.isEqual(r,o)?void 0:(Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/cards/"+n,method:"put",accepts:"application/html; charset=utf-8",contentType:"application/json",data:JSON.stringify({no_layout:!0,card:{id:n,label_ids:o}}),complete:function(){return Util.hideLoadBox()},success:function(e){var i;return i="#card-"+n,$(i).replaceWith(e),t.data("old-value",o),Helpers.Pipes.setClosedCardInfo($(i)),Helpers.Pipes.remakeCardsSortable($(".pipe-data"))},error:function(e){return t.val(r),t.selectpicker("refresh"),Util.showAjaxErrorNoties(e)}}))},i.prototype.showDueDatePicker=function(e){return $(".card-details").find(".due-date-picker").datepicker("show")},i.prototype.changeDueDate=function(e){var t,i,n;if("days"===e.viewMode)return t=$(e.target),n=e.date,this.hideDueDatePicker(),i=t.closest(".card-data").data("id"),this.updateDueDate(i,n)},i.prototype.hideDueDatePicker=function(){return $(".card-details").find(".due-date-picker").datepicker("hide")},i.prototype.updateDueDate=function(e,t){return Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/cards/"+e,method:"put",dataType:"json",data:{card:{id:e,due_date:t}},complete:function(){return Util.hideLoadBox()},success:function(e){return function(t){return e.updateDueDateElements(moment(t.due_date).unix())}}(this),error:function(e){return function(e){return Util.showAjaxErrorNoties(e)}}(this)})},i.prototype.applyChecklistItemsSortable=function(){var e;return e=$(".card-details, .card-form").find(".checklist-items"),e.sortable({items:".checklist-item",forcePlaceholderSize:!1,start:function(e,t){return $(".card-form").data("dragging-previndex",t.item.index())},update:function(e){return function(t,i){var n,o,r,a,s,l;return n=i.item,a=$(".card-form").data("dragging-previndex"),s=i.send,o=n.data("id"),l=n.prev().data("id"),r=n.next().data("id"),e.moveChecklistItem(o,l,r).fail(function(){var e;return 0===a?s.prepend(n):(e=$(s.find(".checklist-item")[a]),e.exists()?a<n.index()?e.before(n):e.after(n):s.append(n))})}}(this)})},i.prototype.destroyChecklistItemsSortable=function(){return $(".card-details, .card-form").find(".checklist-items").each(function(){return $(this).sortable("instance")?$(this).sortable("destroy"):void 0})},i.prototype.bindChecklistItemCreationForm=function(){var e,t;return e=$(".card-details, .card-form").find(".checklist-item-creation-form .checklist-item-form input#text"),e.on("keypress.createChecklistItem",function(e){return function(t){return 13!==t.which||t.shiftKey?void 0:(t.preventDefault(),t.stopPropagation(),e.createChecklistItem($(t.target)))}}(this)),t=$(".card-details, .card-form").find(".checklist-item-creation-form .checklist-item-form .btn-save"),t.on("click",function(e){return function(t){return t.preventDefault(),e.createChecklistItem($(t.target))}}(this))},i.prototype.bindSaveChecklistName=function(){var e;return e=$(".card-details, .card-form").find(".checklist .name-form .btn-save"),e.on("click",function(e){return function(t){return t.preventDefault(),e.saveChecklistName($(t.target))}}(this))},i.prototype.bindSaveChecklistNameOnEnter=function(){var e;return e=$(".card-details, .card-form").find(".checklist .name-form input"),e.on("keyup",function(e){return function(t){return 13===t.which?(t.preventDefault(),t.stopPropagation(),e.saveChecklistName($(t.target))):void 0}}(this))},i.prototype.bindSaveChecklistItem=function(){var e;return e=$(".card-details, .card-form").find(".checklist-item .checklist-item-form .btn-save"),e.on("click",function(e){return function(t){return t.preventDefault(),e.updateChecklistItem($(t.target))}}(this))},i.prototype.bindSaveChecklistItemOnEnter=function(){var e;return e=$(".card-details, .card-form").find(".checklist-item .checklist-item-form input"),e.on("keyup",function(e){return function(t){return 13===t.which?(t.preventDefault(),t.stopPropagation(),e.updateChecklistItem($(t.target))):void 0}}(this))},i.prototype.bindSaveChecklistItemOnEsc=function(){var e;return e=$(".card-details, .card-form").find(".checklist-item .checklist-item-form input"),e.on("keyup",function(e){return function(t){return 27===t.which?(t.preventDefault(),t.stopPropagation(),e.closeChecklistItemForm($(t.target))):void 0}}(this))},i.prototype.bindCancelChecklistNameForm=function(){var e;return e=$(".card-details, .card-form").find(".checklist .name-form .btn-cancel"),e.on("click",function(e){return function(t){return t.preventDefault(),e.closeChecklistNameForm($(t.target))}}(this))},i.prototype.bindCancelChecklistNameFormOnEsc=function(){var e;return e=$(".card-details, .card-form").find(".checklist .name-form input"),e.on("keyup",function(e){return function(t){return 27===t.which?(t.preventDefault(),t.stopPropagation(),e.closeChecklistNameForm($(t.target))):void 0}}(this))},i.prototype.bindCancelChecklistItemForm=function(){var e;return e=$(".card-details, .card-form").find(".checklist-item .checklist-item-form .btn-cancel"),e.on("click",function(e){return function(t){return t.preventDefault(),e.closeChecklistItemForm($(t.target))}}(this))},i.prototype.unbindSaveChecklistName=function(){var e;return e=$(".card-details, .card-form").find(".checklist .name-form .btn-save"),e.off("click")},i.prototype.unbindSaveChecklistNameOnEnter=function(){var e;return e=$(".card-details, .card-form").find(".checklist .name-form input"),e.off("keyup")},i.prototype.unbindSaveChecklistItem=function(){var e;return e=$(".card-details, .card-form").find(".checklist-item .checklist-item-form .btn-save"),e.off("click")},i.prototype.unbindSaveChecklistItemOnEnter=function(){var e;return e=$(".card-details, .card-form").find(".checklist-item .checklist-item-form input"),e.off("keyup")},i.prototype.unbindSaveChecklistItemOnEsc=function(){var e;return e=$(".card-details, .card-form").find(".checklist-item .checklist-item-form input"),e.off("keyup")},i.prototype.unbindCancelChecklistNameForm=function(){var e;return e=$(".card-details, .card-form").find(".checklist .name-form .btn-cancel"),
e.off("click")},i.prototype.unbindCancelChecklistNameFormOnEsc=function(){var e;return e=$(".card-details, .card-form").find(".checklist .name-form input"),e.off("keyup")},i.prototype.unbindCancelChecklistItemForm=function(){var e;return e=$(".card-details, .card-form").find(".checklist-item .checklist-item-form .btn-cancel"),e.off("click")},i.prototype.saveChecklistName=function(e){var t,i,n;return t=e.closest(".inline-form").find("input#text"),i=e.closest(".checklist").data("id"),n=t.val(),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/checklists/"+i,method:"put",data:{checklist:{name:n}},dataType:"json",complete:function(){return Util.hideLoadBox()},success:function(t){return function(){return e.closest(".title").find(".name").text(n),t.closeChecklistNameForm(e)}}(this),error:function(e){return Util.showAjaxErrorNoties(e)}})},i.prototype.updateChecklistItem=function(e){var t,i,n;return t=e.closest(".inline-form").find("input#text"),i=e.closest(".checklist-item").data("id"),n=t.val(),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/checklist_items/"+i,method:"put",data:{no_layout:!0,checklist_item:{text:n}},accepts:"application/html; charset=utf-8",complete:function(e){return function(){return Util.hideLoadBox()}}(this),success:function(t){return function(n){return t.closeChecklistItemForm(e),$(".checklist-item[data-id="+i+"]").replaceWith(n),t.rerenderChecklists()}}(this),error:function(e){return function(e){return Util.showAjaxErrorNoties(e)}}(this)})},i.prototype.createChecklistItem=function(e){var t,i,n;return t=e.closest(".inline-form").find("input#text"),i=e.closest(".checklist").data("id"),n=t.val(),t.val(""),t.blur(),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/checklist_items",method:"post",accepts:"application/html; charset=utf-8",data:{no_layout:!0,checklist_item:{checklist_id:i,text:n}},complete:function(e){return function(){return Util.hideLoadBox()}}(this),success:function(e){return function(n){return $(".checklist[data-id="+i+"]").find("ol.checklist-items").append(n),e.rerenderChecklists(),t.focus()}}(this),error:function(e){return function(t){return e.rerenderChecklists(),Util.showAjaxErrorNoties(t)}}(this)})},i.prototype.unbindChecklistItemCreationForm=function(){var e,t;return e=$(".card-details, .card-form").find(".checklist-item-form input#text"),e.off("keypress.createChecklistItem"),t=$(".card-details, .card-form").find(".checklist-item-form .btn-save"),t.off("click")},i.prototype.moveChecklistItem=function(e,t,i){return Helpers.Utils.pusherAjax({url:"/checklist_items/"+e+"/move",data:{previous_id:t,next_id:i},dataType:"json",type:"PUT",error:function(e){return function(e){return Util.showAjaxErrorNoties(e)}}(this)})},i.prototype.startOpenCardDurationsUpdater=function(){return setInterval(function(e){return function(){var t;return e.setHeaderDates($(".card-details")),e.setEditHeaderDates($(".card-form")),t=$(".card-details"),e.setHeaderDates(t),e.setConnectedCardsDates()}}(this),6e4)},i.prototype.formatCommentsDates=function(e){return e.find(".comment-created-at").each(function(e){return function(e,t){var i,n;return i=$(t),n=moment.unix(i.data("comment-created-at")).format("MMM D [at] H:mm a"),i.text(n)}}(this))},i.prototype.bindScrolls=function(){return this.adjustSizes(),$(window).on("resize.card_details",$.proxy(this.adjustSizes,this))},i.prototype.adjustSizes=function(){return Helpers.Cards.adjustSizes()},i.prototype.bindHeaderAssigneePicker=function(){var e;return e=$("#open_card_assignee_picker"),e.data("old-value",e.val()),e.selectpicker({title:I18n.t("templates.cards.add_member")}),e.closest(".assignee-select").on("hidden.bs.dropdown",this.changeAssignees)},i.prototype.bindHeaderSendAutoMessage=function(){return $(".send-message").on("click",function(e){var t;return e.preventDefault(),t=$(e.target),Helpers.Utils.pusherAjax({url:"/automated_messages",method:"post",data:{no_layout:!0,automated_message:{card_phase_detail_id:t.closest(".card-data").data("current-phase-detail-id"),automated_message_setup_id:$(e.target).data("id")}},success:function(e){return function(e){var t;return noty({text:I18n.t("views.cards.edit.message_sent"),type:"success"}),$(".card-form .card-block-wrapper").scrollTo(".phase-automated-messages-container",200),t=$(".card-form .automated-messages-container"),t.find(".automated-messages").append(e),t.find(".automated-messages-title").removeClass("hidden")}}(this),error:function(e){return Util.showAjaxErrorNoties(e)}})})},i.prototype.changeAssignees=function(e){var t,i,n,o,r;return i=$(e.target),o=i.closest(".card-data").data("id"),t=$("#open_card_assignee_picker"),n=t.val()||[],r=t.data("old-value")||[],_.isEqual(r,n)?void 0:Helpers.Cards.saveAssignees(o,n).done(function(){return t.data("old-value",n)}).fail(function(){return t.val(r)})},i.prototype.bindFooterCommentField=function(){return $(".card-form #comment-area").on("focus",this.expandCommentField),$(".card-form #comment-area").on("blur",function(e){return function(t){return""===$(".card-form #comment-area").val()?e.closeCommentField():void 0}}(this))},i.prototype.expandCommentField=function(){return $(".card-form .card-comment-block").addClass("focus"),$(".card-form .card-block-wrapper").scrollTo(".btn-post-comment",200)},i.prototype.closeCommentField=function(){return $(".card-form .card-comment-block").removeClass("focus"),$(".card-form .card-block-wrapper").scrollTo(".comment-field textarea",200)},i.prototype.bindFooterMoveToPrevious=function(){var e;return e=$(".card-show .card-actions a.previous-phase"),e.on("click",function(t){var i,n;return t.preventDefault(),i=e.closest(".card-data"),Util.showLoadBox(),n=i.data("id"),Helpers.Cards.jumpToPreviousPhase(n).fail(function(e){return function(){return Util.hideLoadBox()}}(this)).done(function(e){return function(e){var t,o,r,a;return Helpers.Cards.closeCard(),Helpers.Pipes.isCurrentPipe(i.data("pipe-id"))&&(o=i.data("current-phase-id"),t=$("#phase-"+o+" .phase-content"),t.find("#card-"+n).remove(),a=i.data("previous-phase-id"),r=$("#phase-"+a+" .phase-content"),r.find(".card-list").append(e),gon.currentUser.movedCard&&r.scrollTo(".card-list .card:last-child",200),Helpers.Pipes.setClosedCardInfo($("#card-"+n)),Helpers.Pipes.updatePhasesCounters(),Helpers.Pipes.remakeCardsSortable($(".pipe-data"))),Util.hideLoadBox()}}(this))})},i.prototype.bindFooterMoveToNext=function(){var e;return e=$(".card-show .card-actions a.next-phase"),e.on("click",function(t){var i,n;return i=e.closest(".card-data"),t.preventDefault(),Util.showLoadBox(),n=i.data("id"),Helpers.Cards.jumpToNextPhase(n).fail(function(e){return function(){return Util.hideLoadBox()}}(this)).done(function(e){return function(e){var t,o,r,a,s;return Helpers.Cards.closeCard(),Helpers.Pipes.isCurrentPipe(i.data("pipe-id"))&&(r=i.data("current-phase-id"),o=$("#phase-"+r+" .phase-content"),o.find("#card-"+n).remove(),t=$(e),s=i.data("next-phase-id"),a=$("#phase-"+s+" .phase-content"),a.find(".card-list").append(t),gon.currentUser.movedCard&&a.scrollTo(".card-list .card:last-child",200),Helpers.Pipes.setClosedCardInfo(t),Helpers.Pipes.updatePhasesCounters(),Helpers.Pipes.remakeCardsSortable($(".pipe-data"))),Util.hideLoadBox()}}(this))})},i.prototype.bindFooterJumpButtons=function(){var e;return e=$(".card-show .card-actions a.jump-phase"),e.on("click",function(t){var i,n,o,r;return t.preventDefault(),o=$(t.target).closest(".jump-phase"),Util.showLoadBox(),i=e.closest(".card-data"),n=i.data("id"),r=o.data("jump-target-id"),Helpers.Cards.jumpToPhase(n,r).fail(function(e){return function(){return Util.hideLoadBox()}}(this)).done(function(e){return function(e){var t,o,a;return Helpers.Cards.closeCard(),Helpers.Pipes.isCurrentPipe(i.data("pipe-id"))&&(o=i.data("current-phase-id"),t=$("#phase-"+o+" .phase-content"),t.find("#card-"+n).remove(),a=$("#phase-"+r+" .phase-content"),a.find(".card-list").append(e),gon.currentUser.movedCard&&a.scrollTo(".card-list .card:last-child",200),Helpers.Pipes.setClosedCardInfo($("#card-"+n)),Helpers.Pipes.updatePhasesCounters(),Helpers.Pipes.remakeCardsSortable($(".pipe-data"))),Util.hideLoadBox()}}(this))})},i.prototype.bindFooterDeleteButton=function(){return $(".card-actions #delete-card").on("click",function(e){var t,i,n;return e.preventDefault(),i=$(e.target),t=i.closest(".card-data"),n=function(e){return function(){var e;return e=t.data("id"),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/cards/"+e,method:"delete",dataType:"json",success:function(t){return Helpers.Cards.closeCard(),$(".card-list #card-"+e).remove(),Helpers.Pipes.toggleCreateFirstCard(),Helpers.Pipes.updatePhasesCounters(),Util.hideLoadBox(),noty({text:I18n.t("views.cards.edit.destroy_success"),type:"success"})},error:function(e){var t;return Util.hideLoadBox(),t=401===e.status?I18n.t("views.cards.edit.destroy_error"):Util.getAjaxErrorMessages(e),noty({text:t,type:"error"})}})}}(this),gon.showAlerts?Util.deleteConfirmation({closeOnConfirm:!0},n):n()})},i.prototype.bindPhaseForm=function(){return this.bindForm($(".card-form .card-content .phase-form"))},i.prototype.bindConnectedCardForms=function(){return $(".card-connected-cards-launcher .forms .connected-card-form").each(function(e){return function(t,i){return e.bindForm($(i))}}(this))},i.prototype.bindConnectedCardCreate=function(){return $(".card-connected-cards-launcher .forms").on("click",".connected-card-form .create-connected-card",function(e){return function(t){var i,n,o,r;return t.preventDefault(),n=$(t.target),i=n.closest(".card-data"),r=n.closest(".connected-card-form").find("form"),o=i.data("id"),Util.showLoadBox(),Helpers.Cards.jumpToNextPhase(o,{connected:!0}).always(function(){return Util.hideLoadBox()}).done(function(t){var n,o,a,s,l;return l=$(t),Helpers.Pipes.isCurrentPipe(i.data("pipe-id"))&&(s=$(".phase:first .phase-content"),s.find(".card-list").append(l.first()),gon.currentUser.movedCard&&s.scrollTo(".card-list .card:last-child",200),Helpers.Pipes.setClosedCardInfo(l.first()),Helpers.Pipes.updatePhasesCounters(),Helpers.Pipes.remakeCardsSortable($(".pipe-data"))),noty({text:I18n.t("views.launchpad_form.create_success"),type:"success"}),r.closest(".connected-card-form").remove(),a=l.last(),o=$(".card-connected-cards-launcher .created-connected-cards"),o.append(a),e.setConnectedCardDates(a),n=$(".card-form .card-block-wrapper"),n.scrollTo(".created-connected-cards .connected-card-item:last",200)})}}(this))},i.prototype.bindNewConnectedCard=function(){return $(".new-connected-card-pipe").on("click",function(e){return function(t){var i,n;return t.preventDefault(),n=$(t.target).data("id"),i=$(".card-show.card-data").data("id"),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/cards/"+i+"/create_connected_card",method:"post",accepts:"application/html; charset=utf-8",data:{no_layout:!0,pipe_id:n},complete:function(){return Util.hideLoadBox()},success:function(t){var i,n,o;return o=$(t),o.find(".panel-heading").removeClass("collapsed"),o.find(".panel-collapse").addClass("in"),n=$(".card-connected-cards-launcher .forms"),n.append(o),e.bindForm(o),i=$(".card-form .card-block-wrapper"),i.scrollTo(".card-connected-cards-launcher .forms .connected-card-form:last",200)},error:function(e){return Util.showAjaxErrorNoties(e)}})}}(this))},i.prototype.bindForm=function(e){return Helpers.Cards.bindForm(e,{afterSave:function(e){return function(t){var i,n;return n=_.map(t.card.labels,function(e){return e.id}),$("#open_card_label_picker").val(n).selectpicker("refresh"),i=_.map(t.card.assignees,function(e){return e.id}),$("#open_card_assignee_picker").val(i).selectpicker("refresh"),e.updateDueDateElements(moment(t.card.due_date).unix())}}(this)})},i.prototype.updateDueDateElements=function(e){var t,i,n;return t=$(".card-show.card-data"),t.data("due-date",e),this.setHeaderDueDate(t),i=t.data("id"),n=$("#card-"+i),n.data("due-date",e),Helpers.Pipes.setClosedCardInfo(n)},i.prototype.bindFooterPostComment=function(){return $(".card-form .btn-post-comment").on("click",function(e){return function(){return e.saveComment()}}(this)),$(".card-form #comment-area").on("keydown",function(e){return function(t){return(t.metaKey||t.ctrlKey)&&13===t.which?(t.preventDefault(),e.saveComment()):void 0}}(this))},i.prototype.bindInlineForms=function(e){return e.find(".inline-form input").on("focus",function(e){var t;return t=$(e.target).closest(".inline-form"),t.data("auto-hide")?t.addClass("focus"):void 0}).on("blur",function(e){var t;return t=$(e.target).closest(".inline-form"),t.data("auto-hide")&&""===$(e.target).val()?t.removeClass("focus"):void 0})},i.prototype.bindCardTitleEdit=function(){return $(".card-details .card-header .card-title").on("click",function(e){return function(t){return t.preventDefault(),e.openCardTitleForm($(t.target))}}(this))},i.prototype.bindCardTitleSave=function(){var e;return e=$(".card-details, .card-form").find(".card-header .card-title-form .btn-save"),e.on("click",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.saveCardTitleForm($(t.target))}}(this))},i.prototype.bindCardTitleCancel=function(){var e;return e=$(".card-details, .card-form").find(".card-header .card-title-form .btn-cancel"),e.on("click",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.closeCardTitleForm($(t.target))}}(this))},i.prototype.bindCardTitleEsc=function(){var e;return e=$(".card-details, .card-form").find(".card-header .card-title-form .inline-form input"),e.on("keyup",function(e){return function(t){return 27===t.which?(t.preventDefault(),t.stopPropagation(),e.closeCardTitleForm($(t.target))):void 0}}(this))},i.prototype.bindCardTitleEnter=function(){var e;return e=$(".card-details, .card-form").find(".card-header .card-title-form .inline-form input"),e.on("keyup",function(e){return function(t){return 13===t.which?(t.preventDefault(),t.stopPropagation(),e.saveCardTitleForm($(t.target))):void 0}}(this))},i.prototype.applyEditableFieldsPlugins=function(){var e;return e=$(".card-details"),Helpers.Cards.applyFieldsPlugins(e,{cyanIChecks:!0}),Helpers.Cards.bindLabelSelectors(e),Helpers.Cards.bindAssigneeSelectors(e)},i.prototype.bindEditableFieldClick=function(){return $(".card-details .detail-line.editable .content ").on("click",function(e){return function(t){var i;return i=$(t.target),i.is("a")?void 0:(t.preventDefault(),e.openEditableFieldForm($(t.target)))}}(this)),$(".card-details .detail-line a.field-label").not(".editable").on("click",function(e){return function(e){return e.preventDefault()}}(this))},i.prototype.unbindEditableFieldClick=function(){return $(".card-details .detail-line.editable").off("click"),$(".card-details .detail-line a.field-label").not(".editable").off("click")},i.prototype.bindEditableFieldCancelClick=function(){return $(".card-details .inline-field-component-form .btn-cancel").on("click",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.closeEditableFieldForm($(t.target))}}(this))},i.prototype.unbindEditableFieldCancelClick=function(){return $(".card-details .inline-field-component-form .btn-cancel").off("click")},i.prototype.bindEditableFieldEnter=function(){return $(".card-details .inline-field-component-form input").on("keyup",function(e){return function(t){return 13===t.which?(t.preventDefault(),t.stopPropagation(),e.saveEditableField($(t.target),$(t.target))):void 0}}(this))},i.prototype.unbindEditableFieldEnter=function(){return $(".card-details .inline-field-component-form input").off("keyup")},i.prototype.bindEditableFieldEsc=function(){return $(".card-details .inline-field-component-form input").on("keyup",function(e){return function(t){return 27===t.which?(t.preventDefault(),t.stopPropagation(),e.closeEditableFieldForm($(t.target))):void 0}}(this))},i.prototype.unbindEditableFieldEsc=function(){return $(".card-details .inline-field-component-form input").off("keyup")},i.prototype.bindEditableFieldSaveClick=function(){return $(".card-details .inline-field-component-form .btn-save").on("click",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.saveEditableField($(t.target),$(t.target).closest(".inline-field-component-form").find(".form-control"))}}(this))},i.prototype.unbindEditableFieldSaveClick=function(){return $(".card-details .inline-field-component-form .btn-save").off("click")},i.prototype.saveEditableField=function(e,t){return Helpers.Cards.saveField(t,{format:"html"}).done(function(t){return function(i){var n;return t.closeEditableFieldForm(e),n=$(i),e.closest(".detail-line").html(n.html()),t.cleanupEditableFields(),t.renderEditableFields()}}(this))},i.prototype.openEditableFieldForm=function(e){var t;return t=e.closest(".detail-line"),t.find(".content").addClass("hidden"),t.find(".inline-field-component-form").removeClass("hidden"),t.find("input, textarea").focus()},i.prototype.closeEditableFieldForm=function(e){var t;return t=e.closest(".detail-line"),t.find(".content").removeClass("hidden"),t.find(".inline-field-component-form").addClass("hidden")},i.prototype.saveCardTitleForm=function(e){var t,i,n;return t=e.closest(".inline-form").find("input#text"),i=e.closest(".card-data").data("id"),n=t.val(),Util.showLoadBox(),Helpers.Utils.pusherAjax({url:"/cards/"+i,method:"put",data:{no_layout:!0,card:{title:n}},complete:function(e){return function(){return Util.hideLoadBox()}}(this),success:function(t){return function(){return $("#card-"+i).find(".card-title").text(n),e.closest(".card-title").find(".card-name").text(n),t.closeCardTitleForm(e)}}(this),error:function(e){return function(e){return Util.showAjaxErrorNoties(e)}}(this)})},i.prototype.openCardTitleForm=function(e){var t,i;return i=e.closest(".card-header"),i.addClass("editing-title"),t=i.find(".card-title-form"),t.removeClass("hidden"),t.find("input").focus()},i.prototype.closeCardTitleForm=function(e){var t,i;return i=e.closest(".card-header"),i.removeClass("editing-title"),t=i.find(".card-title-form"),t.addClass("hidden")},i.prototype.saveComment=function(){var e,t,i;return e=$(".card-form .comment-field textarea"),i=e.val(),t=e.closest(".card-data").data("current-phase-detail-id"),e.val(""),this.closeCommentField(),Helpers.Utils.pusherAjax({url:"/comments",method:"post",accepts:"application/html; charset=utf-8",data:{no_layout:!0,comment:{card_phase_detail_id:t,text:i}},success:function(e){return function(t){var i,n;return i=$(".card-form .card-block-wrapper"),i.scrollTo(".phase-comments-container",200),n=i.find(".phase-comments-container"),n.find(".comments-container").prepend(t),n.find(".comment-block-title").removeClass("hidden"),e.formatCommentsDates(n)}}(this),error:function(e){return function(e){return Util.showAjaxErrorNoties(e)}}(this)})},i}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).DatabaseFields||(e.DatabaseFields={}),Views.DatabaseFields.Edit=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return Helpers.DatabaseFields.bindForm($(".database-field-form"))},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).DatabaseFields||(e.DatabaseFields={}),Views.DatabaseFields.New=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return Helpers.DatabaseFields.bindForm($(".database-field-form"))},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).DatabaseRecords||(e.DatabaseRecords={}),Views.DatabaseRecords.Edit=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return Helpers.DatabaseRecords.bindRecordForm($(".database-record-form"))},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).DatabaseRecords||(e.DatabaseRecords={}),Views.DatabaseRecords.Index=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){var e,t;return e=$("<div></div>"),e.html($("#records-options").text()),t=JSON.parse(e.text()),this.setupDataTable(t),this.bindAddRecord()},t.prototype.setupDataTable=function(e){var t,i,n;return n=$("#database-table"),this.dataTable=n.DataTable({autoWidth:!0,processing:!0,serverSide:!0,ajax:{url:$("#database-table").data("source"),type:"POST"},colReorder:!0,dom:"RfrtiS",scrollColapse:!0,scrollY:$(".content-wrapper").height()-$(".page-header").height()-205,scrollX:!0,scroller:!0,lengthChange:!1,deferRender:!0,searching:!0,pageLength:30,columns:e.columns_definitions}),this.dataTable.on("column-reorder",function(e,t,i){return Analytics.track("database_column_reorder")}),this.dataTable.on("column-visibility.dt",function(e,t,i){return Analytics.track("database_column_visibility_change")}),i=$("#database-table_filter"),i.addClass("database-records-search"),t=i.find("input").addClass("database-records-search-input"),i.append(t),i.find("label").remove(),t.attr("placeholder",I18n.t("views.database_tables.search_in",{"in":n.data("database-table-name")}))},t.prototype.bindAddRecord=function(){return $(".add-").click(function(e){return function(t){return t.preventDefault(),Helpers.DatabaseRecords.newRecord($(t.target).data("slug"),{onSubmit:function(){return e.dataTable.ajax.reload()}})}}(this))},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).DatabaseRecords||(e.DatabaseRecords={}),Views.DatabaseRecords.New=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return Helpers.DatabaseRecords.bindRecordForm($(".database-record-form"))},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Fields||(e.Fields={}),Views.Fields.Edit=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){var e;return e=$("#field_type_id"),e.data("old-value",e.val()),Helpers.Fields.renderForm()},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Fields||(e.Fields={}),Views.Fields.New=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return Helpers.Fields.renderForm()},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Launchpad||(e.Launchpad={}),Views.Launchpad.Index=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return t.__super__.render.call(this),this.bindAll()},t.prototype.cleanup=function(){return t.__super__.cleanup.call(this),this.unbindAll()},t.prototype.active=function(){return $(".launchpad-container").hasClass("active")},t.prototype.bindAll=function(){return $(".launchpad-close").on("click",function(e){return function(t){return t.preventDefault(),e.hideAndCleanup()}}(this)),$(".launchpad-container .pipe-item").click(function(e){return function(e){return e.preventDefault(),Helpers.Launchpad.openStartForm($(e.target).closest(".pipe-item").data("id"))}}(this))},t.prototype.unbindAll=function(){return $(".launchpad-close").off("click")},t.prototype.show=function(){return $(".launchpad-container").addClass("active"),Helpers.Launchpad.showOverlay()},t.prototype.hide=function(){return $(".launchpad-container").removeClass("active"),Helpers.Launchpad.hideOverlay()},t.prototype.hideAndCleanup=function(){return this.hide(),this.cleanup()},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Launchpad||(e.Launchpad={}),Views.Launchpad.StartForm=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return t.__super__.render.call(this),this.bindAll(),$(".startform-wrapper .form-control").first().focus()},t.prototype.cleanup=function(){return t.__super__.cleanup.call(this),this.unbindAll()},t.prototype.active=function(){return $(".startform-container").hasClass("active")},t.prototype.bindAll=function(){return this.bindClose(),this.preventFormSubmit(),this.bindNextPhase(),Helpers.Cards.bindForm($("#startform-container"),{cyanIChecks:!0})},t.prototype.preventFormSubmit=function(){return $(".startform-fields form").on("submit",function(e){return e.preventDefault(),e.stopPropagation()})},t.prototype.unbindAll=function(){return this.unbindClose()},t.prototype.show=function(){return $(".startform-container").addClass("active"),Helpers.Launchpad.showOverlay()},t.prototype.hide=function(e){var t,i;return null==e&&(e=!0),i=$.Deferred(),t=function(){return $(".startform-container").removeClass("active"),Helpers.Launchpad.hideOverlay(),i.resolve()},gon.showAlerts&&e?Util.confirmation({closeOnConfirm:!0,text:I18n.t("views.launchpad_form.close_confirm_text"),confirmButtonText:I18n.t("views.launchpad_form.close_confirm_button")},t):t(),i},t.prototype.hideAndCleanup=function(e){return null==e&&(e=!0),this.hide(e).done(function(e){return function(){return e.cleanup()}}(this))},t.prototype.bindClose=function(){return $(".startform-close").on("click",function(e){return function(t){return t.preventDefault(),e.hideAndCleanup()}}(this))},t.prototype.bindNextPhase=function(){return $(".btn.next-phase").on("click",function(e){return function(t){var i,n;return t.preventDefault(),n=$(t.target),n.addClass("disabled"),Util.showLoadBox(),i=n.closest(".card-data"),Helpers.Cards.createCard(i.data("id")).fail(function(){return n.removeClass("disabled"),Util.hideLoadBox()}).done(function(t){var n,o;return e.hideAndCleanup(!1),Helpers.Pipes.isCurrentPipe(i.data("pipe-id"))&&(n=$(t),o=$(".phase:first .phase-content"),o.find(".card-list").append(n),o.scrollTo(".card-list .card:last-child",200),Helpers.Pipes.toggleCreateFirstCard(),Helpers.Pipes.setClosedCardInfo(n),Helpers.Pipes.updatePhasesCounters(),Helpers.Pipes.remakeCardsSortable($(".pipe-data"))),noty({text:I18n.t("views.launchpad_form.create_success"),type:"success"}),Util.hideLoadBox()})}}(this))},t.prototype.unbindClose=function(){return $(".startform-close").off("click")},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Organizations||(e.Organizations={}),Views.Organizations.Edit=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return this.bindRemoveRole(),this.bindForm()},t.prototype.bindRemoveRole=function(){return $(".setup-item-remove-role").click(function(e){return e.preventDefault(),Util.deleteConfirmation({text:I18n.t("remove_org_user_confirmation"),closeOnConfirm:!0},function(e){return function(){var t;return t=$(".setup-form").data("id"),$.ajax({url:"/organizations/"+t+"/permissions",method:"delete",dataType:"json",data:{user_id:$(e).data("user-id")},success:function(t){return $(e).closest(".setup-item").slideUp()},error:function(e){return Util.showAjaxErrorMessages(e)}})}}(this))})},t.prototype.bindForm=function(){return $(".setup-item-role-select").change(function(e){var t;return t=$(".setup-form").data("id"),$.ajax({url:"/organizations/"+t+"/permissions",method:"put",dataType:"json",data:{role_name:$(this).val(),user_id:$(this).data("user-id")},success:function(e){return function(t){var i;return i=$(e).closest(".setup-item").find("em.feedback"),i.html(I18n.t("saved")).removeClass("error").addClass("success").hide().fadeIn(200)}}(this),error:function(e){return function(t){var i,n;return n=Util.getAjaxErrorMessages(t),i=$(e).closest(".phase-item").find("em.feedback"),i.html(n.join(", ")).removeClass("success").addClass("error").hide().fadeIn(200)}}(this)})})},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Organizations||(e.Organizations={}),Views.Organizations.New=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return this.bindSpinnerOnSubmit()},t.prototype.bindSpinnerOnSubmit=function(){return $("form").on("submit",function(e){return Util.showLoadBox()})},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Organizations||(e.Organizations={}),Views.Organizations.Show=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.beforeDocReady=function(){return this.adjustPipeItemsWidth()},t.prototype.render=function(){return this.bindOpenLaunchpad(),this.bindFilter(),this.bindPipeItemsWidth()},t.prototype.cleanup=function(){return this.unbindPipeItemsWidth()},t.prototype.bindOpenLaunchpad=function(){return $(".org-show-create-card").click(function(e){return e.preventDefault(),Helpers.Launchpad.openLaunchpad()})},t.prototype.bindFilter=function(){var e,t,i,n;return t=$(".org-show-pipe-filter-dropdown"),t.find(".preset").click(function(e){return Util.showLoadBox()}),t.find(".custom").click(function(e){return e.preventDefault(),$(".org-show-pipe-filter-custom").modal()}),e=$(".org-show-pipe-filter-custom"),n=e.find("#start-date"),i=e.find("#end-date"),n.datetimepicker({format:"L",useCurrent:!1,minDate:moment("2014-06-01").startOf("day")}).on("dp.change",function(e){return i.data("DateTimePicker").minDate(e.date)}),i.datetimepicker({format:"L",useCurrent:!1,maxDate:moment().endOf("day")}).on("dp.change",function(e){return n.data("DateTimePicker").maxDate(e.date)}),e.find(".apply").click(function(e){var t,o,r;return e.preventDefault(),Util.showLoadBox(),r=$(this).attr("href"),r+=-1===r.indexOf("?")?"?":"&",o=moment(n.val(),"DD/MM/YYYY"),t=moment(i.val(),"DD/MM/YYYY"),o>t&&(t=null),r+=$.param({filter_key:"custom",start_date:o.isValid()?o.format("YYYY-MM-DD"):void 0,end_date:t&&t.isValid()?t.format("YYYY-MM-DD"):void 0}),window.location=r})},t.prototype.bindPipeItemsWidth=function(){return $(window).on("resize.pipe-items-width",function(){return Views.Organizations.Show.adjustPipeItemsWidth()})},t.prototype.unbindPipeItemsWidth=function(){return $(window).off("resize.pipe-items-width")},t.adjustPipeItemsWidth=function(){var e,t;return e=$(".org-show-pipe-list").width(),t=Math.ceil(e/250)-1,$(".org-show-pipe-item").width(e/t-30),$(".org-show-pipe-create-call-to-action").width(e/t-92)},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Pipes||(e.Pipes={}),Views.Pipes.Edit=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return this.bindUp(),this.bindDown(),this.bindRoleSelect(),this.bindRemoveRole()},t.prototype.bindRemoveRole=function(){return $(".setup-item-remove-role").click(function(e){return e.preventDefault(),Util.deleteConfirmation({
text:I18n.t("remove_org_user_confirmation"),closeOnConfirm:!0},function(e){return function(){var t;return t=$(".setup-form").data("id"),$.ajax({url:"/pipes/"+t+"/permissions",method:"delete",dataType:"json",data:{user_id:$(e).data("user-id")},success:function(t){return $(e).closest(".setup-item").slideUp()},error:function(e){return Util.showAjaxErrorMessages(e)}})}}(this))})},t.prototype.bindRoleSelect=function(){return $(".setup-item-role-select").change(function(e){var t;return t=$(".setup-form").data("id"),$.ajax({url:"/pipes/"+t+"/permissions",method:"put",dataType:"json",data:{role_name:$(this).val(),user_id:$(this).data("user-id")},success:function(e){return function(t){var i;return i=$(e).closest(".setup-item").find("em.feedback"),i.html(I18n.t("saved")).removeClass("error").addClass("success").hide().fadeIn(200)}}(this),error:function(e){return function(t){var i,n;return n=Util.getAjaxErrorMessages(t),i=$(e).closest(".setup-item").find("em.feedback"),i.html(n.join(", ")).removeClass("success").addClass("error").hide().fadeIn(200)}}(this)})})},t.prototype.bindUp=function(){return $(".setup-item-order .up").click(function(e){var t,i;return e.preventDefault(),i=$(e.target).closest("a"),t=i.closest(".setup-item-movable"),t.addClass("flash"),$.ajax(i.attr("href"),{dataType:"json",type:"PUT"}).done(function(){return t=i.closest(".setup-item-movable"),t.insertBefore(t.prev())}).fail(function(e){return Util.showAjaxErrorNoties(e)})})},t.prototype.bindDown=function(){return $(".setup-item-order .down").click(function(e){var t,i;return e.preventDefault(),i=$(e.target).closest("a"),t=i.closest(".setup-item-movable"),t.addClass("flash"),$.ajax(i.attr("href"),{dataType:"json",type:"PUT"}).done(function(){return t=i.closest(".setup-item-movable"),t.insertAfter(t.next())}).fail(function(e){return Util.showAjaxErrorNoties(e)})})},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Pipes||(e.Pipes={}),Views.Pipes.PhaseList=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return t.__super__.render.call(this),this.adjustPipeSizes(),this.applyBindings(),this.applyCurrentUserPermissions(),this.showCreateFirstCard(),this.applyHorizontalDragScroll(),this.startCardDurationsUpdater(),this.subscribeToLiveUpdates(),Helpers.Pipes.makeCardsSortable($(".pipe-data"))},t.prototype.renderCards=function(){return this.applyEachCardFunctions($(".pipe-data")),Helpers.Pipes.remakeCardsSortable($(".pipe-data")),Helpers.PipeFilter.applyFilter()},t.prototype.cleanup=function(){return t.__super__.cleanup.call(this),this.removeBindings(),Helpers.Pipes.unmakeCardsSortable($(".pipe-data")),this.unsubscribeToLiveUpdates()},t.prototype.applyBindings=function(){return this.bindPipeResizes(),this.bindCardOpen(),this.bindCardPreload(),this.bindCreateCard()},t.prototype.removeBindings=function(){return $(window).off("resize.pipe"),$(window).off("resize.phase")},t.prototype.bindCreateCard=function(){return $(".create-first-card .create-card-btn").click(function(e){return e.preventDefault(),Helpers.Launchpad.openStartForm($(this).data("id"))})},t.prototype.applyCurrentUserPermissions=function(){return gon.currentUser.canEditPipe?($(".pipe .link").removeClass("hidden"),$(".pipe .no-link").addClass("hidden")):($(".pipe .link").addClass("hidden"),$(".pipe .no-link").removeClass("hidden"))},t.prototype.togglePhaseTooltips=function(){return $('[data-toggle="tooltip"]').tooltip()},t.prototype.showCreateFirstCard=function(){return Helpers.Pipes.toggleCreateFirstCard()},t.prototype.adjustPipeSizes=function(){var e,t,i,n,o,r;return r=$(window).height(),e=$(".join-pipe-header").outerHeight(),t=r-(135+e),n=$(".phase").length,o=$(".phase").outerWidth(),i=n*o,$(".phase-list-container").width(i),$(".phase-list").css("height",t)},t.prototype.applyHorizontalDragScroll=function(){return $(".phase-list").kinetic({cursor:"default",filterTarget:function(e){return!$(e).hasClass("card")&&!$(e).closest(".card").exists()}})},t.prototype.applyEachCardFunctions=function(e){return $(".new-card").each(function(e,t){return Helpers.Pipes.setClosedCardInfo($(t))})},t.prototype.startCardDurationsUpdater=function(){return setInterval(function(e){return function(){return $(".card").each(function(e,t){return Helpers.Pipes.setClosedCardInfo($(t))})}}(this),6e4)},t.prototype.subscribeToLiveUpdates=function(){var e,t,i,n;return null!=gon.pusher&&null==this.pipeChannel?(i=$(".pipe-content .pipe").data("token"),this.pipeChannel=gon.pusher.subscribe("v2-"+i),e=function(e){return function(e){return $.ajax({url:"/cards/"+e+"/closed_show",method:"get",accepts:"application/html; charset=utf-8",data:{no_layout:!0}})}}(this),t=function(t){return function(t,i){return e(t).done(function(e){var n,o;return $("#card-"+t).remove(),n=$(e),o=$("#phase-"+i+" .phase-content"),o.find(".card-list").append(n),Helpers.Pipes.setClosedCardInfo(n),Helpers.Pipes.updatePhasesCounters(),Helpers.Pipes.remakeCardsSortable($(".pipe-data")),Helpers.PipeFilter.applyFilter()})}}(this),n=function(t){return function(t){return e(t).done(function(e){var i;return i=$(e),$("#card-"+t).replaceWith(i),Helpers.Pipes.setClosedCardInfo(i),Helpers.Pipes.remakeCardsSortable($(".pipe-data")),Helpers.PipeFilter.applyFilter()})}}(this),this.pipeChannel.bind("card_move",function(e){return function(e){return t(e.card_id,e.current_phase_id)}}(this)),this.pipeChannel.bind("card_creation",function(e){return function(e){return t(e.card_id,e.current_phase_id)}}(this)),this.pipeChannel.bind("card_details_update",function(e){return function(e){return n(e.card_id)}}(this)),this.pipeChannel.bind("card_reorder",function(e){return function(e){var t;return t=e.current_phase_id,$.ajax({url:"/phases/"+t,method:"get",accepts:"application/html; charset=utf-8",data:{no_layout:!0}}).done(function(e){var i;return i=$(e).find(".card-list"),$("#phase-"+t+" .card-list").replaceWith(i),i.find(".card").each(function(e,t){return Helpers.Pipes.setClosedCardInfo($(t))}),Helpers.Pipes.remakeCardsSortable($(".pipe-data")),Helpers.PipeFilter.applyFilter()})}}(this))):void 0},t.prototype.unsubscribeToLiveUpdates=function(){return null!=this.pipeChannel?(this.pipeChannel.unsubscribe(),this.pipeChannel=null):void 0},t.prototype.bindPipeResizes=function(){return $(window).on("resize.pipe",$.proxy(this.adjustPipeSizes,this))},t.prototype.bindCardPreload=function(){var e;return e=null,$(".card-list").on("mouseover",".card",function(t){return $(".card-list").data("dragging")?void 0:e=setTimeout(function(e){return function(){var t;return t=$(e).data("id"),Helpers.Cards.preloadCard(t)}}(this),150)}),$(".card-list").on("mouseout",".card",function(t){return clearTimeout(e)})},t.prototype.bindCardOpen=function(){return $(".card-list").on("click",".card",function(e){var t;return e.preventDefault(),Helpers.Pipes.isReadOnly($(".pipe-data"))?(t=$(".join-pipe-button").addClass("join-pipe-button-bounce"),setTimeout(function(){return t.removeClass("join-pipe-button-bounce")},600)):window.location=$(this).find("a.card-title").attr("href")})},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Pipes||(e.Pipes={}),Views.Pipes.PublicForm=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return t.__super__.render.call(this),this.showElements(),this.customizeElements(),this.bindNextPhase(),Helpers.Cards.bindForm($("#startform-container"))},t.prototype.cleanup=function(){return t.__super__.cleanup.call(this),this.unbindAll()},t.prototype.showElements=function(){return $(".startform-header, #startform-close").hide()},t.prototype.customizeElements=function(){return $(".btn.next-phase").text(I18n.t("views.public_form.create_card_label"))},t.prototype.bindNextPhase=function(){return $(".btn.next-phase").on("click",function(e){return function(t){var i,n;return t.preventDefault(),n=$(t.target),n.addClass("disabled"),i=n.closest(".card-data"),Helpers.Cards.jumpToNextPhase(i.data("id"),{force_locale:I18n.locale}).always(function(){return n.removeClass("disabled")}).done(function(t){return e.showSuccessMessage()})}}(this))},t.prototype.hide=function(e){var t,i;return null==e&&(e=!0),i=$.Deferred(),t=function(){return $(".startform-container").removeClass("active"),Helpers.Launchpad.hideOverlay(),i.resolve()},gon.showAlerts&&e?Util.confirmation({closeOnConfirm:!0,text:I18n.t("views.launchpad_form.close_confirm_text"),confirmButtonText:I18n.t("views.launchpad_form.close_confirm_button")},t):t(),i},t.prototype.hideAndCleanup=function(e){return null==e&&(e=!0),this.hide(e).done(function(e){return function(){return e.cleanup()}}(this))},t.prototype.unbindAll=function(){return this.unbindClose()},t.prototype.unbindClose=function(){return $(".startform-close").off("click")},t.prototype.showSuccessMessage=function(){return $(".startform-fields").hide(),$(".public-form-success").show(),$(".startform-fields").hide(),$(".public-form-success").css("position","relative"),$(".public-form-success").css("margin-top","-100px"),$(".public-form-success").css("margin-bottom","100px"),$(".btn.btn-success.btn-block.next-phase.v2").hide(),$(".public-form").scrollTo(0)},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Pipes||(e.Pipes={}),Views.Pipes.Show=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return t.__super__.render.call(this),this.route(),setTimeout(function(e){return function(){return e.bindAll()}}(this),500)},t.prototype.cleanup=function(){return t.__super__.cleanup.call(this),this.unloadAll()},t.prototype.route=function(){var e,t,i;if(!this.routing){this.routing=!0;try{return i=window.location.hash,t=/^#\/?cards\/(\d+)$/gi,e=t.exec(i),null!=e?(Helpers.Cards.openCard(e[1]).fail(function(e){return Util.showAjaxErrorNoties(e)}),this.loadCards()):(this.loadCards(),Helpers.Cards.closeCard())}finally{this.routing=!1}}},t.prototype.loadCards=function(){var e;return null==this.phaseListView?(this.phaseListView=new Views.Pipes.PhaseList,this.phaseListView.render(),this.phaseListView.renderCards(),e=$(".pipe-data").data("id"),this.currentCardsPage=2,this.getCardsRequest(e,this.currentCardsPage)):void 0},t.prototype.getCardsRequest=function(e,t){return $.ajax({url:"/pipes/"+e+"/cards.json",data:{page:this.currentCardsPage}}).done(function(t){return function(i){return _.each(i.cards,function(e,t){var i;return e?(i=$(e),$("#cards-list-phase-"+t).append(i)):void 0}),t.phaseListView.renderCards(),i.paginate.total_cards>0?setTimeout(function(){return t.currentCardsPage++,t.getCardsRequest(e,t.currentCardsPage)},50*t.currentCardsPage):void 0}}(this))},t.prototype.bindAll=function(){return this.bindRouting(),this.bindCreateCard(),this.bindFilter(),this.bindClearFilter(),this.bindShortcuts()},t.prototype.bindShortcuts=function(){return Mousetrap.bind("f",function(){return Helpers.PipeFilter.show()}),Mousetrap.bind(["m","q"],function(){return $(".filter-member:not(.filter-current-user-member)").removeClass("checked"),$(".filter-current-user-member").toggleClass("checked"),Helpers.PipeFilter.applyFilter()}),Mousetrap.bind(["c","x"],function(){return Helpers.PipeFilter.clearFilter()}),Mousetrap.bind("space",function(){var e,t,i,n;return e=$(".closed-card:hover"),e.exists()?(i=e.data("id"),t=[],e.find(".assigned-member").map(function(e,i){return t.push($(i).data("id"))}),n=gon.currentUser.id,_.contains(t,n)?t.splice(t.indexOf(n),1):t.push(n),Helpers.Cards.saveAssignees(i,t)):void 0})},t.prototype.bindCreateCard=function(){return $(".create-card-btn").click(function(e){return e.preventDefault(),Helpers.Launchpad.openStartForm($(this).data("id"))})},t.prototype.bindRouting=function(){return window.onhashchange=$.proxy(this.route,this)},t.prototype.bindFilter=function(){return $(".action-filter").click(function(e){return e.preventDefault(),Helpers.PipeFilter.show()})},t.prototype.bindClearFilter=function(){return $(".action-remove-filter").on("click",function(e){return e.preventDefault(),Helpers.PipeFilter.clearFilter()})},t.prototype.unloadAll=function(){return Helpers.Cards.closeCard(),this.unloadPhaseList()},t.prototype.unloadPhaseList=function(){return this.phaseListView.cleanup(),this.phaseListView=null},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).UserSettings||(e.UserSettings={}),Views.UserSettings.Notifications=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return this.bindCollapseCallbacksTo($("#user_pipe_notification_settings_accordion .collapse"))},t.prototype.bindCollapseCallbacksTo=function(e){return e.on("show.bs.collapse",this.addCustomPipeConfiguration).on("hide.bs.collapse",this.removeCustomPipeConfiguration)},t.prototype.addCustomPipeConfiguration=function(){return $.ajax({url:"/user_pipe_settings/new.js",method:"get",data:{pipe_id:$(this).data("pipe")},error:function(e){return function(e){var t;return t=Util.getAjaxErrorMessages(e)}}(this)})},t.prototype.removeCustomPipeConfiguration=function(){return $.ajax({url:"/user_pipe_settings/"+$(this).data("pipe")+".js",method:"DELETE",error:function(e){return function(e){var t;return t=Util.getAjaxErrorMessages(e)}}(this)})},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Users||(e.Users={}),Views.Users.Edit=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return this.bindClickShow(),this.bindAuthToken()},t.prototype.bindClickShow=function(){return $(".btn-show-token").click(function(e){return function(e){return e.preventDefault(),$(".auth-token").show(),$(".btn-show-token").hide()}}(this))},t.prototype.bindAuthToken=function(){return $(".auth-token").click(function(){return $(".auth-token").select()})},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Welcome||(e.Welcome={}),Views.Welcome.InviteMembers=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return this.addField(),this.bindForm(),this.bindAddField(),this.bindSkip()},t.prototype.bindForm=function(){var e;return e=$(".welcome-invite-form"),e.on("submit.invites",function(t){var i;return t.preventDefault(),i=_.any(e.find(".welcome-invite-control"),function(e){return""!==$(e).val()}),i?(Analytics.track("invited_onboard_invite"),e.off("submit.invites"),e.submit()):(Analytics.track("skip_onboard_invite"),window.location=$(".welcome-invite-skip-link").attr("href"))})},t.prototype.bindAddField=function(){return $(".welcome-invite-form").on("click",".welcome-invite-add-field-link",function(e){return function(t){return t.preventDefault(),e.addField(),$(t.target).closest(".welcome-invite-add-field-link").remove()}}(this))},t.prototype.bindSkip=function(){return $(".welcome-invite-skip-link").on("click",function(){return Analytics.track("skip_onboard_invite")})},t.prototype.addField=function(){return $(".welcome-invite-fields").append($("#welcome-invite-field-template").html())},t}(Views.Application)}.call(this),function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};(e=window.Views).Welcome||(e.Welcome={}),Views.Welcome.Video=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return this.player=$f($(".vimeo-player")[0]),this.bindPlay(),this.bindSkip()},t.prototype.bindPlay=function(){return $(".js-play").click(function(e){return function(t){return t.preventDefault(),Analytics.track("played_welcome_video"),e.player.api("play").addEvent("finish",function(){return Analytics.track("finished_welcome_video"),$(".welcome-video-player-finish").show()}),$(".welcome-video-player-play").hide(),$(".welcome-video-player-finish").hide()}}(this))},t.prototype.bindSkip=function(){return $(".welcome-video-skip").click(function(){return Analytics.track("skiped_welcome_video")})},t}(Views.Application)}.call(this),function(){var error,pageLoad;pageLoad=function(){var className,error;return className=$("body").attr("data-js-class-name"),window.currentView=function(){try{return eval("new "+className+"()")}catch(_error){return error=_error,new Views.Application}}(),window.currentView.render()};try{eval(""+className+".beforeDocReady()")}catch(_error){error=_error,Views.Application.beforeDocReady()}$(function(){return pageLoad()})}.call(this);